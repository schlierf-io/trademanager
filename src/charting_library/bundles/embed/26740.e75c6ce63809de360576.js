(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[26740],{88987:e=>{e.exports={wrap:"wrap-uFE8C8hG",input:"input-uFE8C8hG",box:"box-uFE8C8hG",hoverDot:"hoverDot-uFE8C8hG",red:"red-uFE8C8hG",blue:"blue-uFE8C8hG",green:"green-uFE8C8hG",orange:"orange-uFE8C8hG",purple:"purple-uFE8C8hG",cyan:"cyan-uFE8C8hG",pink:"pink-uFE8C8hG",large:"large-uFE8C8hG",pickerDot:"pickerDot-uFE8C8hG"}},752022:e=>{e.exports={wrapper:"wrapper-iqgBiQcZ",buttons:"buttons-iqgBiQcZ",colorSelectButton:"colorSelectButton-iqgBiQcZ"}},218724:e=>{e.exports={wrapper:"wrapper-AE6toMmz",selector:"selector-AE6toMmz",arrowLeft:"arrowLeft-AE6toMmz",colorSelectButton:"colorSelectButton-AE6toMmz",popup:"popup-AE6toMmz"}},756982:e=>{e.exports={wrap:"wrap-zs6LaC_B",uiMarker:"uiMarker-zs6LaC_B",red:"red-zs6LaC_B",blue:"blue-zs6LaC_B",green:"green-zs6LaC_B",orange:"orange-zs6LaC_B",purple:"purple-zs6LaC_B",cyan:"cyan-zs6LaC_B",pink:"pink-zs6LaC_B",uiMarker__small:"uiMarker__small-zs6LaC_B"}},768550:e=>{e.exports={item:"item-bWEYVlEJ",interactive:"interactive-bWEYVlEJ",hovered:"hovered-bWEYVlEJ",disabled:"disabled-bWEYVlEJ",active:"active-bWEYVlEJ",shortcut:"shortcut-bWEYVlEJ",normal:"normal-bWEYVlEJ",big:"big-bWEYVlEJ",iconCell:"iconCell-bWEYVlEJ",icon:"icon-bWEYVlEJ",checkmark:"checkmark-bWEYVlEJ",content:"content-bWEYVlEJ",label:"label-bWEYVlEJ",checked:"checked-bWEYVlEJ",toolbox:"toolbox-bWEYVlEJ",showToolboxOnHover:"showToolboxOnHover-bWEYVlEJ",arrowIcon:"arrowIcon-bWEYVlEJ",subMenu:"subMenu-bWEYVlEJ",invisibleHotkey:"invisibleHotkey-bWEYVlEJ"}},503651:e=>{e.exports={item:"item-X2LmiiGx",emptyIcons:"emptyIcons-X2LmiiGx",loading:"loading-X2LmiiGx",disabled:"disabled-X2LmiiGx",interactive:"interactive-X2LmiiGx",hovered:"hovered-X2LmiiGx",normal:"normal-X2LmiiGx",big:"big-X2LmiiGx",icon:"icon-X2LmiiGx",label:"label-X2LmiiGx",title:"title-X2LmiiGx",nested:"nested-X2LmiiGx",shortcut:"shortcut-X2LmiiGx",remove:"remove-X2LmiiGx"}},481956:e=>{e.exports={separator:"separator-blm_vtaP"}},945966:e=>{e.exports={"default-drawer-min-top-distance":"100px",wrap:"wrap-yBUNQyVA",positionBottom:"positionBottom-yBUNQyVA",backdrop:"backdrop-yBUNQyVA",drawer:"drawer-yBUNQyVA",positionLeft:"positionLeft-yBUNQyVA"}},808065:(e,t,o)=>{"use strict";o.d(t,{getActions:()=>h});var s=o(50959),r=o(777754),n=o(795434),i=o(973580),l=o(779923),a=o(494966),c=o(345848);function h(e,t,h,m){const u=function(e,t,l,h){const m=r.t(null,void 0,o(182246)).format({symbol:(0,a.safeShortName)(t)}),u=e.getSymbolColor(t)||void 0,d=o=>{h(),window.runOrSignIn((()=>{l.setColor(o),e.setSymbolsColor([t],l.getColor()),(0,c.trackEvent)("Watchlist","Context menu","Flag")}),{source:"Set symbol color"})};return[new i.TVAction({label:m,onExecute:()=>d(l.getColor())}),new i.TVAction({jsxLabel:s.createElement(n.LabelColorSelector,{value:u,onChange:d}),doNotCloseOnClick:!0})]}(e,t,h,m);return null!==e.getSymbolColor(t)&&u.push(function(e,t){return new i.TVAction({label:r.t(null,void 0,o(684114)).format({symbol:(0,a.safeShortName)(t)}),onExecute:()=>{e.setSymbolsColor([t],null),(0,
c.trackEvent)("Watchlist","Context menu","Unflag")}})}(e,t)),u.push(function(e){return new i.TVAction({label:r.t(null,void 0,o(560342)),onExecute:()=>{var t;t=()=>{e.clearAllSymbolsColor()},(0,l.showConfirm)({text:r.t(null,void 0,o(654408)),onConfirm:({dialogClose:e})=>{t(),e()}}),(0,c.trackEvent)("Watchlist","Context menu","Unflag all")}})}(e)),u}},428019:(e,t,o)=>{"use strict";o.d(t,{ColorSelector:()=>C});var s,r=o(50959),n=o(797035),i=o(364511),l=o(497754),a=o.n(l),c=o(83436),h=o(948019),m=o(676809),u=o(24122),d=o(88987);const p=(0,i.makeSwitchGroupItem)(((s=class extends r.PureComponent{constructor(){super(...arguments),this._onClickIfChecked=()=>{this.props.onClickIfChecked&&this.props.onClickIfChecked(this.props.value)},this._onChange=()=>{this.props.onChange&&this.props.onChange(this.props.value)}}render(){var e,t;const{className:o,value:s,name:n,checked:i}=this.props,l=null!==(t=null===(e=this.context)||void 0===e?void 0:e.type)&&void 0!==t?t:"menu",h=s;return r.createElement("label",{className:a()(o,d.wrap,"drawer"===l&&d.large)},r.createElement("input",{className:d.input,type:"radio",name:n,value:s,checked:i,onChange:this._onChange,onClick:i?this._onClickIfChecked:void 0}),r.createElement("div",{className:a()(d.box,d[h],"drawer"===l&&d.large)},i?r.createElement(c.Icon,{icon:m}):r.createElement("div",{className:d.pickerDot},r.createElement(c.Icon,{className:d.hoverDot,icon:u}))))}}).contextType=h.ContextMenuContext,s.defaultProps={value:n.ListColor.Red},s));class C extends r.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this.props.onChange&&this.props.onChange(e)}}render(){const{buttonClassName:e,value:t,onSelectedClick:o}=this.props,s=n.LIST_COLORS.map(((t,s)=>r.createElement(p,{className:e,onClickIfChecked:o,key:s,value:t})));return r.createElement(i.SwitchGroup,{name:"color-selector",onChange:this._onChange,values:[t||""]},s)}}},795434:(e,t,o)=>{"use strict";o.d(t,{LabelColorSelector:()=>l});var s=o(50959),r=o(428019),n=o(587080),i=o(752022);class l extends s.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this.props.onChange(e)}}render(){const{value:e}=this.props;return s.createElement("span",{className:i.wrapper},s.createElement("span",{className:i.buttons,onClick:n.preventDefault},s.createElement(r.ColorSelector,{buttonClassName:i.colorSelectButton,value:e,onChange:this._onChange,onSelectedClick:this._onChange})))}}},589007:(e,t,o)=>{"use strict";o.d(t,{PopupColorSelector:()=>b});var s=o(50959),r=o(500962),n=o(670797),i=o(642709),l=o(18182),a=o(332585),c=o(67812),h=o(762852),m=o(768038),u=o(707533),d=o(428019),p=o(778785),C=o(218724);class v extends s.PureComponent{constructor(){super(...arguments),this._popUpElem=null,this._onChange=e=>{this.props.onSelectColor(e),this.props.hide()},this._onTargetMouseLeave=e=>{const t=!!e.relatedTarget.nodeName,o=e.relatedTarget===this._popUpElem,s=this._popUpElem&&t&&this._popUpElem.contains(e.relatedTarget);o||s||this.props.hide()},this._onPopUpMouseLeave=e=>{
const t=!!e.nativeEvent.relatedTarget.nodeName,o=e.nativeEvent.relatedTarget===this.props.elem,s=t&&this.props.elem.contains(e.nativeEvent.relatedTarget);o||s||this.props.hide()},this._onTouchStart=e=>{const t=!!e.target.nodeName,o=e.target===this.props.elem,s=e.target===this._popUpElem,r=t&&this.props.elem.contains(e.target),n=this._popUpElem&&t&&this._popUpElem.contains(e.target);o||r||s||n||this.props.hide()},this._setPopUpElem=e=>{this._popUpElem=e}}componentDidMount(){document.documentElement&&(p.mobiletouch?document.documentElement.addEventListener("touchstart",this._onTouchStart):(this.props.elem.addEventListener("mouseleave",this._onTargetMouseLeave),document.body.addEventListener("scroll",this.props.hide)))}componentWillUnmount(){document.documentElement&&(p.mobiletouch?document.documentElement.removeEventListener("touchstart",this._onTouchStart):this.props.elem&&(this.props.elem.removeEventListener("mouseleave",this._onTargetMouseLeave),document.documentElement.removeEventListener("scroll",this.props.hide)))}render(){const e={top:0,left:0};if(this.props.elem){const t=this.props.elem.getBoundingClientRect();e.top=t.top+t.height/2,e.left=t.left+((0,m.isRtl)()?0:t.width)}return s.createElement(u.Portal,null,s.createElement("div",{style:e,className:C.popup,ref:this._setPopUpElem,onMouseLeave:p.mobiletouch?void 0:this._onPopUpMouseLeave},s.createElement("div",{className:C.wrapper},s.createElement("div",{className:C.selector},s.createElement("div",{className:C.arrowLeft}),s.createElement(d.ColorSelector,{buttonClassName:C.colorSelectButton,value:this.props.currentColor,onChange:this._onChange})))))}}var _=o(948019);function g(e){const{actions:t,...o}=e;return s.createElement(l.MatchMedia,{rule:i.DialogBreakpoints.TabletSmall},(e=>e&&t?s.createElement(a.DrawerManager,null,s.createElement(_.ContextMenuContext.Provider,{value:{type:"drawer"}},s.createElement(h.Drawer,{onClose:o.hide,position:"Bottom"},s.createElement(c.ContextMenuList,{items:t})))):s.createElement(v,{...o})))}let E=null;var b;!function(e){function t(){E&&r.unmountComponentAtNode(E)}e.show=function(e){E||(E=document.createElement("div")),t(),r.render(s.createElement(n.SlotContext.Provider,{value:e.manager||null},s.createElement(g,{...e,hide:t})),E)},e.hide=t}(b||(b={}))},626740:(e,t,o)=>{"use strict";o.d(t,{SymbolMarker:()=>c,createSymbolMarkerStandalone:()=>m});o(984919);var s=o(346014),r=o(586584),n=o(589007),i=o(963754),l=o(642709),a=o(808065);class c{constructor(e){this._service=(0,r.getMarkedSymbolsListServiceInstance)(),this._colorManager=new i.ColorManager({context:i.ColorContext.SymbolMarker}),this._classes=[],this._onClick=e=>{e.preventDefault();const t=()=>{const e=(0,a.getActions)(this._service,this._symbol,this._colorManager,n.PopupColorSelector.hide),t=this._colorManager.getColor(),o={elem:this._uimarker.getElem(),currentColor:t,onSelectColor:this._onSelectColor,actions:e,manager:this._opts.manager};window.matchMedia(l.DialogBreakpoints.TabletSmall).matches?n.PopupColorSelector.show(o):null===this._color?(n.PopupColorSelector.show(o),
this._service.setSymbolsColor([this._symbol],t)):(n.PopupColorSelector.hide(),this._service.setSymbolsColor([this._symbol],null))},o=window.is_authenticated;window.runOrSignIn((()=>{o&&(this._opts.onClick?this._opts.onClick(this._symbol,t):t())}),{source:"Set symbol color"})},this._onSelectColor=e=>{this._colorManager.setColor(e),this._service.setSymbolsColor([this._symbol],this._colorManager.getColor())},this._onDblClick=e=>{e.preventDefault()},this._onChange=()=>{this._setState(this._service.getSymbolColor(this._symbol))},this._opts=e,this._symbol=e.symbol,this._color=e.color||this._service.getSymbolColor(this._symbol),this._uimarker=new s.UiMarker({color:this._color,container:e.container,onClick:this._onClick,onDblClick:this._onDblClick,specialImage:e.specialImage}),e.className&&this.setClassName(e.className),null!==this._color&&this._addActiveClassName(),this._service.onSymbolChange(this._symbol,this._onChange)}updateSubscription(){this._setState(this._service.getSymbolColor(this._symbol))}bindTo(e,t){this._service.offSymbolChange(this._symbol,this._onChange),this._symbol=e,this._uimarker.appendTo(t),this._setState(this._service.getSymbolColor(e)),this._service.onSymbolChange(e,this._onChange)}unbind(){this._service.offSymbolChange(this._symbol,this._onChange),this._uimarker.detach()}getElem(){return this._uimarker.getElem()}isMarked(){return null!==this._color}setClassName(e){this._uimarker.getElem().classList.remove(...this._classes),this._classes=e.split(" ").filter(Boolean),this._uimarker.getElem().classList.add(...this._classes)}destroy(){this.unbind(),delete this._uimarker,delete this._opts}_setState(e){const t=this.isMarked();this._color=e,null!==this._color?(this._uimarker.setColor(this._color),this._addActiveClassName()):(this._uimarker.removeColor(),this._removeActiveClassName()),void 0!==this._opts.onMarkedChanged&&t!==this.isMarked()&&this._opts.onMarkedChanged()}_addActiveClassName(){this._opts.activeClassName&&this._uimarker.addClass(this._opts.activeClassName)}_removeActiveClassName(){this._opts.activeClassName&&this._uimarker.removeClass(this._opts.activeClassName)}}class h extends c{constructor(e){super(e),this._onInit=()=>{this.updateSubscription()},this._service.onInit(this._onInit)}destroy(){this._service.offInit(this._onInit),super.destroy()}}function m(e){return new h(e)}},346014:(e,t,o)=>{"use strict";o.d(t,{UiMarker:()=>c});var s=o(797035),r=o(878134),n=o(904799),i=o(497754),l=o(778785),a=o(756982);class c{constructor(e){this._onClick=e=>{this._opts.onClick&&this._opts.onClick(e)},this._onDblClick=e=>{this._opts.onDblClick&&this._opts.onDblClick(e)},this._container=e.container,this._opts=e,this._elem=this._render(e),this._addEventListeners()}setColor(e){this.removeColor(),this._elem.classList.add(a[e])}removeColor(){this._elem.classList.remove(a[s.ListColor.Red],a[s.ListColor.Orange],a[s.ListColor.Purple],a[s.ListColor.Green],a[s.ListColor.Blue],a[s.ListColor.Cyan],a[s.ListColor.Pink])}addClass(e){this._elem.classList.add(e)}removeClass(e){this._elem.classList.remove(e)}getElem(){
return this._elem}appendTo(e){this.detach(),this._container=e,this._container.appendChild(this._elem),this._addEventListeners()}detach(){this._removeEventListeners(),this._container&&(this._container.removeChild(this._elem),delete this._container)}_render(e){const t=i(a.uiMarker,{[e.className]:Boolean(e.className),[a[e.color]]:Boolean(e.color)}),o=e.specialImage||n,s=(0,r.parseHtmlElement)(`<div class="${t}">${o}</div>`);if(!s)throw new Error("Can't parse html");return this._container&&this._container.appendChild(s),s}_addEventListeners(){const e=l.mobiletouch?"touchstart":"click";this._elem.addEventListener(e,this._onClick),this._opts.onDblClick&&this._elem.addEventListener("dblclick",this._onDblClick)}_removeEventListeners(){const e=l.mobiletouch?"touchstart":"click";this._elem.removeEventListener(e,this._onClick),this._opts.onDblClick&&this._elem.removeEventListener("dblclick",this._onDblClick)}}},948019:(e,t,o)=>{"use strict";o.d(t,{ContextMenuContext:()=>s});const s=o(50959).createContext(null)},582997:(e,t,o)=>{"use strict";o.d(t,{Hint:()=>l});var s=o(50959),r=o(497754),n=o.n(r),i=o(768550);function l(e){const{text:t="",className:o}=e;return s.createElement("span",{className:n()(i.shortcut,o)},t)}},886004:(e,t,o)=>{"use strict";o.d(t,{ContextMenuItem:()=>p});var s=o(50959),r=o(497754),n=o.n(r),i=o(83436),l=o(612247),a=o(302478),c=o(582997),h=o(339750),m=o(379978),u=o(69311),d=o(503651);function p(e){const{isTitle:t,isLoading:o,isHovered:r,active:p,checkable:C,disabled:v,checked:_,icon:g,iconChecked:E,hint:b,subItems:k,label:w,onClick:x,children:y,toolbox:L,jsxLabel:f,size:S="normal"}=e,N=(0,s.useContext)(a.EmptyIconsContext),M=!!k.length;return o?s.createElement("li",{className:n()(d.item,d.loading,d[S])},s.createElement(l.Loader,null)):s.createElement("li",{className:n()(d.item,d.interactive,t&&d.title,v&&d.disabled,r&&d.hovered,p&&d.active,N&&d.emptyIcons,d[S]),onClick:x},s.createElement(i.Icon,{className:n()(d.icon),icon:function(){if(C&&_)return E||g||h;return g}()}),s.createElement("span",{className:n()(d.label)},null!=f?f:w),!!L&&s.createElement(i.Icon,{onClick:function(){L&&L.action()},className:d.remove,icon:u}),!M&&b&&s.createElement(c.Hint,{className:d.shortcut,text:b}),M&&s.createElement(i.Icon,{className:d.nested,icon:m}),y)}},67812:(e,t,o)=>{"use strict";o.d(t,{ContextMenuList:()=>u});var s=o(50959),r=o(481956);function n(e){return s.createElement("li",{className:r.separator})}var i=o(886004),l=o(762852),a=o(224743);function c(e){const{action:t}=e,[o,r]=(0,s.useState)((()=>t.getState())),[n,c]=(0,s.useState)(!1),h=!!o.subItems.length,m=h&&n;return(0,s.useEffect)((()=>{const e=()=>r(t.getState());return t.onUpdate().subscribe(null,e),()=>{t.onUpdate().unsubscribe(null,e)}}),[]),s.createElement(i.ContextMenuItem,{...o,onClick:function(e){if(o.disabled||e.defaultPrevented)return;if(h)return void c(!0);o.doNotCloseOnClick||(0,a.globalCloseMenu)();t.execute()},isLoading:o.loading,isHovered:m},m&&s.createElement(l.Drawer,{onClose:d},s.createElement(u,{items:o.subItems,parentAction:t,closeNested:d})))
;function d(e){e&&e.preventDefault(),c(!1)}}var h=o(302478),m=o(366493);function u(e){const{items:t,parentAction:o,closeNested:r}=e,l=!Boolean(o)&&t.every((e=>!Boolean("separator"!==e.type&&(e.getState().icon||e.getState().checkable))));return s.createElement(h.EmptyIconsContext.Provider,{value:l},s.createElement("ul",null,o&&s.createElement(s.Fragment,null,s.createElement(i.ContextMenuItem,{label:o.getState().label,isTitle:!0,active:!1,disabled:!1,subItems:[],checkable:!1,checked:!1,doNotCloseOnClick:!1,icon:m,onClick:r}),s.createElement(n,null)),t.map((e=>{switch(e.type){case"action":return s.createElement(c,{key:e.id,action:e});case"separator":return s.createElement(n,{key:e.id})}}))))}},302478:(e,t,o)=>{"use strict";o.d(t,{EmptyIconsContext:()=>s});const s=o(50959).createContext(!1)},332585:(e,t,o)=>{"use strict";o.d(t,{DrawerManager:()=>n,DrawerContext:()=>i});var s=o(50959),r=o(575658);class n extends s.PureComponent{constructor(e){super(e),this._isBodyFixed=!1,this._addDrawer=e=>{this.setState((t=>({stack:[...t.stack,e]})))},this._removeDrawer=e=>{this.setState((t=>({stack:t.stack.filter((t=>t!==e))})))},this.state={stack:[]}}componentDidUpdate(e,t){!t.stack.length&&this.state.stack.length&&((0,r.setFixedBodyState)(!0),this._isBodyFixed=!0),t.stack.length&&!this.state.stack.length&&this._isBodyFixed&&((0,r.setFixedBodyState)(!1),this._isBodyFixed=!1)}componentWillUnmount(){this.state.stack.length&&this._isBodyFixed&&(0,r.setFixedBodyState)(!1)}render(){return s.createElement(i.Provider,{value:{addDrawer:this._addDrawer,removeDrawer:this._removeDrawer,currentDrawer:this.state.stack.length?this.state.stack[this.state.stack.length-1]:null}},this.props.children)}}const i=s.createContext(null)},762852:(e,t,o)=>{"use strict";o.d(t,{Drawer:()=>u});var s=o(50959),r=o(650151),n=o(497754),i=o(777491),l=o(707533),a=o(332585),c=o(320116),h=o(150881),m=o(945966);function u(e){const{position:t="Bottom",onClose:o,children:u,className:d,theme:p=m}=e,C=(0,r.ensureNotNull)((0,s.useContext)(a.DrawerContext)),[v]=(0,s.useState)((()=>(0,i.randomHash)())),_=(0,s.useRef)(null),g=(0,s.useContext)(c.CloseDelegateContext);return(0,s.useLayoutEffect)((()=>((0,r.ensureNotNull)(_.current).focus({preventScroll:!0}),g.subscribe(C,o),C.addDrawer(v),()=>{C.removeDrawer(v),g.unsubscribe(C,o)})),[]),s.createElement(l.Portal,null,s.createElement("div",{className:n(m.wrap,m[`position${t}`])},v===C.currentDrawer&&s.createElement("div",{className:m.backdrop,onClick:o}),s.createElement(h.TouchScrollContainer,{className:n(m.drawer,p.drawer,m[`position${t}`],d),tabIndex:-1,ref:_,"data-name":e["data-name"]},u)))}},366493:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.5 20L11 14.5 16.5 9"/></svg>'},379978:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M8 5l3.5 3.5L8 12"/></svg>'},339750:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 15l5 5L23 9"/></svg>'},69311:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M9.7 9l4.65-4.65-.7-.7L9 8.29 4.35 3.65l-.7.7L8.29 9l-4.64 4.65.7.7L9 9.71l4.65 4.64.7-.7L9.71 9z"/></svg>'},24122:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="currentColor" d="M4 8a4 4 0 1 0 8 0 4 4 0 1 0-8 0"/></svg>'},676809:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="evenodd" d="M0 8a8 8 0 1 0 16 0A8 8 0 1 0 0 8zm2 0a6 6 0 1 0 12 0A6 6 0 1 0 2 8zm2 0a4 4 0 1 0 8 0 4 4 0 1 0-8 0"/></svg>'},904799:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 12" width="14" height="12" fill="currentColor" focusable="false" preserveAspectRatio="none"><path d="M14 12l-4-6 4-6H0v12z"/></svg>'}}]);