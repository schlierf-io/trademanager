(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[50186],{88987:e=>{e.exports={wrap:"wrap-uFE8C8hG",input:"input-uFE8C8hG",box:"box-uFE8C8hG",hoverDot:"hoverDot-uFE8C8hG",red:"red-uFE8C8hG",blue:"blue-uFE8C8hG",green:"green-uFE8C8hG",orange:"orange-uFE8C8hG",purple:"purple-uFE8C8hG",cyan:"cyan-uFE8C8hG",pink:"pink-uFE8C8hG",large:"large-uFE8C8hG",pickerDot:"pickerDot-uFE8C8hG"}},752022:e=>{e.exports={wrapper:"wrapper-iqgBiQcZ",buttons:"buttons-iqgBiQcZ",colorSelectButton:"colorSelectButton-iqgBiQcZ"}},218724:e=>{e.exports={wrapper:"wrapper-AE6toMmz",selector:"selector-AE6toMmz",arrowLeft:"arrowLeft-AE6toMmz",colorSelectButton:"colorSelectButton-AE6toMmz",popup:"popup-AE6toMmz"}},756982:e=>{e.exports={wrap:"wrap-zs6LaC_B",uiMarker:"uiMarker-zs6LaC_B",red:"red-zs6LaC_B",blue:"blue-zs6LaC_B",green:"green-zs6LaC_B",orange:"orange-zs6LaC_B",purple:"purple-zs6LaC_B",cyan:"cyan-zs6LaC_B",pink:"pink-zs6LaC_B",uiMarker__small:"uiMarker__small-zs6LaC_B"}},849361:e=>{e.exports={dialog:"dialog-o2xKpnz8",wrapper:"wrapper-o2xKpnz8",separator:"separator-o2xKpnz8"}},424810:e=>{e.exports={"small-height-breakpoint":"screen and (max-height: 360px)",container:"container-HS2PTQRJ",unsetAlign:"unsetAlign-HS2PTQRJ",title:"title-HS2PTQRJ",subtitle:"subtitle-HS2PTQRJ",textWrap:"textWrap-HS2PTQRJ",ellipsis:"ellipsis-HS2PTQRJ",close:"close-HS2PTQRJ",icon:"icon-HS2PTQRJ"}},490585:e=>{e.exports={container:"container-nVh4c_cg",inputContainer:"inputContainer-nVh4c_cg",withCancel:"withCancel-nVh4c_cg",input:"input-nVh4c_cg",icon:"icon-nVh4c_cg",cancel:"cancel-nVh4c_cg"}},5522:e=>{e.exports={actions:"actions-j8KgAKeh",actionButton:"actionButton-j8KgAKeh"}},775850:e=>{e.exports={"tablet-small-breakpoint":"screen and (max-width: 430px)",itemRow:"itemRow-DPHbT8fH",multiLine:"multiLine-DPHbT8fH",cell:"cell-DPHbT8fH",itemInfoCell:"itemInfoCell-DPHbT8fH",description:"description-DPHbT8fH",symbolDescription:"symbolDescription-DPHbT8fH",flag:"flag-DPHbT8fH",exchangeDescription:"exchangeDescription-DPHbT8fH",marketType:"marketType-DPHbT8fH",exchangeName:"exchangeName-DPHbT8fH",actionHandleWrap:"actionHandleWrap-DPHbT8fH",hover:"hover-DPHbT8fH",selected:"selected-DPHbT8fH",active:"active-DPHbT8fH",highlighted:"highlighted-DPHbT8fH",light:"light-DPHbT8fH","highlight-animation-theme-light":"highlight-animation-theme-light-DPHbT8fH",dark:"dark-DPHbT8fH","highlight-animation-theme-dark":"highlight-animation-theme-dark-DPHbT8fH",markedFlag:"markedFlag-DPHbT8fH",offset:"offset-DPHbT8fH",descriptionCell:"descriptionCell-DPHbT8fH",addition:"addition-DPHbT8fH",exchangeCell:"exchangeCell-DPHbT8fH",fixedWidth:"fixedWidth-DPHbT8fH",expandHandle:"expandHandle-DPHbT8fH",expanded:"expanded-DPHbT8fH",symbolTitle:"symbolTitle-DPHbT8fH",invalid:"invalid-DPHbT8fH",noDescription:"noDescription-DPHbT8fH",highlightedText:"highlightedText-DPHbT8fH",icon:"icon-DPHbT8fH",narrow:"narrow-DPHbT8fH",wide:"wide-DPHbT8fH",dataMode:"dataMode-DPHbT8fH",actionsCell:"actionsCell-DPHbT8fH",action:"action-DPHbT8fH",targetAction:"targetAction-DPHbT8fH",
removeAction:"removeAction-DPHbT8fH",addAction:"addAction-DPHbT8fH",markedFlagWrap:"markedFlagWrap-DPHbT8fH",markedFlagMobile:"markedFlagMobile-DPHbT8fH",logo:"logo-DPHbT8fH",isExpandable:"isExpandable-DPHbT8fH"}},376719:e=>{e.exports={icon:"icon-dOveAnZr"}},844590:e=>{e.exports={smallWidthMenuItem:"smallWidthMenuItem-gAzopbLg",smallWidthTitle:"smallWidthTitle-gAzopbLg",button:"button-gAzopbLg"}},516036:e=>{e.exports={otherSymbols:"otherSymbols-SVZTqWhV",newStyles:"newStyles-SVZTqWhV",smallFont:"smallFont-SVZTqWhV",resetFilters:"resetFilters-SVZTqWhV",bold:"bold-SVZTqWhV",exchangeWrap:"exchangeWrap-SVZTqWhV",icon:"icon-SVZTqWhV",noResultsDesktop:"noResultsDesktop-SVZTqWhV",token:"token-SVZTqWhV",showMe:"showMe-SVZTqWhV"}},77463:e=>{e.exports={wrap:"wrap-jKCUPVoO",libAllSelected:"libAllSelected-jKCUPVoO",container:"container-jKCUPVoO",iconWrap:"iconWrap-jKCUPVoO",icon:"icon-jKCUPVoO",title:"title-jKCUPVoO",highlighted:"highlighted-jKCUPVoO",description:"description-jKCUPVoO",mobile:"mobile-jKCUPVoO",allSelected:"allSelected-jKCUPVoO",desktop:"desktop-jKCUPVoO",allSelectedIcon:"allSelectedIcon-jKCUPVoO",selected:"selected-jKCUPVoO",titleWithoutDesc:"titleWithoutDesc-jKCUPVoO",textBlock:"textBlock-jKCUPVoO",bordered:"bordered-jKCUPVoO"}},792378:e=>{e.exports={container:"container-uyneG5Xh",contentList:"contentList-uyneG5Xh",contentListDesktop:"contentListDesktop-uyneG5Xh",searchSourceItemsContainer:"searchSourceItemsContainer-uyneG5Xh",searchSourceItemsContainerDesktop:"searchSourceItemsContainerDesktop-uyneG5Xh",groupTitleDesktop:"groupTitleDesktop-uyneG5Xh",emptyText:"emptyText-uyneG5Xh",emptyIcon:"emptyIcon-uyneG5Xh",noResultsDesktop:"noResultsDesktop-uyneG5Xh"}},746432:e=>{e.exports={title:"title-vyAHpF2f"}},211261:e=>{e.exports={wrap:"wrap-KMA9DMBY",item:"item-KMA9DMBY",small:"small-KMA9DMBY",newStyles:"newStyles-KMA9DMBY",mobile:"mobile-KMA9DMBY",text:"text-KMA9DMBY",exchange:"exchange-KMA9DMBY",filterItem:"filterItem-KMA9DMBY",brokerWrap:"brokerWrap-KMA9DMBY"}},662632:e=>{e.exports={wrap:"wrap-vWG52QBW",watchlist:"watchlist-vWG52QBW",noFeed:"noFeed-vWG52QBW",newStyles:"newStyles-vWG52QBW",scrollContainer:"scrollContainer-vWG52QBW",listContainer:"listContainer-vWG52QBW",multiLineItemsContainer:"multiLineItemsContainer-vWG52QBW",withSpinner:"withSpinner-vWG52QBW",spinnerContainer:"spinnerContainer-vWG52QBW",largeSpinner:"largeSpinner-vWG52QBW"}},621865:e=>{e.exports={search:"search-eYX5YvkT",upperCase:"upperCase-eYX5YvkT",withFilters:"withFilters-eYX5YvkT",withButton:"withButton-eYX5YvkT",symbolType:"symbolType-eYX5YvkT",spinnerWrap:"spinnerWrap-eYX5YvkT",emptyText:"emptyText-eYX5YvkT",emptyIcon:"emptyIcon-eYX5YvkT",noResultsDesktop:"noResultsDesktop-eYX5YvkT",brokerButtonWrap:"brokerButtonWrap-eYX5YvkT",brokerButton:"brokerButton-eYX5YvkT"}},549694:e=>{e.exports={flagWrap:"flagWrap-iQpFFgN_",icon:"icon-iQpFFgN_",caret:"caret-iQpFFgN_",title:"title-iQpFFgN_",button:"button-iQpFFgN_",withFlag:"withFlag-iQpFFgN_",buttonContent:"buttonContent-iQpFFgN_"}},29926:e=>{e.exports={dialog:"dialog-gOKRJDH8",
tabletDialog:"tabletDialog-gOKRJDH8",desktopDialog:"desktopDialog-gOKRJDH8",backButton:"backButton-gOKRJDH8"}},573499:e=>{e.exports={childrenWrapper:"childrenWrapper-CePxGLxr",container:"container-CePxGLxr"}},153716:e=>{e.exports={container:"container-KVLHJAeI",visible:"visible-KVLHJAeI",forceVisible:"forceVisible-KVLHJAeI"}},100266:e=>{e.exports={bubbles:"bubbles-h48rLhJc",multiLine:"multiLine-h48rLhJc",bubble:"bubble-h48rLhJc"}},279930:e=>{e.exports={bubble:"bubble-lboSrOoc",animated:"animated-lboSrOoc",content:"content-lboSrOoc","appearance-default":"appearance-default-lboSrOoc",active:"active-lboSrOoc",red:"red-lboSrOoc",blue:"blue-lboSrOoc",green:"green-lboSrOoc",orange:"orange-lboSrOoc",purple:"purple-lboSrOoc",cyan:"cyan-lboSrOoc",pink:"pink-lboSrOoc","appearance-text":"appearance-text-lboSrOoc","fontSize-s":"fontSize-s-lboSrOoc","fontSize-m":"fontSize-m-lboSrOoc","size-m":"size-m-lboSrOoc","size-l":"size-l-lboSrOoc"}},768550:e=>{e.exports={item:"item-bWEYVlEJ",interactive:"interactive-bWEYVlEJ",hovered:"hovered-bWEYVlEJ",disabled:"disabled-bWEYVlEJ",active:"active-bWEYVlEJ",shortcut:"shortcut-bWEYVlEJ",normal:"normal-bWEYVlEJ",big:"big-bWEYVlEJ",iconCell:"iconCell-bWEYVlEJ",icon:"icon-bWEYVlEJ",checkmark:"checkmark-bWEYVlEJ",content:"content-bWEYVlEJ",label:"label-bWEYVlEJ",checked:"checked-bWEYVlEJ",toolbox:"toolbox-bWEYVlEJ",showToolboxOnHover:"showToolboxOnHover-bWEYVlEJ",arrowIcon:"arrowIcon-bWEYVlEJ",subMenu:"subMenu-bWEYVlEJ",invisibleHotkey:"invisibleHotkey-bWEYVlEJ"}},503651:e=>{e.exports={item:"item-X2LmiiGx",emptyIcons:"emptyIcons-X2LmiiGx",loading:"loading-X2LmiiGx",disabled:"disabled-X2LmiiGx",interactive:"interactive-X2LmiiGx",hovered:"hovered-X2LmiiGx",normal:"normal-X2LmiiGx",big:"big-X2LmiiGx",icon:"icon-X2LmiiGx",label:"label-X2LmiiGx",title:"title-X2LmiiGx",nested:"nested-X2LmiiGx",shortcut:"shortcut-X2LmiiGx",remove:"remove-X2LmiiGx"}},481956:e=>{e.exports={separator:"separator-blm_vtaP"}},683307:e=>{e.exports={highlighted:"highlighted-sanWmRqQ"}},94725:e=>{e.exports={separator:"separator-LQ6E1iWj"}},789768:(e,t,o)=>{"use strict";o.d(t,{BackButton:()=>g});var n=o(50959),r=o(897782),l=o(295694),a=o(249498),s=o(560176),i=o(935369),c=o(758478),u=o(773063),d=o(914127),m=o(218073),h=o(124097),p=o(142576);function v(e="large",t="1.2"){switch(e){case"large":return"1.2"===t?l:u;case"medium":return"1.2"===t?a:d;case"small":return"1.2"===t?s:m;case"xsmall":return"1.2"===t?i:h;case"xxsmall":return"1.2"===t?c:p;default:return a}}const g=n.forwardRef(((e,t)=>{const{"aria-label":o,...l}=e;return n.createElement(r.NavButton,{...l,"aria-label":o,ref:t,icon:v(e.size,e.iconStrokeWidth),flipIconOnRtl:!0})}))},808065:(e,t,o)=>{"use strict";o.d(t,{getActions:()=>u});var n=o(50959),r=o(777754),l=o(795434),a=o(973580),s=o(779923),i=o(494966),c=o(345848);function u(e,t,u,d){const m=function(e,t,s,u){const d=r.t(null,void 0,o(182246)).format({symbol:(0,i.safeShortName)(t)}),m=e.getSymbolColor(t)||void 0,h=o=>{u(),window.runOrSignIn((()=>{s.setColor(o),e.setSymbolsColor([t],s.getColor()),(0,
c.trackEvent)("Watchlist","Context menu","Flag")}),{source:"Set symbol color"})};return[new a.TVAction({label:d,onExecute:()=>h(s.getColor())}),new a.TVAction({jsxLabel:n.createElement(l.LabelColorSelector,{value:m,onChange:h}),doNotCloseOnClick:!0})]}(e,t,u,d);return null!==e.getSymbolColor(t)&&m.push(function(e,t){return new a.TVAction({label:r.t(null,void 0,o(684114)).format({symbol:(0,i.safeShortName)(t)}),onExecute:()=>{e.setSymbolsColor([t],null),(0,c.trackEvent)("Watchlist","Context menu","Unflag")}})}(e,t)),m.push(function(e){return new a.TVAction({label:r.t(null,void 0,o(560342)),onExecute:()=>{var t;t=()=>{e.clearAllSymbolsColor()},(0,s.showConfirm)({text:r.t(null,void 0,o(654408)),onConfirm:({dialogClose:e})=>{t(),e()}}),(0,c.trackEvent)("Watchlist","Context menu","Unflag all")}})}(e)),m}},428019:(e,t,o)=>{"use strict";o.d(t,{ColorSelector:()=>v});var n,r=o(50959),l=o(797035),a=o(364511),s=o(497754),i=o.n(s),c=o(83436),u=o(948019),d=o(676809),m=o(24122),h=o(88987);const p=(0,a.makeSwitchGroupItem)(((n=class extends r.PureComponent{constructor(){super(...arguments),this._onClickIfChecked=()=>{this.props.onClickIfChecked&&this.props.onClickIfChecked(this.props.value)},this._onChange=()=>{this.props.onChange&&this.props.onChange(this.props.value)}}render(){var e,t;const{className:o,value:n,name:l,checked:a}=this.props,s=null!==(t=null===(e=this.context)||void 0===e?void 0:e.type)&&void 0!==t?t:"menu",u=n;return r.createElement("label",{className:i()(o,h.wrap,"drawer"===s&&h.large)},r.createElement("input",{className:h.input,type:"radio",name:l,value:n,checked:a,onChange:this._onChange,onClick:a?this._onClickIfChecked:void 0}),r.createElement("div",{className:i()(h.box,h[u],"drawer"===s&&h.large)},a?r.createElement(c.Icon,{icon:d}):r.createElement("div",{className:h.pickerDot},r.createElement(c.Icon,{className:h.hoverDot,icon:m}))))}}).contextType=u.ContextMenuContext,n.defaultProps={value:l.ListColor.Red},n));class v extends r.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this.props.onChange&&this.props.onChange(e)}}render(){const{buttonClassName:e,value:t,onSelectedClick:o}=this.props,n=l.LIST_COLORS.map(((t,n)=>r.createElement(p,{className:e,onClickIfChecked:o,key:n,value:t})));return r.createElement(a.SwitchGroup,{name:"color-selector",onChange:this._onChange,values:[t||""]},n)}}},795434:(e,t,o)=>{"use strict";o.d(t,{LabelColorSelector:()=>s});var n=o(50959),r=o(428019),l=o(587080),a=o(752022);class s extends n.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this.props.onChange(e)}}render(){const{value:e}=this.props;return n.createElement("span",{className:a.wrapper},n.createElement("span",{className:a.buttons,onClick:l.preventDefault},n.createElement(r.ColorSelector,{buttonClassName:a.colorSelectButton,value:e,onChange:this._onChange,onSelectedClick:this._onChange})))}}},589007:(e,t,o)=>{"use strict";o.d(t,{PopupColorSelector:()=>y})
;var n=o(50959),r=o(500962),l=o(670797),a=o(642709),s=o(18182),i=o(332585),c=o(67812),u=o(762852),d=o(768038),m=o(707533),h=o(428019),p=o(778785),v=o(218724);class g extends n.PureComponent{constructor(){super(...arguments),this._popUpElem=null,this._onChange=e=>{this.props.onSelectColor(e),this.props.hide()},this._onTargetMouseLeave=e=>{const t=!!e.relatedTarget.nodeName,o=e.relatedTarget===this._popUpElem,n=this._popUpElem&&t&&this._popUpElem.contains(e.relatedTarget);o||n||this.props.hide()},this._onPopUpMouseLeave=e=>{const t=!!e.nativeEvent.relatedTarget.nodeName,o=e.nativeEvent.relatedTarget===this.props.elem,n=t&&this.props.elem.contains(e.nativeEvent.relatedTarget);o||n||this.props.hide()},this._onTouchStart=e=>{const t=!!e.target.nodeName,o=e.target===this.props.elem,n=e.target===this._popUpElem,r=t&&this.props.elem.contains(e.target),l=this._popUpElem&&t&&this._popUpElem.contains(e.target);o||r||n||l||this.props.hide()},this._setPopUpElem=e=>{this._popUpElem=e}}componentDidMount(){document.documentElement&&(p.mobiletouch?document.documentElement.addEventListener("touchstart",this._onTouchStart):(this.props.elem.addEventListener("mouseleave",this._onTargetMouseLeave),document.body.addEventListener("scroll",this.props.hide)))}componentWillUnmount(){document.documentElement&&(p.mobiletouch?document.documentElement.removeEventListener("touchstart",this._onTouchStart):this.props.elem&&(this.props.elem.removeEventListener("mouseleave",this._onTargetMouseLeave),document.documentElement.removeEventListener("scroll",this.props.hide)))}render(){const e={top:0,left:0};if(this.props.elem){const t=this.props.elem.getBoundingClientRect();e.top=t.top+t.height/2,e.left=t.left+((0,d.isRtl)()?0:t.width)}return n.createElement(m.Portal,null,n.createElement("div",{style:e,className:v.popup,ref:this._setPopUpElem,onMouseLeave:p.mobiletouch?void 0:this._onPopUpMouseLeave},n.createElement("div",{className:v.wrapper},n.createElement("div",{className:v.selector},n.createElement("div",{className:v.arrowLeft}),n.createElement(h.ColorSelector,{buttonClassName:v.colorSelectButton,value:this.props.currentColor,onChange:this._onChange})))))}}var b=o(948019);function S(e){const{actions:t,...o}=e;return n.createElement(s.MatchMedia,{rule:a.DialogBreakpoints.TabletSmall},(e=>e&&t?n.createElement(i.DrawerManager,null,n.createElement(b.ContextMenuContext.Provider,{value:{type:"drawer"}},n.createElement(u.Drawer,{onClose:o.hide,position:"Bottom"},n.createElement(c.ContextMenuList,{items:t})))):n.createElement(g,{...o})))}let f=null;var y;!function(e){function t(){f&&r.unmountComponentAtNode(f)}e.show=function(e){f||(f=document.createElement("div")),t(),r.render(n.createElement(l.SlotContext.Provider,{value:e.manager||null},n.createElement(S,{...e,hide:t})),f)},e.hide=t}(y||(y={}))},626740:(e,t,o)=>{"use strict";o.d(t,{SymbolMarker:()=>c,createSymbolMarkerStandalone:()=>d});o(984919);var n=o(346014),r=o(586584),l=o(589007),a=o(963754),s=o(642709),i=o(808065);class c{constructor(e){this._service=(0,r.getMarkedSymbolsListServiceInstance)(),
this._colorManager=new a.ColorManager({context:a.ColorContext.SymbolMarker}),this._classes=[],this._onClick=e=>{e.preventDefault();const t=()=>{const e=(0,i.getActions)(this._service,this._symbol,this._colorManager,l.PopupColorSelector.hide),t=this._colorManager.getColor(),o={elem:this._uimarker.getElem(),currentColor:t,onSelectColor:this._onSelectColor,actions:e,manager:this._opts.manager};window.matchMedia(s.DialogBreakpoints.TabletSmall).matches?l.PopupColorSelector.show(o):null===this._color?(l.PopupColorSelector.show(o),this._service.setSymbolsColor([this._symbol],t)):(l.PopupColorSelector.hide(),this._service.setSymbolsColor([this._symbol],null))},o=window.is_authenticated;window.runOrSignIn((()=>{o&&(this._opts.onClick?this._opts.onClick(this._symbol,t):t())}),{source:"Set symbol color"})},this._onSelectColor=e=>{this._colorManager.setColor(e),this._service.setSymbolsColor([this._symbol],this._colorManager.getColor())},this._onDblClick=e=>{e.preventDefault()},this._onChange=()=>{this._setState(this._service.getSymbolColor(this._symbol))},this._opts=e,this._symbol=e.symbol,this._color=e.color||this._service.getSymbolColor(this._symbol),this._uimarker=new n.UiMarker({color:this._color,container:e.container,onClick:this._onClick,onDblClick:this._onDblClick,specialImage:e.specialImage}),e.className&&this.setClassName(e.className),null!==this._color&&this._addActiveClassName(),this._service.onSymbolChange(this._symbol,this._onChange)}updateSubscription(){this._setState(this._service.getSymbolColor(this._symbol))}bindTo(e,t){this._service.offSymbolChange(this._symbol,this._onChange),this._symbol=e,this._uimarker.appendTo(t),this._setState(this._service.getSymbolColor(e)),this._service.onSymbolChange(e,this._onChange)}unbind(){this._service.offSymbolChange(this._symbol,this._onChange),this._uimarker.detach()}getElem(){return this._uimarker.getElem()}isMarked(){return null!==this._color}setClassName(e){this._uimarker.getElem().classList.remove(...this._classes),this._classes=e.split(" ").filter(Boolean),this._uimarker.getElem().classList.add(...this._classes)}destroy(){this.unbind(),delete this._uimarker,delete this._opts}_setState(e){const t=this.isMarked();this._color=e,null!==this._color?(this._uimarker.setColor(this._color),this._addActiveClassName()):(this._uimarker.removeColor(),this._removeActiveClassName()),void 0!==this._opts.onMarkedChanged&&t!==this.isMarked()&&this._opts.onMarkedChanged()}_addActiveClassName(){this._opts.activeClassName&&this._uimarker.addClass(this._opts.activeClassName)}_removeActiveClassName(){this._opts.activeClassName&&this._uimarker.removeClass(this._opts.activeClassName)}}class u extends c{constructor(e){super(e),this._onInit=()=>{this.updateSubscription()},this._service.onInit(this._onInit)}destroy(){this._service.offInit(this._onInit),super.destroy()}}function d(e){return new u(e)}},346014:(e,t,o)=>{"use strict";o.d(t,{UiMarker:()=>c});var n=o(797035),r=o(878134),l=o(904799),a=o(497754),s=o(778785),i=o(756982);class c{constructor(e){this._onClick=e=>{
this._opts.onClick&&this._opts.onClick(e)},this._onDblClick=e=>{this._opts.onDblClick&&this._opts.onDblClick(e)},this._container=e.container,this._opts=e,this._elem=this._render(e),this._addEventListeners()}setColor(e){this.removeColor(),this._elem.classList.add(i[e])}removeColor(){this._elem.classList.remove(i[n.ListColor.Red],i[n.ListColor.Orange],i[n.ListColor.Purple],i[n.ListColor.Green],i[n.ListColor.Blue],i[n.ListColor.Cyan],i[n.ListColor.Pink])}addClass(e){this._elem.classList.add(e)}removeClass(e){this._elem.classList.remove(e)}getElem(){return this._elem}appendTo(e){this.detach(),this._container=e,this._container.appendChild(this._elem),this._addEventListeners()}detach(){this._removeEventListeners(),this._container&&(this._container.removeChild(this._elem),delete this._container)}_render(e){const t=a(i.uiMarker,{[e.className]:Boolean(e.className),[i[e.color]]:Boolean(e.color)}),o=e.specialImage||l,n=(0,r.parseHtmlElement)(`<div class="${t}">${o}</div>`);if(!n)throw new Error("Can't parse html");return this._container&&this._container.appendChild(n),n}_addEventListeners(){const e=s.mobiletouch?"touchstart":"click";this._elem.addEventListener(e,this._onClick),this._opts.onDblClick&&this._elem.addEventListener("dblclick",this._onDblClick)}_removeEventListeners(){const e=s.mobiletouch?"touchstart":"click";this._elem.removeEventListener(e,this._onClick),this._opts.onDblClick&&this._elem.removeEventListener("dblclick",this._onDblClick)}}},713438:(e,t,o)=>{"use strict";o.d(t,{flagUrl:()=>a,getMockedFlag:()=>s});var n=o(61499),r=o(849204);const l={erl:"EU",uk:"GB",bitcoin:"BTC"};function a(e,t,o=r.LogoSize.Medium){return e?(e.toLowerCase()in l&&(e=l[e]),(0,r.getLogoUrlResolver)().getCountryFlagUrl(e.toUpperCase(),o)):s(t)}function s(e){return e===n.StdTheme.Dark?o(364494):o(102495)}},531424:(e,t,o)=>{"use strict";o.d(t,{AdaptivePopupDialog:()=>E});var n=o(50959),r=o(650151);var l=o(497754),a=o.n(l),s=o(470316),i=o(515312),c=o(992697),u=o(221155),d=o(642709),m=o(18182),h=o(8629),p=o(744359),v=o(332450),g=o(251954),b=o(772626),S=o(551080),f=o(849361);const y={vertical:20},C={vertical:0};class E extends n.PureComponent{constructor(){super(...arguments),this._controller=null,this._reference=null,this._orientationMediaQuery=null,this._renderChildren=(e,t)=>(this._controller=e,this.props.render({requestResize:this._requestResize,centerAndFit:this._centerAndFit,isSmallWidth:t})),this._handleReference=e=>this._reference=e,this._handleCloseBtnClick=()=>{this.props.onKeyboardClose&&this.props.onKeyboardClose(),this._handleClose()},this._handleClose=()=>{this.props.onClose()},this._handleOpen=()=>{void 0!==this.props.onOpen&&this.props.isOpened&&this.props.onOpen(this.props.fullScreen||window.matchMedia(d.DialogBreakpoints.TabletSmall).matches)},this._handleKeyDown=e=>{if(!e.defaultPrevented){if(this.props.onKeyDown&&this.props.onKeyDown(e),27===(0,s.hashFromEvent)(e)){if(e.defaultPrevented)return;if(this.props.forceCloseOnEsc&&this.props.forceCloseOnEsc())return this.props.onKeyboardClose&&this.props.onKeyboardClose(),
void this._handleClose();const{activeElement:o}=document,n=(0,r.ensureNotNull)(this._reference);if(null!==o){if(e.preventDefault(),"true"===(t=o).getAttribute("data-haspopup")&&"true"!==t.getAttribute("data-expanded"))return void this._handleClose();if((0,i.isTextEditingField)(o))return void n.focus();if(n.contains(o))return this.props.onKeyboardClose&&this.props.onKeyboardClose(),void this._handleClose()}}var t;(function(e){if("function"==typeof e)return e();return Boolean(e)})(this.props.disableTabNavigationContainment)||(0,p.containTabNavigation)(e)}},this._requestResize=()=>{null!==this._controller&&this._controller.recalculateBounds()},this._centerAndFit=()=>{null!==this._controller&&this._controller.centerAndFit()}}componentDidMount(){var e,t;this.props.ignoreClosePopupsAndDialog||g.subscribe(v.CLOSE_POPUPS_AND_DIALOGS_COMMAND,this._handleClose,null),this._handleOpen(),void 0!==this.props.onOpen&&(this._orientationMediaQuery=window.matchMedia("(orientation: portrait)"),e=this._orientationMediaQuery,t=this._handleOpen,(null==e?void 0:e.addEventListener)?e.addEventListener("change",t):e.addListener(t))}componentWillUnmount(){var e,t;this.props.ignoreClosePopupsAndDialog||g.unsubscribe(v.CLOSE_POPUPS_AND_DIALOGS_COMMAND,this._handleClose,null),null!==this._orientationMediaQuery&&(e=this._orientationMediaQuery,t=this._handleOpen,(null==e?void 0:e.removeEventListener)?e.removeEventListener("change",t):e.removeListener(t))}focus(){(0,r.ensureNotNull)(this._reference).focus()}getElement(){return this._reference}contains(e){var t,o;return null!==(o=null===(t=this._reference)||void 0===t?void 0:t.contains(e))&&void 0!==o&&o}render(){const{className:e,wrapperClassName:t,headerClassName:o,isOpened:r,title:l,titleTextWrap:s,dataName:i,onClickOutside:p,additionalElementPos:v,additionalHeaderElement:g,backdrop:E,shouldForceFocus:x=!0,showSeparator:k,subtitle:_,draggable:w=!0,fullScreen:T=!1,showCloseIcon:L=!0,rounded:N=!0,isAnimationEnabled:I,growPoint:M,dialogTooltip:D,unsetHeaderAlign:B,onDragStart:P,dataDialogName:A,closeAriaLabel:F,containerAriaLabel:R,reference:O,containerTabIndex:H,closeButtonReference:V,onCloseButtonKeyDown:W}=this.props,G="after"!==v?g:void 0,U="after"===v?g:void 0,z="string"==typeof l?l:A||"",K=(0,S.mergeRefs)([this._handleReference,O]);return n.createElement(m.MatchMedia,{rule:d.DialogBreakpoints.SmallHeight},(v=>n.createElement(m.MatchMedia,{rule:d.DialogBreakpoints.TabletSmall},(d=>n.createElement(c.PopupDialog,{rounded:!(d||T)&&N,className:a()(f.dialog,e),isOpened:r,reference:K,onKeyDown:this._handleKeyDown,onClickOutside:p,onClickBackdrop:p,fullscreen:d||T,guard:v?C:y,boundByScreen:d||T,shouldForceFocus:x,backdrop:E,draggable:w,isAnimationEnabled:I,growPoint:M,name:this.props.dataName,dialogTooltip:D,onDragStart:P,containerAriaLabel:R,containerTabIndex:H},n.createElement("div",{className:a()(f.wrapper,t),"data-name":i,"data-dialog-name":z},void 0!==l&&n.createElement(b.DialogHeader,{draggable:w&&!(d||T),onClose:this._handleCloseBtnClick,renderAfter:U,renderBefore:G,subtitle:_,title:l,
titleTextWrap:s,showCloseIcon:L,className:o,unsetAlign:B,closeAriaLabel:F,closeButtonReference:V,onCloseButtonKeyDown:W}),k&&n.createElement(u.Separator,{className:f.separator}),n.createElement(h.PopupContext.Consumer,null,(e=>this._renderChildren(e,d||T)))))))))}}},909591:(e,t,o)=>{"use strict";o.d(t,{DialogHeaderContext:()=>n});const n=o(50959).createContext({setHideClose:()=>{}})},772626:(e,t,o)=>{"use strict";o.d(t,{DialogHeader:()=>u});var n=o(50959),r=o(497754),l=o.n(r),a=o(83436),s=o(909591),i=o(507720),c=o(424810);function u(e){const{title:t,titleTextWrap:o=!1,subtitle:r,showCloseIcon:u=!0,onClose:d,onCloseButtonKeyDown:m,renderBefore:h,renderAfter:p,draggable:v,className:g,unsetAlign:b,closeAriaLabel:S,closeButtonReference:f}=e,[y,C]=(0,n.useState)(!1);return n.createElement(s.DialogHeaderContext.Provider,{value:{setHideClose:C}},n.createElement("div",{className:l()(c.container,g,(r||b)&&c.unsetAlign)},h,n.createElement("div",{"data-dragg-area":v,className:c.title},n.createElement("div",{className:l()(o?c.textWrap:c.ellipsis)},t),r&&n.createElement("div",{className:l()(c.ellipsis,c.subtitle)},r)),p,u&&!y&&n.createElement("button",{className:c.close,onClick:d,onKeyDown:m,"data-name":"close","aria-label":S,type:"button",ref:f},n.createElement(a.Icon,{className:c.icon,icon:i,"data-name":"close","data-role":"button"}))))}},986623:(e,t,o)=>{"use strict";o.d(t,{DialogSearch:()=>u});var n=o(50959),r=o(497754),l=o.n(r),a=o(777754),s=o(83436),i=o(969859),c=o(490585);function u(e){const{children:t,renderInput:r,onCancel:u,containerClassName:m,inputContainerClassName:h,iconClassName:p,...v}=e;return n.createElement("div",{className:l()(c.container,m)},n.createElement("div",{className:l()(c.inputContainer,h,u&&c.withCancel)},r||n.createElement(d,{...v})),t,n.createElement(s.Icon,{className:l()(c.icon,p),icon:i}),u&&n.createElement("div",{className:c.cancel,onClick:u},a.t(null,void 0,o(620036))))}function d(e){const{className:t,reference:o,value:r,onChange:a,onFocus:s,onBlur:i,onKeyDown:u,onSelect:d,placeholder:m,...h}=e;return n.createElement("input",{...h,ref:o,type:"text",className:l()(t,c.input),autoComplete:"off","data-role":"search",placeholder:m,value:r,onChange:a,onFocus:s,onBlur:i,onSelect:d,onKeyDown:u})}},62959:(e,t,o)=>{"use strict";o.d(t,{isContractExtended:()=>C,SymbolSearchDialogContentItem:()=>E});var n=o(50959),r=o(497754),l=o.n(r),a=o(650151),s=o(83436),i=o(87476),c=o(89248),u=o(61499),d=o(631078),m=o(331633),h=o(778785),p=o(314802),v=o(855747),g=o(824317),b=o(478710),S=o(894729),f=o(569533),y=o(775850);function C(e){return e.hasOwnProperty("parent")}function E(e){var t,o
;const{dangerousTitleHTML:r,title:C,dangerousDescriptionHTML:E,description:x,searchToken:k,exchangeName:_,marketType:w,onClick:T,isSelected:L,isEod:N=!1,isActive:I=!1,isOffset:M=!1,invalid:D=!1,isHighlighted:B=!1,hideExchange:P=!1,hideMarkedListFlag:A=!1,onExpandClick:F,isExpanded:R,hoverComponent:O,country:H,providerId:V,source:W,source2:G,type:U,flag:z,itemRef:K,onMouseOut:Y,onMouseOver:X,className:$,actions:q,reference:J,fullSymbolName:Q,logoId:j,currencyLogoId:Z,baseCurrencyLogoId:ee,shortName:te,hideLogo:oe=!1,exchangeTooltip:ne,hideMarketType:re}=e,{isSmallWidth:le,isMobile:ae}=(0,a.ensureNotNull)((0,n.useContext)(c.SymbolSearchItemsDialogContext)),se=Boolean(O),ie=!D&&!P&&(ae||!se),ce=(0,d.useWatchedValueReadonly)({watchedValue:m.watchedTheme})===u.StdTheme.Dark?y.dark:y.light,ue=O,de=!(0,p.isOnMobileAppPage)("any")&&!i.enabled("widget")&&!D&&!A&&!F&&Q,me=!i.enabled("widget")&&!oe,he=null!==(t=null==G?void 0:G.description)&&void 0!==t?t:W,pe=null!==(o=null==G?void 0:G.name)&&void 0!==o?o:W;return n.createElement("div",{className:l()(y.itemRow,le&&y.multiLine,B&&y.highlighted,B&&ce,L&&y.selected,I&&y.active,D&&y.invalid,!ae&&h.mobiletouch&&se&&y.hover,$),onClick:function(e,t){if(!e||t.defaultPrevented)return;t.preventDefault(),e(t)}.bind(null,T),"data-role":e["data-role"]||"list-item","data-active":I,"data-type":w,"data-name":"symbol-search-dialog-content-item",onMouseOut:Y,onMouseOver:X,ref:J},n.createElement("div",{ref:K,className:l()(y.itemInfoCell,y.cell,M&&y.offset)},n.createElement("div",{className:l()(y.actionHandleWrap,!me&&y.fixedWidth)},n.createElement(n.Fragment,null,de&&n.createElement("div",{className:l()(y.markedFlagWrap,M&&y.offset)},n.createElement(b.Flag,{className:h.mobiletouch?y.markedFlagMobile:y.markedFlag,symbol:Q})),F&&n.createElement("div",{onClick:function(e){if(!F||e.defaultPrevented)return;e.preventDefault(),F(e)}},n.createElement(s.Icon,{className:l()(y.expandHandle,R&&y.expanded,L&&y.selected),icon:f})),me&&!M&&n.createElement("div",{className:l()(y.logo,Boolean(F)&&y.isExpandable)},n.createElement(S.SymbolLogo,{key:Q,logoId:j,currencyLogoId:Z,baseCurrencyLogoId:ee,placeholder:te?te[0]:void 0})))),n.createElement("div",{className:l()(y.description,me&&M&&y.offset)},C&&n.createElement("div",{className:l()(y.symbolTitle,I&&y.active,D&&y.invalid,!Boolean(E)&&y.noDescription),"data-name":"list-item-title"},C,N&&n.createElement("span",{className:y.dataMode},"E")),!C&&r&&n.createElement("div",{className:l()(y.symbolTitle,I&&y.active,D&&y.invalid),"data-name":"list-item-title"},n.createElement("span",{dangerouslySetInnerHTML:{__html:r}}),N&&n.createElement("span",{className:y.dataMode},"E")),le&&ve())),!le&&n.createElement("div",{className:l()(y.cell,y.descriptionCell,Boolean(ue)&&y.addition)},ve(),ue?n.createElement(ue,{...e,className:y.actions,onMouseOver:void 0,onMouseOut:void 0}):null),le&&ue?n.createElement(ue,{...e,className:y.cell,onMouseOver:void 0,onMouseOut:void 0}):null,ie&&n.createElement("div",{className:l()(y.exchangeCell,y.cell)},n.createElement("div",{
className:l()(y.exchangeDescription)},!re&&n.createElement("div",{className:l()(y.marketType,I&&y.active)},w),"economic"===U&&he&&pe?n.createElement("div",{className:l()(y.exchangeName,I&&y.active,"apply-common-tooltip",y.narrow,re&&y.wide),title:he},pe):n.createElement("div",{className:l()(y.exchangeName,I&&y.active,ne&&"apply-common-tooltip"),title:ne},(0,g.redefineExchangeName)(_))),n.createElement("div",{className:y.flag},n.createElement(v.SymbolSearchFlag,{key:`${H}_${V}_${U}_${z}`,className:y.icon,country:H,providerId:V}))),n.createElement("div",{className:l()(y.cell,Boolean(q)&&y.actionsCell)},q));function ve(){if(D)return null;const e=l()(y.symbolDescription,I&&y.active,!h.mobiletouch&&"apply-overflow-tooltip apply-overflow-tooltip--allow-text");return E?n.createElement("div",{className:e,dangerouslySetInnerHTML:{__html:E}}):null}}},855747:(e,t,o)=>{"use strict";o.d(t,{SymbolSearchFlag:()=>h});var n=o(50959),r=o(497754),l=o.n(r),a=o(713438),s=o(631078),i=o(331633),c=o(650151),u=o(849204);const d=u.LogoSize.Medium;var m=o(376719);function h(e){const{country:t,providerId:o,className:r}=e,h=(0,s.useWatchedValueReadonly)({watchedValue:i.watchedTheme}),[p,v]=(0,n.useState)(function({country:e,providerId:t}){const o=(0,u.getLogoUrlResolver)();return n=>{const r=[{value:e,resolve:e=>o.getCountryFlagUrl(e.toUpperCase(),d)},{value:t,resolve:e=>o.getProviderLogoUrl(e,d)}].find((({value:e})=>void 0!==e&&e.length>0));return void 0!==r?r.resolve((0,c.ensureDefined)(r.value)):(0,a.getMockedFlag)(n)}}({country:t,providerId:o})(h));return n.createElement("img",{className:l()(r,m.icon),src:p,onError:function(){v((0,a.getMockedFlag)(h))}})}},674078:(e,t,o)=>{"use strict";o.d(t,{FILTER_DEFAULT_VALUE:()=>s,TAB_SELECT_FILTER_MAP:()=>y,TAB_FILTER_MAP:()=>E});var n=o(650151),r=o(777754),l=o(717197),a=o(502804);const s=null,i=[{value:s,title:r.t(null,void 0,o(64498)),analyticsLabel:"All sources"},{value:"__WB",title:r.t(null,void 0,o(618418)),shortTitle:r.t(null,{context:"symbol_filter"},o(447503))},{value:"__EUROSTAT",title:r.t(null,void 0,o(18214))},{value:"__AKAMAI",title:r.t(null,void 0,o(672273))},{value:"__TI",title:r.t(null,void 0,o(257160))},{value:"__OECD",title:r.t(null,void 0,o(687842)),shortTitle:r.t(null,{context:"symbol_filter"},o(678398))},{value:"__WEF",title:r.t(null,void 0,o(401420)),shortTitle:r.t(null,{context:"symbol_filter"},o(407922))},{value:"__WIF",title:r.t(null,void 0,o(722095)),shortTitle:r.t(null,{context:"symbol_filter"},o(482676))},{value:"USBLS",title:r.t(null,void 0,o(944194)),shortTitle:r.t(null,{context:"symbol_filter"},o(339676))},{value:"USFR",title:r.t(null,void 0,o(789089))},{value:"__SIPRI",title:r.t(null,void 0,o(414549)),shortTitle:r.t(null,{context:"symbol_filter"},o(843104))},{value:"__IEP",title:r.t(null,void 0,o(870721)),shortTitle:r.t(null,{context:"symbol_filter"},o(691706))},{value:"USBEA",title:r.t(null,void 0,o(458048)),shortTitle:r.t(null,{context:"symbol_filter"},o(443133))},{value:"__WGC",title:r.t(null,void 0,o(980009)),shortTitle:r.t(null,{context:"symbol_filter"},o(374030))},{
value:"USCB",title:r.t(null,void 0,o(185906)),shortTitle:r.t(null,{context:"symbol_filter"},o(256853))},{value:"__BCEAO",title:r.t(null,void 0,o(32045)),shortTitle:r.t(null,{context:"symbol_filter"},o(975948))},{value:"__IMF",title:r.t(null,void 0,o(851256)),shortTitle:r.t(null,{context:"symbol_filter"},o(21931))},{value:"__UEIA",title:r.t(null,void 0,o(477923)),shortTitle:r.t(null,{context:"symbol_filter"},o(672788))},{value:"CASC",title:r.t(null,void 0,o(843043)),shortTitle:r.t(null,{context:"symbol_filter"},o(142813))},{value:"GBONS",title:r.t(null,void 0,o(154418)),shortTitle:r.t(null,{context:"symbol_filter"},o(148172))},{value:"NOSN",title:r.t(null,void 0,o(195747))}],c=[{value:s,title:r.t(null,void 0,o(3139)),analyticsLabel:"All categories"},{value:"gdp",title:r.t(null,{context:"symbol_filter"},o(552075))},{value:"lbr",title:r.t(null,{context:"symbol_filter"},o(572669))},{value:"prce",title:r.t(null,{context:"symbol_filter"},o(945842))},{value:"hlth",title:r.t(null,{context:"symbol_filter"},o(259070))},{value:"mny",title:r.t(null,{context:"symbol_filter"},o(402659))},{value:"trd",title:r.t(null,{context:"symbol_filter"},o(199014))},{value:"gov",title:r.t(null,{context:"symbol_filter"},o(988924))},{value:"bsnss",title:r.t(null,{context:"symbol_filter"},o(580759))},{value:"cnsm",title:r.t(null,{context:"symbol_filter"},o(965415))},{value:"hse",title:r.t(null,{context:"symbol_filter"},o(768098))},{value:"txs",title:r.t(null,{context:"symbol_filter"},o(113501))}],u=[{value:s,title:r.t(null,void 0,o(833978)),analyticsLabel:"All sectors"},{value:"Commercial Services",title:r.t(null,void 0,o(238185))},{value:"Communications",title:r.t(null,void 0,o(521490))},{value:"Consumer Durables",title:r.t(null,void 0,o(51897))},{value:"Consumer Non-Durables",title:r.t(null,void 0,o(964300))},{value:"Consumer Services",title:r.t(null,void 0,o(964613))},{value:"Distribution Services",title:r.t(null,void 0,o(151254))},{value:"Electronic Technology",title:r.t(null,void 0,o(225255))},{value:"Energy Minerals",title:r.t(null,void 0,o(503332))},{value:"Finance",title:r.t(null,void 0,o(909228))},{value:"Government",title:r.t(null,void 0,o(715822))},{value:"Health Services",title:r.t(null,void 0,o(617047))},{value:"Health Technology",title:r.t(null,void 0,o(792105))},{value:"Industrial Services",title:r.t(null,void 0,o(685674))},{value:"Miscellaneous",title:r.t(null,void 0,o(78144))},{value:"Non-Energy Minerals",title:r.t(null,void 0,o(578234))},{value:"Process Industries",title:r.t(null,void 0,o(946140))},{value:"Producer Manufacturing",title:r.t(null,void 0,o(536289))},{value:"Retail Trade",title:r.t(null,void 0,o(801197))},{value:"Technology Services",title:r.t(null,void 0,o(237826))},{value:"Transportation",title:r.t(null,void 0,o(793481))},{value:"Utilities",title:r.t(null,void 0,o(112332))}],d=[{value:s,title:r.t(null,void 0,o(347420)),analyticsLabel:"All types"},{value:"common_stock",title:r.t(null,void 0,o(792113))},{value:"preferred_stock",title:r.t(null,void 0,o(545836))},{value:"depository_receipt",
title:r.t(null,void 0,o(254592))},{value:"warrant",title:r.t(null,void 0,o(779215))}],m=[{value:s,title:r.t(null,void 0,o(347420)),analyticsLabel:"All types"},{value:"etf",title:r.t(null,void 0,o(730816))},{value:"mutual_fund",title:r.t(null,void 0,o(218146))},{value:"trust_fund",title:r.t(null,void 0,o(550627))},{value:"reit",title:r.t(null,void 0,o(712431))}],h=[{value:s,title:r.t(null,void 0,o(347420)),analyticsLabel:"All types"},{value:"crypto_spot",title:r.t(null,void 0,o(901698))},{value:"crypto_swap",title:r.t(null,void 0,o(49625))},{value:"crypto_futures",title:r.t(null,void 0,o(468631))},{value:"crypto_index",title:r.t(null,void 0,o(99391))},{value:"crypto_fundamental",title:r.t(null,void 0,o(655942))}],p=[{value:s,title:r.t(null,void 0,o(3139)),analyticsLabel:"All categories"},{value:"Financial/Equity",title:r.t(null,void 0,o(564171))},{value:"Financial/Currency",title:r.t(null,void 0,o(881520))},{value:"Financial/InterestRate",title:r.t(null,void 0,o(944359))},{value:"Commodity/Energy",title:r.t(null,void 0,o(618383))},{value:"Commodity/Agriculture",title:r.t(null,void 0,o(280668))},{value:"Commodity/Metals",title:r.t(null,void 0,o(836930))},{value:"Commodity/Weather",title:r.t(null,void 0,o(345561))}],v=r.t(null,void 0,o(342759)),g=r.t(null,void 0,o(719724)),b=r.t(null,void 0,o(531922)),S={economic:[{id:"economic-source-select",urlParam:"source_id",options:i,label:g},{id:"economic-category-select",urlParam:"economic_category",options:c,label:b}],stocks:[{id:"stock-type-select",urlParam:"search_type",options:d,label:v},{id:"stock-sector-select",urlParam:"sector",options:u,label:r.t(null,void 0,o(160682))}],futures:[{id:"futures-category-select",urlParam:"product",options:p,label:b}],funds:[{id:"funds-type-select",urlParam:"search_type",options:m,label:v}],"bitcoin,crypto":[{id:"crypto-type-select",urlParam:"search_type",options:h,label:v}]},f=l.SYMBOL_SEARCH_VERSION_3_ENABLED?[]:["stock-type-select","crypto-type-select"],y=function(e){const t={};for(const[o,r]of Object.entries(e))t[o]=(0,n.ensureDefined)(r).filter((e=>!f.includes(e.id)));return t}(S);const C={allSearchSourcesTitle:r.t(null,void 0,o(488467)),value:[a.ExchangeGroup.NorthAmerica,a.ExchangeGroup.Europe,a.ExchangeGroup.MiddleEastAfrica,a.ExchangeGroup.MexicoSouthAmerica,a.ExchangeGroup.AsiaPacific]},E={stocks:C,funds:C,futures:C,forex:{value:[a.ExchangeGroup.Forex]},"bitcoin,crypto":{value:[a.ExchangeGroup.Cryptocurrency,a.ExchangeGroup.Forex]},index:{value:[a.ExchangeGroup.NorthAmerica,a.ExchangeGroup.Europe,a.ExchangeGroup.MiddleEastAfrica,a.ExchangeGroup.MexicoSouthAmerica,a.ExchangeGroup.AsiaPacific,a.ExchangeGroup.Forex]},bond:C,economic:C}},23569:(e,t,o)=>{"use strict";o.d(t,{qualifyProName:()=>l,QualifiedSources:()=>n});o(650151),o(87476);var n,r=o(532006);function l(e){return e}!function(e){function t(e){return e.pro_name}function o(e){return e.pro_name}e.fromQuotesSnapshot=function(e){return"error"===e.status?e.symbolname:e.values.pro_name},e.fromQuotesResponse=function(e){const{values:o,symbolname:n,status:r}=e
;return"error"===r&&n?n:t(o)},e.fromQuotes=t,e.fromSymbolSearchResult=function(e,t){{const{exchange:o}=e,{symbol:n,prefix:l}=null!=t?t:e;return(0,r.getSymbolFullName)({name:n,exchange:o,prefix:l})}},e.fromSymbolInfo=o,e.fromSymbolMessage=function(e,t){return"symbol_resolved"===t.method?o(t.params[1]):e}}(n||(n={}))},490545:(e,t,o)=>{"use strict";o.d(t,{SearchSourcesDialogBody:()=>D});var n=o(50959),r=o(497754),l=o.n(r),a=o(83436),s=o(777754),i=o(89248),c=o(986623),u=o(145500),d=o(133181),m=o(502804),h=o(746432);function p(e){const{className:t,children:o,...r}=e;return n.createElement("div",{...r,className:l()(h.title,t)},o)}var v=o(650151),g=o(891130),b=o(452623),S=o(742231),f=o(532006),y=o(855747),C=o(491540),E=o(77463);function x(e){const{searchSource:t,onClick:o,queryString:r}=e,{symbolSearchContent:s,isAllSearchSourcesSelected:c,allSearchSourcesTitle:u,isMobile:d}=(0,g.useEnsuredContext)(i.SymbolSearchItemsDialogContext),m=s.currentSelectedSearchSource,h=(0,v.ensureNotNull)(m).value(),p=c(t),x=h?t.value()===h:p,k=(0,n.useMemo)((()=>(0,S.createRegExpList)(r)),[r]),_=t.description(),w=_&&!p,T=f.isSeparateSymbolSearchTabs&&p&&u?u:t.name(),L=l()(E.container,d?E.mobile:E.desktop,x&&E.selected,p&&E.allSelected,p&&!1,!p&&d&&E.bordered);return n.createElement("div",{className:l()(!d&&E.wrap,p&&!1),onClick:o},n.createElement("div",{className:L},n.createElement("div",{className:E.iconWrap},p?n.createElement(a.Icon,{className:l()(E.icon,E.allSelectedIcon),icon:C}):n.createElement(y.SymbolSearchFlag,{className:E.icon,country:t.country(),providerId:t.providerId()})),n.createElement("div",{className:E.textBlock},n.createElement("div",{className:l()(E.title,!w&&!d&&E.titleWithoutDesc)},n.createElement(b.HighlightedText,{className:l()(x&&E.highlighted),queryString:r,text:T,rules:k})),w&&n.createElement("div",{className:l()(E.description,"apply-overflow-tooltip")},n.createElement(b.HighlightedText,{className:E.highlighted,queryString:r,rules:k,text:_})))))}var k=o(631078),_=o(331633),w=o(86746),T=o(723786),L=o(366619),N=o(267562),I=o(792378);const M={emptyTextClassName:I.emptyText};function D(e){const{searchSources:t}=e,{setSelectedSearchSource:r,setMode:h,isMobile:v,emptyState:b,autofocus:S}=(0,g.useEnsuredContext)(i.SymbolSearchItemsDialogContext),f=(0,k.useWatchedValueReadonly)({watchedValue:_.watchedTheme})===w.StdTheme.Dark?L:N,[y,C]=(0,n.useState)(""),E=(0,n.useMemo)((()=>{return[...(0,u.splitSearchSourcesByGroup)(t).entries()].map((([e,t])=>({group:e,sources:(0,u.filterSearchSources)(t,y)})))}),[t,y]),D=(0,n.useRef)(null),B=(0,n.useRef)(null);(0,n.useLayoutEffect)((()=>{var e;S&&(null===(e=null==D?void 0:D.current)||void 0===e||e.focus())}),[]);const P=b?n.createElement(b,null):n.createElement(d.SymbolSearchNoResult,{className:I.noResultsDesktop},n.createElement(a.Icon,{icon:f,className:I.emptyIcon}),n.createElement("div",{className:I.emptyText},s.t(null,void 0,o(929673)))),A=!(E.length&&E.every((e=>0===e.sources.length)));return n.createElement(T.SymbolSearchDialogBodyContext.Provider,{value:M
},n.createElement(c.DialogSearch,{placeholder:s.t(null,void 0,o(252298)),onChange:function(e){C(e.target.value),B&&B.current&&(B.current.scrollTop=0)},reference:D}),A?n.createElement("div",{ref:B,className:l()(I.contentList,!v&&I.contentListDesktop),onTouchStart:function(){var e;null===(e=D.current)||void 0===e||e.blur()}},E.map((e=>{const{group:t,sources:o}=e;return 0===o.length?n.createElement(n.Fragment,{key:t}):n.createElement(n.Fragment,{key:t},t&&t!==m.ExchangeGroup.AllExchanges&&n.createElement(p,{className:l()(!v&&I.groupTitleDesktop)},m.exchangeGroupName[t]),n.createElement("div",{className:l()(I.searchSourceItemsContainer,!v&&I.searchSourceItemsContainerDesktop)},o.map((e=>n.createElement(x,{key:e.value(),searchSource:e,queryString:y,onClick:F.bind(null,e)})))))}))):P);function F(e){r(e),h("symbolSearch")}}},723786:(e,t,o)=>{"use strict";o.d(t,{SymbolSearchDialogBodyContext:()=>n});const n=o(50959).createContext(null)},584094:(e,t,o)=>{"use strict";o.d(t,{SymbolSearchFeedHeader:()=>M});var n=o(50959),r=o(497754),l=o.n(r),a=o(777754),s=o(891130),i=o(89248),c=o(650151),u=o(83436),d=o(634139),m=o(416293),h=o(532006),p=o(855747),v=o(552019),g=o(491540),b=o(549694);const S=(0,h.getDefaultSearchSource)();function f(e){const{mode:t,setMode:r,searchRef:f,cachedInputValue:y,setSelectedSearchSource:C,isAllSearchSourcesSelected:E,allSearchSourcesTitle:x,upperCaseEnabled:k,symbolSearchContent:_}=(0,s.useEnsuredContext)(i.SymbolSearchItemsDialogContext),w=_.currentSelectedSearchSource,T=(0,c.ensureNotNull)(w),L="symbolSearch"===t,N=E(T),I=h.isSeparateSymbolSearchTabs&&N&&x?x:T.name(),M=(0,n.useCallback)((()=>{h.isSeparateSymbolSearchTabs&&!N&&S?C(S):(f.current&&(y.current=k?f.current.value.toUpperCase():f.current.value),r("exchange"))}),[N,f,k,r]),D=N?null:n.createElement(p.SymbolSearchFlag,{key:T.value(),className:b.icon,country:T.country(),providerId:T.providerId()});return h.isSeparateSymbolSearchTabs?L?n.createElement(d.LightButton,{onClick:M,isSelected:!N,size:"xsmall",variant:N?"ghost":"quiet-primary",showCaret:N,endIcon:N?void 0:v,enableActiveStateStyles:!1,className:l()(b.button,!N&&b.withFlag,"apply-common-tooltip"),title:I,tabIndex:-1},n.createElement("div",{className:b.buttonContent},D,n.createElement("span",null,I))):null:L?n.createElement("div",{className:l()(b.flagWrap,"apply-common-tooltip",!N&&b.withFlag),title:a.t(null,void 0,o(313269)),onClick:M},N&&n.createElement(u.Icon,{className:b.icon,icon:g}),D,n.createElement("div",{className:l()(b.title)},I),n.createElement(m.ToolWidgetCaret,{className:b.caret,dropped:!1})):null}var y=o(674078),C=o(217802),E=o(458692),x=o(634993),k=o(332585),_=o(762852),w=o(928089),T=o(844590);function L(e){const{selectedOption:{title:t,shortTitle:o,value:r},defaultOption:a,options:s,onSelect:i,isMobile:u,label:m}=e,[h,p]=(0,n.useState)(!1),{isOpened:g,close:b,onButtonClick:S,buttonRef:f}=(0,E.useDisclosure)({}),y=r!==a.value,L=o!==t?t:void 0,N=(0,n.useCallback)((e=>{u&&r===a.value?p(!0):r===a.value?S(e):i(a)}),[r,a,S,i,u]),I=n.createElement(d.LightButton,{
className:l()(T.button,"apply-common-tooltip",g&&T.opened),reference:f,onClick:N,isSelected:y||g,size:"xsmall",variant:y&&!g?"quiet-primary":"ghost",endIcon:y?v:void 0,showCaret:!y,enableActiveStateStyles:!1,title:L,tabIndex:-1},null!=o?o:t),M=n.createElement(n.Fragment,null,u&&n.createElement(w.ToolWidgetMenuSummary,{className:T.smallWidthTitle},m),s.map(((e,t)=>n.createElement(x.PopupMenuItem,{className:u?T.smallWidthMenuItem:void 0,key:t,isActive:e.value===r,label:e.title,onClickArg:e,onClick:D}))));return u?h?n.createElement(n.Fragment,null,I,n.createElement(k.DrawerManager,null,n.createElement(_.Drawer,{onClose:()=>p(!1)},M))):I:n.createElement(C.PopupMenuDisclosureView,{key:L,onClose:b,buttonRef:f,isOpened:g,button:I,popupChildren:M});function D(e){i((0,c.ensureDefined)(e))}}var N=o(345848),I=o(211261);function M(e){const{brokerButton:t=null}=e,{isSmallWidth:r,selectedFilterValues:c,setSelectedFilterValues:u,isMobile:d,searchRef:m,symbolSearchContent:p}=(0,s.useEnsuredContext)(i.SymbolSearchItemsDialogContext),v=p.tabSelectFilters;return h.isSeparateSymbolSearchTabs?n.createElement("div",{className:l()(I.wrap,I.small,I.newStyles,d&&I.mobile)},t&&n.createElement("div",{className:I.brokerWrap},t),p.canChangeExchange&&n.createElement("div",{className:I.filterItem},n.createElement(f,null)),v&&v.map((e=>{const{id:t,options:o,label:r}=e,l=o.find((e=>e.value===y.FILTER_DEFAULT_VALUE));if(!l)throw new Error("There must be default filter value in filter definition");const a=o.find((e=>{var o;return e.value===(null===(o=c[p.currentSymbolType])||void 0===o?void 0:o[t])}))||l;return n.createElement("div",{key:t,className:I.filterItem},n.createElement(L,{selectedOption:a,defaultOption:l,options:o,onSelect:e=>{var o;u(p.currentSymbolType,{[t]:e.value}),(0,N.trackEvent)("New SS",p.currentSymbolType,null===e.value?e.analyticsLabel:e.value),null===(o=m.current)||void 0===o||o.focus()},label:r,isMobile:d}))}))):n.createElement("div",{className:l()(I.wrap,r&&I.small)},n.createElement("div",{className:I.item},n.createElement("div",{className:I.text},r?a.t(null,void 0,o(948490)):a.t(null,void 0,o(589053)))),n.createElement("div",{className:I.item},!r&&n.createElement("div",{className:I.text},a.t(null,void 0,o(629601))),p.canChangeExchange&&n.createElement("div",{className:I.exchange},n.createElement(f,null))))}},236303:(e,t,o)=>{"use strict";o.d(t,{SymbolSearchFeed:()=>b});var n=o(50959),r=o(130979),l=o(497754),a=o.n(l),s=o(650151),i=o(324997),c=o(89248),u=o(584094),d=o(768038),m=o(891130),h=o(532006),p=o(735686),v=o(443549),g=o(662632);function b(e){const{onTouchMove:t,listRef:o,className:l,listWrapRef:b,virtualListKey:S,items:f,getItemSize:y,hideFeed:C,canLoadMore:E,onLoadMoreSymbols:x}=e,{mode:k,isSmallWidth:_,handleListWidth:w}=(0,m.useEnsuredContext)(c.SymbolSearchItemsDialogContext),[T,L]=(0,n.useState)(null),N=(0,i.useResizeObserver)((function([e]){L(e.contentRect.height),w(e.contentRect.width)})),I=(0,n.useCallback)((e=>{const{index:t,style:o}=e;return n.createElement("div",{style:o},f[t])}),[f]),M=(0,n.useCallback)((e=>(0,
s.ensure)(f[e].key)),[f]),D="watchlist"===k&&null!==T,B=(0,p.useIntersectionObserver)((e=>{const t=e.pop();void 0!==t&&t.isIntersecting&&x&&x()}),{threshold:0,rootMargin:"0px 0px 20px 0px",root:b});return n.createElement("div",{className:a()(g.wrap,D&&g.watchlist,C&&g.noFeed,C&&h.isSeparateSymbolSearchTabs&&g.newStyles,l),onTouchMove:t,ref:N},n.createElement("div",{ref:b,className:a()(g.scrollContainer,C&&g.noFeed)},D?n.createElement(r.VariableSizeList,{key:S,ref:o,className:g.listContainer,width:"100%",height:(0,s.ensureNotNull)(T),itemCount:f.length,itemSize:y,children:I,itemKey:M,overscanCount:20,direction:(0,d.isRtl)()?"rtl":"ltr"}):n.createElement(n.Fragment,null,n.createElement("div",{className:a()(g.listContainer,_&&g.multiLineItemsContainer)},!h.isSeparateSymbolSearchTabs&&n.createElement(u.SymbolSearchFeedHeader,null),...f,E&&n.createElement("div",{key:`observer-${f.length}`,className:a()(g.spinnerContainer,_&&g.largeSpinner),ref:B},n.createElement(v.Spinner,{size:_?"small":"mini"}))))))}},824686:(e,t,o)=>{"use strict";o.d(t,{ROW_HEIGHT:()=>ue,SymbolSearchItemsDialogBody:()=>de});var n=o(50959),r=o(497754),l=o.n(r),a=o(500962),s=o(777754),i=o(462282),c=o(986623),u=o(717197),d=o(532006);let m;var h=o(89248),p=o(345848),v=o(891130),g=o(470316),b=o(723786),S=o(983731),f=o(650151),y=o(296652),C=o(889267),E=o(87476),x=o(900486),k=o(481574),_=o(935119),w=o(132617),T=o(569135),L=o(863861),N=o(5522);function I(e){var t;const{state:o,update:r}=e,{searchRef:l,forceUpdate:a,upperCaseEnabled:s}=(0,f.ensureNotNull)((0,n.useContext)(h.SymbolSearchItemsDialogContext)),i=(0,C.tokenize)(null===(t=l.current)||void 0===t?void 0:t.value),c=(0,y.validate)(i);let u=[{icon:x,insert:"/",type:"binaryOp",name:"division"},{icon:k,insert:"-",type:"binaryOp",name:"subtraction"},{icon:_,insert:"+",type:"binaryOp",name:"addition"},{icon:w,insert:"*",type:"binaryOp",name:"multiplication"}];return E.enabled("hide_exponentiation_spread_operator")||(u=u.concat([{icon:T,insert:"^",type:"binaryOp",name:"exponentiation"}])),E.enabled("hide_reciprocal_spread_operator")||(u=u.concat([{icon:L,type:"complete",name:"1/x",callback:()=>{!l.current||c.errors.length||c.warnings.length||(l.current.value=(0,y.stringifyTokens)((0,y.flip)(i)),a())}}])),n.createElement("div",{className:N.actions},u.map((e=>n.createElement(S.ToolWidgetButton,{className:N.actionButton,icon:e.icon,key:e.name,isDisabled:M(e,c),onClick:()=>function(e){var t;if(!M(e,c)){if(e.insert&&l.current){const t=l.current.value+e.insert;l.current.value=t,l.current.setSelectionRange(t.length,t.length);const[n,,i]=(0,y.getCurrentTokenParamsFromInput)(l.current,s);o.current&&(o.current.selectedIndexValue=-1,o.current.searchSpreadsValue=(0,y.isSpread)(i),o.current.searchTokenValue=n),a(),r()}e.callback&&e.callback(),null===(t=l.current)||void 0===t||t.focus(),(0,p.trackEvent)("GUI","SS",e.name)}}(e)}))))}function M(e,t){let o=!1;if(!t.errors.length)switch(e.type){case"binaryOp":o="var"===t.currentState;break;case"openBrace":o="var"!==t.currentState;break;case"closeBrace":
o="var"===t.currentState&&t.braceBalance>0;break;case"complete":o=!t.errors.length&&!t.warnings.length}return!o}var D=o(694302),B=o(62802);const P=["FX:AUS200","FX:BUND","FX:COPPER","FX:ESP35","FX:EUSTX50","FX:FRA40","FX:GER30","FX:HKG33","FX:JPN225","FX:NAS100","FX:NGAS","FX:SPX500","FX:UK100","FX:UKOIL","FX:US30","FX:USOIL","FX:XAGUSD","FX:XAUUSD"];function A(e){return B.getBool("fxcm_cfd",!1)?e:e.filter((e=>{const t={name:e.symbol,exchange:e.exchange,prefix:e.prefix,fullName:e.full_name};return!function(e){return-1===e.indexOf(":")&&(e="FX:"+e),-1!==P.indexOf(e)}((0,d.getSymbolFullName)(t))}))}var F=o(850972),R=o(989452),O=o(125226),H=o(72368),V=o(83436),W=o(145110),G=o(443549),U=o(236303),z=o(133181),K=o(50430),Y=o(86746),X=o(62959),$=o(584094),q=o(938886),J=o(634139),Q=o(674078),j=o(516036);const Z=(0,d.getDefaultSearchSource)(),ee=s.t(null,{context:"punctuationFullStop"},o(117640));function te(e){var t;const{otherSymbolsCount:r,onClick:a,token:i}=e,{isAllSearchSourcesSelected:c,symbolSearchContent:u,symbolTypes:m,emptyState:p,setSelectedSearchSource:g,setSelectedFilterValues:S,selectedFilterValues:f}=(0,v.useEnsuredContext)(h.SymbolSearchItemsDialogContext),y=u.currentSelectedSearchSource,{symbolSearchState:C}=(0,v.useEnsuredContext)(b.SymbolSearchDialogBodyContext),E=null===(t=m.find((e=>e.value===u.currentSymbolType)))||void 0===t?void 0:t.name,x=null!=p?p:z.SymbolSearchNoResult,k=y&&!c(y),_=function(){if(!d.isSeparateSymbolSearchTabs)return s.t(null,{plural:"{matchingCount} matching symbols found with other filters",count:r},o(777898)).format({matchingCount:`<span class="${j.bold}">${r.toString()}</span>`});if("resetFilter"===C)return s.t(null,{plural:"There are also {count} symbols in other markets",count:r,replace:{count:r.toString()}},o(119394));return s.t(null,void 0,o(508314)).format({symbolType:`<span class="${j.bold}">${E||""}</span>`})}();return n.createElement(x,{className:j.noResultsDesktop},n.createElement("div",{className:l()(j.otherSymbols,d.isSeparateSymbolSearchTabs&&j.newStyles)},function(){if(u.currentSymbolType!==(0,d.getAllSymbolTypesValue)()){const e=`<span class="${j.bold}">${E||""}</span>`;if(d.isSeparateSymbolSearchTabs){const t=f[u.currentSymbolType],r=t&&Object.values(t).some((e=>e!==Q.FILTER_DEFAULT_VALUE));if("resetTabFilter"===C||k||r){const t=""===i?s.t(null,void 0,o(64934)).format({symbolType:e}):s.t(null,void 0,o(131986)).format({symbolType:e,symbol:`<span class="${j.token}">${i}</span>`});return n.createElement("span",{dangerouslySetInnerHTML:{__html:t}})}}if(k){const t=`${s.t(null,void 0,o(63773)).format({symbolType:e,exchangeName:`<span class="${j.bold}">${y.name()}</span>`})}${ee}`;return n.createElement("span",{dangerouslySetInnerHTML:{__html:t}})}const t=s.t(null,void 0,o(136721)).format({symbolType:e}),r=i?s.t(null,void 0,o(384615)).format({symbolType:e,symbol:`<span class="${j.token}">${i}</span>`}):t,l=`${t}${ee}`;return n.createElement("span",{dangerouslySetInnerHTML:{__html:d.isSeparateSymbolSearchTabs?r:l}})}if(k){const e=`${s.t(null,void 0,o(118017)).format({
exchangeName:`<span class="${j.bold}">${y.name()}</span>`})}${ee}`;return n.createElement("span",{dangerouslySetInnerHTML:{__html:e}})}return""}()),n.createElement("div",{className:l()(j.otherSymbols,d.isSeparateSymbolSearchTabs&&j.smallFont)},n.createElement("span",{dangerouslySetInnerHTML:{__html:_}})),d.isSeparateSymbolSearchTabs?n.createElement("div",{className:j.resetFilters},function(){if("resetFilter"===C)return n.createElement(J.LightButton,{className:j.showMe,size:"small",onClick:a},s.t(null,void 0,o(149075)));return n.createElement(J.LightButton,{className:j.showMe,size:"small",onClick:w},s.t(null,void 0,o(579900)))}()):n.createElement(q.Button,{className:j.resetFilters,size:"m",appearance:"stroke",onClick:a},s.t(null,void 0,o(149075))));function w(){k&&function(){if(null===Z)return;g(Z)}();const e=u.tabSelectFilters;if(!e)return;const t=e.reduce(((e,t)=>(e[t.id]=Q.FILTER_DEFAULT_VALUE,e)),{});S(u.currentSymbolType,t)}}function oe(e){const{brokerTitle:t,isActive:l,onToggle:a,logoInfo:i,className:c}=e,u=(0,K.useTheme)();return n.createElement(J.LightButton,{className:r(c,"apply-common-tooltip"),variant:l?"primary":"secondary",size:"xsmall",isSelected:l,onClick:()=>a(!l),title:s.t(null,{replace:{brokerName:t}},o(776616)),startIcon:i?`<img width="18" height="18" src="${u===Y.StdTheme.Dark&&i.logoMiniBlackUrl?i.logoMiniBlackUrl:i.logoMiniUrl}" alt=""/>`:void 0},t)}var ne=o(366619),re=o(267562),le=o(621865);const ae=E.enabled("hide_image_invalid_symbol");function se(e){const{state:t,otherSymbolsCount:o,onChangeSymbolTypeFilter:l,onResetFilters:a,onListTouchMove:s,brokerTitle:i,brokerLogoInfo:c,isBrokerActive:u,onBrokerToggle:m,listRef:p,listWrapRef:g,onLoadMoreSymbols:b,canLoadMore:S}=e,{mode:f,isMobile:y,selectedSymbolType:C,symbolTypes:E,feedItems:x,contentItem:k,emptyState:_=ie,symbolSearchContent:w}=(0,v.useEnsuredContext)(h.SymbolSearchItemsDialogContext),T=i?n.createElement(oe,{brokerTitle:i,isActive:u,onToggle:m,logoInfo:c}):null,L="symbolSearch"===f&&["good","loadingWithPaginated"].includes(t),N=null!=k?k:X.SymbolSearchDialogContentItem,I=(0,n.useMemo)((()=>x.map((e=>n.createElement(N,{...e,searchToken:w.token})))),[x]);return n.createElement(n.Fragment,null,"symbolSearch"===f&&n.createElement(n.Fragment,null,E.length>0&&n.createElement(W.BubbleRow,{className:r(d.isSeparateSymbolSearchTabs&&(w.withFilters||y&&T)&&le.withFilters,!y&&T&&le.withButton),itemClassName:le.symbolType,items:E,getItemTitle:e=>e.name,getItemKey:e=>e.value,checkItemIsActive:e=>e.value===C,onBubbleClick:l,multiline:!y},!y&&n.createElement("div",{className:le.brokerButton},T)),!d.isSeparateSymbolSearchTabs&&y&&E.length>0&&i&&n.createElement("div",{className:le.brokerButtonWrap},T),d.isSeparateSymbolSearchTabs&&n.createElement($.SymbolSearchFeedHeader,{brokerButton:y?T:void 0})),n.createElement(U.SymbolSearchFeed,{listRef:p,listWrapRef:g,onTouchMove:s,items:I,getItemSize:()=>ue,onLoadMoreSymbols:b,canLoadMore:S,hideFeed:!L}),"loading"===t&&n.createElement("div",{className:le.spinnerWrap
},n.createElement(G.Spinner,null)),"symbolSearch"===f&&n.createElement(n.Fragment,null,("resetFilter"===t||"resetTabFilter"===t)&&n.createElement(te,{token:w.token,otherSymbolsCount:o,onClick:a}),"empty"===t&&n.createElement(_,null)))}function ie(e){const t=(0,K.useTheme)()===Y.StdTheme.Dark?ne:re;return n.createElement(z.SymbolSearchNoResult,{className:le.noResultsDesktop},!ae&&n.createElement(V.Icon,{icon:t,className:le.emptyIcon}),n.createElement("div",{className:le.emptyText},s.t(null,void 0,o(641379))))}const ce=(0,d.getDefaultSearchSource)(),ue=52;function de(e){const{mode:t,setMode:r,setSelectedIndex:S,isMobile:f,selectedSearchSource:C,setSelectedSearchSource:x,isAllSearchSourcesSelected:k,selectedSymbolType:_,setSelectedSymbolType:w,symbolSearchContent:T,setSymbolSearchContent:L,searchRef:N,setSearchSpreads:M,showSpreadActions:B,selectedItem:P,forceUpdate:V,placeholder:W,initialScreen:G,footer:U,searchInput:z,upperCaseEnabled:K,externalInput:Y,handleKeyDown:X,customSearchSymbols:$,filterDefinitions:q,selectedFilterValues:J,searchSources:Q}=(0,v.useEnsuredContext)(h.SymbolSearchItemsDialogContext),j=(0,n.useRef)(t);j.current=t;const Z=(0,n.useRef)(new AbortController),[ee,te]=(0,n.useState)(0),[oe,ne]=(0,n.useState)("noop"),re=(0,n.useRef)(0),[ae,ie]=(0,n.useState)(T.token),ue=(0,n.useRef)(null),de=(0,n.useRef)(null),me=(0,n.useRef)({selectedIndexValue:-1,searchTokenValue:"",searchSpreadsValue:!0}),he=(0,n.useRef)(null),pe=(0,n.useRef)(null),{broker:ve=null,brokerId:ge,brokerTitle:be,brokerLogoInfo:Se,isBrokerChecked:fe=!1,setIsBrokerChecked:ye=(()=>{}),unhideSymbolSearchGroups:Ce=""}=(0,D.useActiveBroker)();(0,n.useEffect)((()=>()=>{Z.current.abort(),Fe()}),[]),(0,n.useEffect)((()=>{(null==N?void 0:N.current)&&ie(N.current.value)}),[]),(0,n.useEffect)((()=>{const e=N.current;if(e)return e.addEventListener("input",Ne),e.addEventListener("focus",Pe),e.addEventListener("select",Le),e.addEventListener("click",Le),e.addEventListener("keyup",Ae),Y&&X&&e.addEventListener("keydown",X),()=>{e&&(e.removeEventListener("input",Ne),e.removeEventListener("focus",Pe),e.removeEventListener("select",Le),e.removeEventListener("click",Le),e.removeEventListener("keyup",Ae),Y&&X&&e.removeEventListener("keydown",X))}}),[X]);const Ee=(0,n.useMemo)((()=>function(e,t,o){const n=null==t?void 0:t[e],r=new Map(null==n?void 0:n.map((e=>[e.id,e.urlParam]))),l=o[e];let a;if(l){a={};for(const[e,t]of Object.entries(l)){const o=r.get(e);o&&(a[o]=t)}}return a}(_,q,J)),[_,q,J]);(0,n.useEffect)((()=>{Boolean(G)&&""===ae.trim()||(L((e=>({...e,symbolStartIndex:0}))),Me(ae,_,C).then((()=>{ue.current&&(ue.current.scrollTop=0)})))}),[ae,_,C,fe,G,Ee]),(0,n.useEffect)((()=>{var e;if(!P||!N.current)return;const t=(0,u.isSymbolSearchResult)(P)?P.exchange:P.parent.exchange;let o;o="contracts"in P&&(null===(e=P.contracts)||void 0===e?void 0:e.length)?P.contracts[0]:P;const n={name:o.symbol,exchange:t,prefix:o.prefix,fullName:o.full_name},[r,l]=(0,y.getNextSymbolInputValueAndPosition)(N.current,n,K);N.current.value=r,N.current.setSelectionRange(l,l),V()
}),[P]);const xe=null!=G?G:"div",ke=Boolean(G)&&"symbolSearch"!==t,_e=null!=z?z:c.DialogSearch,we=(0,n.useMemo)((()=>({listRef:de,resetRecommends:Be,updateRecommends:Me,searchToken:ae,emptyTextClassName:le.emptyText,isBrokerChecked:fe,symbolSearchState:oe,currentMode:j})),[de,ae,fe,oe,j,Ee]);return n.createElement(b.SymbolSearchDialogBodyContext.Provider,{value:we},!(Y&&"symbolSearch"===t)&&n.createElement(_e,{reference:N,className:l()(le.search,K&&le.upperCase),placeholder:W||s.t(null,void 0,o(252298))},B&&n.createElement(I,{state:me,update:Ie})),ke?n.createElement(xe,null):n.createElement(se,{state:oe,otherSymbolsCount:ee,onListTouchMove:function(){var e;null===(e=N.current)||void 0===e||e.blur()},onChangeSymbolTypeFilter:function(e){const{value:t}=e;w(t),S(-1)},onResetFilters:function(){var e;d.isSeparateSymbolSearchTabs?"resetFilter"===oe?w((0,d.getAllSymbolTypesValue)()):ce&&x(ce):(w((0,d.getAllSymbolTypesValue)()),ce&&x(ce));ye(!1),f||null===(e=N.current)||void 0===e||e.focus()},brokerTitle:be,brokerLogoInfo:Se,isBrokerActive:fe,onBrokerToggle:ye,listRef:de,listWrapRef:ue,onLoadMoreSymbols:R.isSymbolSearchPaginationEnabled?function(){"loadingWithPaginated"!==oe&&Me(ae,T.currentSymbolType,C,T.symbolStartIndex)}:void 0,canLoadMore:R.isSymbolSearchPaginationEnabled?0!==T.symbolsRemaining:void 0}),U);function Te(){if(!N.current)return;const[e,t,o]=(0,y.getCurrentTokenParamsFromInput)(N.current,K);re.current=t,me.current={selectedIndexValue:-1,searchSpreadsValue:(0,y.isSpread)(o),searchTokenValue:e},he.current||(he.current=setTimeout(Ie,0))}function Le(){if(!N.current)return;const[,e]=(0,y.getCurrentTokenParamsFromInput)(N.current,K);e!==re.current&&Te()}function Ne(){Te()}function Ie(){const{selectedIndexValue:e,searchTokenValue:t,searchSpreadsValue:o}=me.current;he.current=null,(0,a.unstable_batchedUpdates)((()=>{M(o),S(e),ie(K?t.toUpperCase():t)}))}async function Me(e,t,o,n){var r,l,a,s;try{"noop"===oe?ne("loading"):n?ne("loadingWithPaginated"):(Fe(),pe.current=setTimeout((()=>{L({token:e,canChangeExchange:Boolean(C&&Q.length>1&&!(0,d.exchangeSelectDisabled)(t)),tabSelectFilters:null==q?void 0:q[t],withFilters:!!t,currentSymbolType:t,currentSelectedSearchSource:C,currentTabAvailableSearchSources:Q,renderSymbolSearchList:[],symbolsRemaining:0,symbolStartIndex:0}),ne("loading")}),500)),Re();const c=fe&&ve,m=t===(0,d.getAllSymbolTypesValue)(),h=""===e.trim()&&!$&&!c&&m;let p;if(fe&&ve){p=(await(0,i.respectAbort)(Z.current.signal,ve.accountMetainfo())).prefix}const v=null!==(l=null!==(r=(0,y.getExchange)(e))&&void 0!==r?r:p)&&void 0!==l?l:null==o?void 0:o.getRequestExchangeValue(),g=(0,y.getExchange)(e)||null===(a=o||C)||void 0===a?void 0:a.getRequestCountryValue(),[b,S]=await Promise.all([De(Z.current.signal,e,t,o,v,g,n),h&&!n?(0,F.getRecent)():Promise.resolve([])]),f=S.filter((e=>{var t,o;return v?(null===(t=e.exchange)||void 0===t?void 0:t.toLowerCase())===v.toLowerCase():!g||(null===(o=e.country)||void 0===o?void 0:o.toLowerCase())===g.toLowerCase()
})),x=new Set(f.map((e=>`${e.exchange}_${e.symbol}`))),_=b.symbols.filter((e=>!x.has(`${e.exchange}_${e.symbol}`)));let w=function(e,t=window.ChartApiInstance.symbolsGrouping()){var o;const n={},r=[];for(let l=0;l<e.length;++l){const a=e[l];if(a.prefix||Array.isArray(a.contracts))return e;const s=t[a.type];if(void 0===s){r.push(a);continue}const i=s.exec(a.symbol);if(i){const e=i[1];let t;n.hasOwnProperty(e)?t=n[e]:(t=r.length,n[e]=t,r.push({type:a.type,symbol:e,exchange:a.exchange,description:a.description,full_name:a.exchange+":"+e,contracts:[]})),null===(o=r[t].contracts)||void 0===o||o.push(a)}else r.push(a)}return r}([...f,..._]);if(w=A(w),s=w,w=E.enabled("widget")?s.filter((e=>!e.params||-1===e.params.indexOf("pro"))):s,n&&(w=[...T.renderSymbolSearchList,...w]),w.length)Fe(),L((o=>({...o,canChangeExchange:Boolean(C&&Q.length>1&&!(0,d.exchangeSelectDisabled)(t)),tabSelectFilters:null==q?void 0:q[t],renderSymbolSearchList:w,token:e,symbolsRemaining:b.symbols_remaining,withFilters:!!t,currentSymbolType:t,currentSelectedSearchSource:C,currentTabAvailableSearchSources:Q,symbolStartIndex:o.symbolStartIndex+b.symbols.length}))),ne("good");else{if(L((o=>({...o,canChangeExchange:Boolean(C&&Q.length>1&&!(0,d.exchangeSelectDisabled)(t)),tabSelectFilters:null==q?void 0:q[t],token:e,symbolsRemaining:0,withFilters:!!t,currentSymbolType:t,currentSelectedSearchSource:C,currentTabAvailableSearchSources:Q}))),m&&C&&k(C))return Fe(),void ne("empty");const o=t=>async function(e,t,o){return(0,u.searchSymbolsPaginated)({serverHighlight:!0,text:(0,y.shortName)(t),exchange:(0,y.getExchange)(t)||"",type:d.isSeparateSymbolSearchTabs?o:(0,d.getAllSymbolTypesValue)(),lang:window.language||"",sortByCountry:(0,O.isFeatureEnabled)("enable_symbol_search_sort_by_country")?(0,H.getCurrentLocaleInfoCountry)():void 0,brokerId:ge,onlyTradable:Boolean(ge)&&fe,unhideSymbolSearchGroups:Ce,signal:e})}(Z.current.signal,e,t),n=await Promise.all([o((0,d.getAllSymbolTypesValue)()),d.isSeparateSymbolSearchTabs?o(t):Promise.resolve(null)]);Fe();const[r,l]=n.map((e=>null===e?0:A(e.symbols).length));l?(ne("resetTabFilter"),te(l)):r?(ne("resetFilter"),te(r)):ne("empty")}}catch(e){(0,i.skipAbortError)(e)}}async function De(e,t,o,n,r,l,a){const s={serverHighlight:!0,text:(0,y.shortName)(t),exchange:r,country:l,type:o,lang:window.language||"",sortByCountry:(0,O.isFeatureEnabled)("enable_symbol_search_sort_by_country")?(0,H.getCurrentLocaleInfoCountry)():void 0,brokerId:ge,onlyTradable:Boolean(ge)&&fe,unhideSymbolSearchGroups:Ce,signal:e,start:a,filterQueryParams:Ee},c=m;return void 0!==c&&await(0,i.delay)(e,c),$?$(s):(0,u.searchSymbolsPaginated)(s)}function Be(){Re(),ne("empty"),ie(""),M(!1),L((e=>({...e,symbolStartIndex:0}))),Fe()}function Pe(){"watchlist"===j.current&&(r("symbolSearch"),(0,p.trackEvent)("Watchlist","Mobile SS","Go to SS page"))}function Ae(e){switch((0,g.hashFromEvent)(e)){case 37:case 39:Le()}}function Fe(){pe.current&&clearTimeout(pe.current)}function Re(){Z.current.abort(),Z.current=new AbortController}}},89248:(e,t,o)=>{"use strict";o.d(t,{
SymbolSearchItemsDialogContext:()=>n});const n=o(50959).createContext(null)},950186:(e,t,o)=>{"use strict";o.d(t,{SymbolSearchItemsDialog:()=>z});var n=o(50959),r=o(497754),l=o.n(r),a=o(777754),s=o(296652),i=o(125226),c=o(694302),u=o(709404),d=o(502804),m=o(62802);function h(e){const[t,o]=(0,n.useState)((()=>{const{searchSources:t}=e,o=m.getJSON("symboledit.selectedSearchSources",{}),n={};return Object.keys(o).forEach((e=>{const r=t.find((t=>t.value()===o[e]));r&&(n[e]=r)})),n}));return[t,(0,n.useCallback)(((e,t)=>{o((o=>{const n={...o,[e]:t};return function(e){const t={};Object.keys(e).forEach((o=>{t[o]=e[o].value()})),m.setJSON("symboledit.selectedSearchSources",t)}(n),n}))}),[])]}var p=o(650151);var v=o(674078),g=o(850972),b=o(345848);const S=["futures","forex","bond","economic"];var f=o(157773),y=o(87476),C=o(642709),E=o(531424),x=o(490545),k=o(89248),_=o(824686),w=o(789768),T=o(470316),L=o(717197),N=o(532006),I=o(145500),M=o(584161),D=o(23569);function B(e){const[t,o]=(0,n.useState)((()=>{const{defaultSearchSource:t,searchSources:o}=e,n=m.getValue("symboledit.exchangefilter","");return o.find((e=>e.value()===n))||t}));return[t,(0,n.useCallback)((e=>{var t;o(e),t=e,m.setValue("symboledit.exchangefilter",t.value())}),[])]}function P(e){const[t,o]=(0,n.useState)((()=>{if(1===e.types.length)return e.types[0].value;const t=m.getValue("symboledit.filter",(0,N.getAllSymbolTypesValue)());return e.types.find((e=>e.value===t))?t:(0,N.getAllSymbolTypesValue)()}));return[t,(0,n.useCallback)((e=>{var t;o(e),t=e,m.setValue("symboledit.filter",t)}),[])]}var A=o(56537),F=o(891130),R=o(494966),O=o(272473),H=o(29926);const V=(0,i.isFeatureEnabled)("broker_id_session"),W=(0,N.getAvailableSearchSources)(),G=(0,N.getDefaultSearchSource)(),U=y.enabled("uppercase_instrument_names");function z(e){var t;const{onClose:r,initialMode:l,defaultValue:i="",showSpreadActions:y,hideMarkedListFlag:E,selectSearchOnInit:F=!0,onSearchComplete:z,dialogTitle:J=a.t(null,void 0,o(882719)),placeholder:Q,fullscreen:j,initialScreen:Z,wrapper:ee,dialog:te,contentItem:oe,footer:ne,searchInput:re,emptyState:le,autofocus:ae,dialogWidth:se,onKeyDown:ie,searchSourcesScreen:ce,customSearchSymbols:ue,isDisableFiltering:de,disableRecents:me}=e,he=(0,n.useMemo)((()=>de?[]:e.symbolTypes?e.symbolTypes:(0,N.getAvailableSymbolTypes)()),[]),pe=void 0!==e.input,ve=de?[]:W,[ge,be]=(0,n.useState)(l),Se=(0,n.useRef)(i),[fe,ye]=B({searchSources:ve,defaultSearchSource:G}),[Ce,Ee]=h({searchSources:ve}),[xe,ke]=P({types:he}),[_e,we]=function(e){const[t,o]=(0,n.useState)((()=>{const t=m.getJSON("selectedSymbolSearchFilterValues",{}),o={};for(const[n,r]of Object.entries(t)){if(!e.hasOwnProperty(n))continue;const t=new Set((0,p.ensureDefined)(e[n]).map((e=>e.id)));for(const[e,l]of Object.entries(r))t.has(e)&&(o[n]||(o[n]={}),o[n][e]=l)}return o}));return[t,(0,n.useCallback)(((e,t)=>{o((o=>{const n=o[e]?{...o[e]}:{},r=Object.keys(t);for(const e of r){const o=t[e];void 0===o?n.hasOwnProperty(e)&&delete n[e]:n[e]=o}const l={...o,[e]:n}
;return m.setJSON("selectedSymbolSearchFilterValues",l),l}))}),[])]}(v.TAB_SELECT_FILTER_MAP),[Te,Le]=(0,n.useState)(!1),[Ne,Ie]=(0,n.useState)(-1),Me=N.isSeparateSymbolSearchTabs?v.TAB_SELECT_FILTER_MAP:void 0,De=N.isSeparateSymbolSearchTabs?(null==Ce?void 0:Ce[xe])||G:fe,Be=(0,n.useCallback)((e=>{(0,b.trackEvent)("New SS",xe,"Change sources"),null==Ee||Ee(xe,e)}),[xe]),Pe=(0,n.useMemo)((()=>{if(!N.isSeparateSymbolSearchTabs)return ve;return("economic"===xe?ve.map(N.mapEconomySource):ve).filter((e=>{const t=v.TAB_FILTER_MAP[xe];if(!xe)return!0;const o=e.group();return o===d.ExchangeGroup.AllExchanges||o&&t.value.includes(o)}))}),[ve,xe]),[Ae,Fe]=(0,n.useState)((()=>({canChangeExchange:Boolean(fe&&W.length>1&&!(0,N.exchangeSelectDisabled)(xe)),tabSelectFilters:null==Me?void 0:Me[xe],withFilters:!!xe,renderSymbolSearchList:[],token:Se.current,symbolsRemaining:0,currentSymbolType:xe,currentSelectedSearchSource:De,currentTabAvailableSearchSources:Pe,symbolStartIndex:0}))),Re=(0,n.useRef)(null!==(t=e.input)&&void 0!==t?t:null),[Oe,He]=(0,n.useState)(!1),Ve=(0,A.useForceUpdate)(),[We,Ge]=(0,n.useState)(new Set),{broker:Ue=null,brokerId:ze,unhideSymbolSearchGroups:Ke="",displayBrokerSymbol:Ye=!1}=(0,c.useActiveBroker)();(0,n.useLayoutEffect)((()=>{var e;!(null==Re?void 0:Re.current)||!pe&&Boolean(null===(e=Re.current)||void 0===e?void 0:e.value)||(pe||"compare"===ge||(Re.current.value=Se.current),!ae||pe&&"symbolSearch"!==ge||Re.current.focus())}),[ge]),(0,n.useEffect)((()=>{(null==Re?void 0:Re.current)&&F&&ae&&Re.current.select()}),[]);const Xe=(0,n.useMemo)((()=>Ae.renderSymbolSearchList.reduce(((e,t)=>{const o=X(t),n=We.has(o);return e.push(t),n&&t.contracts&&e.push(...t.contracts.map((e=>({...e,parent:t})))),e}),[])),[Ae.renderSymbolSearchList,We]),$e=(0,n.useRef)(null);(0,n.useEffect)((()=>{var e;-1!==Ne&&(null===(e=$e.current)||void 0===e||e.scrollIntoView({block:"nearest"}))}),[Ne,$e]);const qe=S.includes(xe),Je=(0,n.useMemo)((()=>{const e=e=>{const t=u.getExchanges?(0,u.getExchanges)().filter((t=>t.value===(e.prefix||e.exchange)))[0]:null;return(null==t?void 0:t.desc)||""};return Xe.map(((t,o)=>{var n,r,l,a;if((0,L.isSymbolSearchResult)(t)){const l=X(t),a=t.contracts?We.has(l):void 0,s=o===Ne;return{key:o,id:l,dangerousTitleHTML:Y(t,Ye),dangerousDescriptionHTML:t.description,isOffset:!1,onClick:rt.bind(null,t),providerId:t.provider_id,source:t.source,source2:t.source2,country:null===(n=t.country)||void 0===n?void 0:n.toLocaleLowerCase(),type:t.type,exchangeName:null===t.exchange?void 0:t.exchange,exchangeTooltip:e(t),prefix:t.prefix||void 0,marketType:(0,M.marketType)(t.type,t.typespecs,!1),hideMarketType:qe,isEod:null===(r=t.params)||void 0===r?void 0:r.includes("eod"),isYield:(0,O.isYield)(t),isExpanded:a,onExpandClick:t.contracts?lt.bind(null,l):void 0,fullSymbolName:t.contracts?D.QualifiedSources.fromSymbolSearchResult(t,t.contracts[0]):D.QualifiedSources.fromSymbolSearchResult(t),itemRef:s?$e:void 0,isSelected:o===Ne,hideMarkedListFlag:E,item:t,logoId:t.logoid,currencyLogoId:t["currency-logoid"],
baseCurrencyLogoId:t["base-currency-logoid"],shortName:(0,R.safeShortName)(D.QualifiedSources.fromSymbolSearchResult(t)),currencyCode:t.currency_code}}{const{parent:n}=t,r=X(n),s=o===Ne;return{key:o,id:r+t.symbol,dangerousTitleHTML:Y(t,Ye),dangerousDescriptionHTML:`${n.description} (${t.description})`,isOffset:!0,isEod:null===(l=t.params)||void 0===l?void 0:l.includes("eod"),isYield:(0,O.isYield)(t),onClick:at.bind(null,t.parent,t),providerId:n.provider_id,country:null===(a=n.country)||void 0===a?void 0:a.toLowerCase(),type:n.type,exchangeName:null===n.exchange?void 0:n.exchange,exchangeTooltip:e(n),marketType:(0,M.marketType)(n.type,t.typespecs,!1),hideMarketType:qe,fullSymbolName:D.QualifiedSources.fromSymbolSearchResult(t.parent,t),itemRef:s?$e:void 0,isSelected:s,hideMarkedListFlag:E,item:t}}}))}),[Ae.renderSymbolSearchList,We,ge,Ne,ie]),Qe=null!=te?te:q,je=Qe!==q&&!pe,Ze=(e,t)=>{var o;return{mode:ge,setMode:be,selectedSearchSource:De,setSelectedSearchSource:N.isSeparateSymbolSearchTabs?Be:ye,isAllSearchSourcesSelected:I.isAllSearchSourcesSelected,allSearchSourcesTitle:N.isSeparateSymbolSearchTabs?null===(o=v.TAB_FILTER_MAP[Ae.currentSymbolType])||void 0===o?void 0:o.allSearchSourcesTitle:void 0,selectedSymbolType:xe,setSelectedSymbolType:ke,selectedIndex:Ne,setSelectedIndex:Ie,onClose:r,setSymbolSearchContent:Fe,symbolSearchContent:Ae,searchRef:Re,cachedInputValue:Se,searchSpreads:Te,setSearchSpreads:Le,handleListWidth:st,isSmallWidth:Oe,feedItems:Je,isMobile:e,showSpreadActions:y,selectSearchOnInit:F,isTablet:t,selectedItem:Xe[Ne],forceUpdate:Ve,placeholder:Q,initialScreen:Z,toggleExpand:lt,openedItems:We,onSubmit:ut,onSearchComplete:z,footer:ne,symbolTypes:he,contentItem:oe,searchInput:re,emptyState:le,autofocus:ae,upperCaseEnabled:U,externalInput:pe,handleKeyDown:je?void 0:ct,customSearchSymbols:ue,searchSources:Pe,filterDefinitions:Me,selectedFilterValues:_e,setSelectedFilterValues:we}},et=null!=ce?ce:x.SearchSourcesDialogBody,tt="exchange"===ge,ot=tt?{title:a.t(null,void 0,o(719724)),dataName:"exchanges-search",render:()=>n.createElement(et,{searchSources:Ae.currentTabAvailableSearchSources}),additionalHeaderElement:n.createElement(w.BackButton,{onClick:()=>be("symbolSearch"),className:H.backButton,size:"medium","aria-label":a.t(null,{context:"input"},o(716936)),preservePaddings:!0}),additionalElementPos:"before"}:{title:J,dataName:"symbol-search-items-dialog",render:()=>n.createElement(_.SymbolSearchItemsDialogBody,null),additionalElementPos:"after"},nt=null!=ee?ee:"div";return n.createElement(nt,null,n.createElement(f.MatchMediaMap,{rules:C.DialogBreakpoints},(({TabletSmall:e,TabletNormal:t})=>n.createElement(k.SymbolSearchItemsDialogContext.Provider,{value:Ze(e,t)},n.createElement(Qe,{...ot,fullScreen:j,onClose:r,onClickOutside:r,onKeyDown:je?void 0:ct,isOpened:!0})))));function rt(e){if(e.contracts)return e.contracts.length?void at(e,e.contracts[0]):void lt(X(e));at(e)}function lt(e){const t=new Set(We);t.has(e)?t.delete(e):t.add(e),Ge(t)}function at(e,t){const o=t||e,{exchange:n}=e;{const e={
name:o.symbol,exchange:n,prefix:o.prefix,fullName:o.full_name};if(Te)return it(e),void Ve();if(Re.current&&Re.current.value.includes(","))return void it(e)}dt([{resolved:!0,symbol:D.QualifiedSources.fromSymbolSearchResult(e,t),result:o}]),r()}function st(e){He("fixed"===se||e<=640)}function it(e){if(!Re.current)return;const[t,o]=(0,s.getNextSymbolInputValueAndPosition)(Re.current,e,U);Re.current.value=t,Re.current.setSelectionRange(o,o),Re.current.focus()}function ct(e){switch((0,T.hashFromEvent)(e)){case 38:if(e.preventDefault(),0===Ne)return;if(-1===Ne)return void Ie(0);Ie(Ne-1);break;case 40:if(e.preventDefault(),Ne===Je.length-1)return;Ie(Ne+1);break;case 37:{if(-1===Ne)return;const t=Je[Ne],{id:o,isOffset:n,onExpandClick:r}=t;if(!n&&o&&We.has(o)&&Boolean(r)&&!Boolean(ie)&&(e.preventDefault(),lt(o)),r)return void(null==ie||ie(e,!0));break}case 39:{if(-1===Ne)return;const t=Je[Ne],{id:o,isOffset:n,onExpandClick:r}=t;if(n||!o||We.has(o)||!Boolean(r)||Boolean(ie)||(e.preventDefault(),lt(o)),r)return void(null==ie||ie(e,!0));break}case 13:e.preventDefault(),ut(!0);break;case 27:if(e.preventDefault(),tt)return void be("symbolSearch");r()}null==ie||ie(e)}function ut(e){if(!Re.current)return;let t=Re.current.value;if(Te&&t){const o=Je[Ne];if(o&&void 0!==o.isExpanded&&(o.onClick(),t=Re.current.value),t.includes(",")){return dt($(t).map(K)),void(e&&r())}return dt([{symbol:U?t.toUpperCase():t,resolved:!1}]),void(e&&r())}if(t.includes(","))return dt($(t).map(K)),void(e&&r());if(-1!==Ne){Je[Ne].onClick()}else{const o=U?t.toUpperCase():t;if(o&&""!==o.trim()){const e=$(o);if(V||void 0===ze||-1!==o.indexOf(":")){dt(e.map(K))}else(function(e){let t=!1;return Promise.all(e.map((e=>-1!==e.indexOf(":")||t?Promise.resolve({symbol:e,resolved:!1}):(t=!0,async function(e){var t;const o=null===(t=await(null==Ue?void 0:Ue.accountMetainfo()))||void 0===t?void 0:t.prefix,n=o||void 0,r=await(0,L.searchSymbolsPaginated)({strictMatch:!0,serverHighlight:!1,text:e,lang:window.language||"",brokerId:ze,onlyTradable:!0,unhideSymbolSearchGroups:Ke,exchange:n});if(0!==r.symbols.length){const e=r.symbols[0],{contracts:t}=e,o=t&&t.length>0?t[0]:void 0,n=e.prefix||e.exchange,l=o?o.symbol:e.symbol;if(n&&l)return{symbol:D.QualifiedSources.fromSymbolSearchResult(e,o),resolved:!0,result:e}}return{symbol:e,resolved:!1}}(e)))))})(e).then((e=>dt(e)))}e&&r()}}async function dt(e){if(!me){const[{symbol:t,resolved:o}]=e;o?(0,g.addRecentProName)(t):await(0,g.addRecentUnresolved)(t)}z(e,{symbolType:xe})}}function K(e){return{symbol:U?e.toUpperCase():e,resolved:!1}}function Y(e,t){const{broker_symbol:o,symbol:n,description:r}=e;return`${"spread"===e.type?r:n}${t&&o?` (${o})`:""}`}function X(e){return e.symbol+e.exchange+e.description}function $(e){return e.split(",").map((e=>e.trim())).filter((e=>""!==e))}function q(e){const{isMobile:t,isTablet:o}=(0,F.useEnsuredContext)(k.SymbolSearchItemsDialogContext);return n.createElement(E.AdaptivePopupDialog,{...e,className:l()(H.dialog,!t&&(o?H.tabletDialog:H.desktopDialog)),backdrop:!0,draggable:!1})}},133181:(e,t,o)=>{
"use strict";o.d(t,{SymbolSearchNoResult:()=>s});var n=o(50959),r=o(497754),l=o.n(r),a=o(573499);function s(e){const{children:t,className:o}=e;return n.createElement("div",{className:l()(a.container,o)},n.createElement("div",{className:a.childrenWrapper},t))}},850972:(e,t,o)=>{"use strict";o.d(t,{getRecent:()=>i,addRecentUnresolved:()=>c,addRecentProName:()=>u});var n=o(125226),r=o(62802),l=o(696828),a=o(795394);const s=new Set(["pro_name","short_name","description","exchange","type","country_code","provider_id","logoid","currency-logoid","base-currency-logoid","update_mode","typespecs","source","source2"]);async function i(){if(d())return[];return async function(e){const t=[],o=await(0,a.snapshoter)().getSnapshotsForAll(e,s);return o.filter(m).forEach((e=>{const{values:{short_name:o,pro_name:n,description:r,type:a,logoid:s,"currency-logoid":i,"base-currency-logoid":c,country_code:u,provider_id:d,update_mode:m,typespecs:h,source:p,source2:v}}=e;r&&a&&t.push({symbol:"spread"===a?n:o,exchange:"spread"===a?null:(0,l.getExchange)(n),description:r,type:a,typespecs:h,logoid:s,"currency-logoid":i,"base-currency-logoid":c,country:null==u?void 0:u.toLowerCase(),provider_id:null==d?void 0:d.toLowerCase(),params:"endofday"===m?["eod"]:void 0,source:p,source2:v})})),t}(r.getJSON("SymbolSearch.recent",[]).filter((e=>"string"==typeof e)))}async function c(e){if(d())return;const t=await async function(e){const t=await(0,a.snapshoter)().getSnapshot(e,s);return m(t)?t.values.pro_name:null}(e);null!==t&&u(t)}function u(e){if(d()||"string"!=typeof e)return;const t=new Set(r.getJSON("SymbolSearch.recent",[]));t.has(e)&&t.delete(e),t.has(null)&&t.delete(null),r.setJSON("SymbolSearch.recent",[e,...t].slice(0,30))}function d(){return!(0,n.isFeatureEnabled)("enable_symbol_search_recents")}function m(e){return"error"!==e.status}},989452:(e,t,o)=>{"use strict";o.d(t,{isSymbolSearchPaginationEnabled:()=>n});const n=(0,o(125226).isFeatureEnabled)("enable_symbol_search_pagination")},478710:(e,t,o)=>{"use strict";o.d(t,{Flag:()=>s});var n=o(50959),r=o(670797),l=o(626740),a=o(153716);class s extends n.Component{constructor(){super(...arguments),this._symbolMarker=null,this._ref=null,this._handleRef=e=>{const{symbol:t,onClick:o,className:n,activeClassName:r,forceVisible:s=!1}=this.props;null!==e&&(this._symbolMarker=new l.SymbolMarker({symbol:t,className:n,container:e,activeClassName:r||(s?a.forceVisible:a.visible),onClick:(e,t)=>{o?o(e,t):t()},manager:this.context})),this._ref=e}}shouldComponentUpdate(e){return this.props.symbol!==e.symbol||this.props.className!==e.className}componentDidUpdate(e){var t,o;const{symbol:n,className:r}=this.props;null!==this._ref&&(n!==e.symbol&&(null===(t=this._symbolMarker)||void 0===t||t.bindTo(this.props.symbol,this._ref)),r!==e.className&&r&&(null===(o=this._symbolMarker)||void 0===o||o.setClassName(r)))}componentWillUnmount(){this._symbolMarker&&this._symbolMarker.destroy()}render(){return n.createElement("span",{className:a.container,ref:this._handleRef})}}s.contextType=r.SlotContext},145110:(e,t,o)=>{
"use strict";o.d(t,{BubbleRow:()=>s});var n=o(50959),r=o(497754),l=o(401993),a=o(100266);function s(e){const{className:t,itemClassName:o,itemContentClassName:s,items:i,getItemTitle:c,getItemTooltip:u,getItemKey:d,checkItemIsActive:m,getItemColor:h,onBubbleClick:p,multiline:v,children:g,BubbleComponent:b=l.Bubble,reference:S,fontSize:f}=e;return n.createElement("div",{className:r(t,a.bubbles,v&&a.multiLine),ref:S},i.map(((e,t)=>n.createElement(b,{key:d?d(e):t,id:d?d(e):t.toString(),className:r(a.bubble,o),contentClassName:s,onClick:function(){p(e)},onMouseDown:function(e){e.preventDefault()},isActive:!!m&&m(e),activeColor:h?h(e):void 0,fontSize:f,title:u?u(e):void 0},c(e)))),g)}},401993:(e,t,o)=>{"use strict";o.d(t,{Bubble:()=>c});var n=o(50959),r=o(497754),l=o.n(r),a=o(8626),s=o(279930);function i(e){const{title:t,isActive:o,isAnimated:n,activeColor:r,size:a="m",appearance:i="default",fontSize:c="m",className:u}=e;return l()(s.bubble,o&&s.active,r&&s[r],t&&"apply-common-tooltip",a&&s[`size-${a}`],c&&s[`fontSize-${c}`],i&&s[`appearance-${i}`],n&&s.animated,u)}function c(e){const{id:t,title:o,tabIndex:r,role:c,contentClassName:u,children:d,onClick:m,onMouseDown:h,reference:p,...v}=e;return n.createElement("span",{...(0,a.filterAriaProps)(v),...(0,a.filterDataProps)(v),id:t,title:o,tabIndex:r,role:c,className:i(e),onClick:m,onMouseDown:h,ref:p},n.createElement("span",{className:l()(s.content,u)},d))}},948019:(e,t,o)=>{"use strict";o.d(t,{ContextMenuContext:()=>n});const n=o(50959).createContext(null)},458692:(e,t,o)=>{"use strict";o.d(t,{useDisclosure:()=>n.useDisclosure});var n=o(718083)},582997:(e,t,o)=>{"use strict";o.d(t,{Hint:()=>s});var n=o(50959),r=o(497754),l=o.n(r),a=o(768550);function s(e){const{text:t="",className:o}=e;return n.createElement("span",{className:l()(a.shortcut,o)},t)}},886004:(e,t,o)=>{"use strict";o.d(t,{ContextMenuItem:()=>p});var n=o(50959),r=o(497754),l=o.n(r),a=o(83436),s=o(612247),i=o(302478),c=o(582997),u=o(339750),d=o(379978),m=o(69311),h=o(503651);function p(e){const{isTitle:t,isLoading:o,isHovered:r,active:p,checkable:v,disabled:g,checked:b,icon:S,iconChecked:f,hint:y,subItems:C,label:E,onClick:x,children:k,toolbox:_,jsxLabel:w,size:T="normal"}=e,L=(0,n.useContext)(i.EmptyIconsContext),N=!!C.length;return o?n.createElement("li",{className:l()(h.item,h.loading,h[T])},n.createElement(s.Loader,null)):n.createElement("li",{className:l()(h.item,h.interactive,t&&h.title,g&&h.disabled,r&&h.hovered,p&&h.active,L&&h.emptyIcons,h[T]),onClick:x},n.createElement(a.Icon,{className:l()(h.icon),icon:function(){if(v&&b)return f||S||u;return S}()}),n.createElement("span",{className:l()(h.label)},null!=w?w:E),!!_&&n.createElement(a.Icon,{onClick:function(){_&&_.action()},className:h.remove,icon:m}),!N&&y&&n.createElement(c.Hint,{className:h.shortcut,text:y}),N&&n.createElement(a.Icon,{className:h.nested,icon:d}),k)}},67812:(e,t,o)=>{"use strict";o.d(t,{ContextMenuList:()=>m});var n=o(50959),r=o(481956);function l(e){return n.createElement("li",{className:r.separator})}
var a=o(886004),s=o(762852),i=o(224743);function c(e){const{action:t}=e,[o,r]=(0,n.useState)((()=>t.getState())),[l,c]=(0,n.useState)(!1),u=!!o.subItems.length,d=u&&l;return(0,n.useEffect)((()=>{const e=()=>r(t.getState());return t.onUpdate().subscribe(null,e),()=>{t.onUpdate().unsubscribe(null,e)}}),[]),n.createElement(a.ContextMenuItem,{...o,onClick:function(e){if(o.disabled||e.defaultPrevented)return;if(u)return void c(!0);o.doNotCloseOnClick||(0,i.globalCloseMenu)();t.execute()},isLoading:o.loading,isHovered:d},d&&n.createElement(s.Drawer,{onClose:h},n.createElement(m,{items:o.subItems,parentAction:t,closeNested:h})));function h(e){e&&e.preventDefault(),c(!1)}}var u=o(302478),d=o(366493);function m(e){const{items:t,parentAction:o,closeNested:r}=e,s=!Boolean(o)&&t.every((e=>!Boolean("separator"!==e.type&&(e.getState().icon||e.getState().checkable))));return n.createElement(u.EmptyIconsContext.Provider,{value:s},n.createElement("ul",null,o&&n.createElement(n.Fragment,null,n.createElement(a.ContextMenuItem,{label:o.getState().label,isTitle:!0,active:!1,disabled:!1,subItems:[],checkable:!1,checked:!1,doNotCloseOnClick:!1,icon:d,onClick:r}),n.createElement(l,null)),t.map((e=>{switch(e.type){case"action":return n.createElement(c,{key:e.id,action:e});case"separator":return n.createElement(l,{key:e.id})}}))))}},302478:(e,t,o)=>{"use strict";o.d(t,{EmptyIconsContext:()=>n});const n=o(50959).createContext(!1)},742231:(e,t,o)=>{"use strict";o.d(t,{rankedSearch:()=>r,createRegExpList:()=>l,getHighlightedChars:()=>a});var n=o(758337);function r(e){const{data:t,rules:o,queryString:r,isPreventedFromFiltering:l,primaryKey:a,secondaryKey:s=a,optionalPrimaryKey:i,tertiaryKey:c}=e;return t.map((e=>{const t=i&&e[i]?e[i]:e[a],l=e[s],u=c&&e[c];let d,m=0;return o.forEach((e=>{var o,a,s,i,c;const{re:h,fullMatch:p}=e;if(h.lastIndex=0,(0,n.isString)(t)&&t&&t.toLowerCase()===r.toLowerCase())return m=4,void(d=null===(o=t.match(p))||void 0===o?void 0:o.index);if((0,n.isString)(t)&&p.test(t))return m=3,void(d=null===(a=t.match(p))||void 0===a?void 0:a.index);if((0,n.isString)(l)&&p.test(l))return m=2,void(d=null===(s=l.match(p))||void 0===s?void 0:s.index);if((0,n.isString)(l)&&h.test(l))return m=2,void(d=null===(i=l.match(h))||void 0===i?void 0:i.index);if(Array.isArray(u))for(const e of u)if(p.test(e))return m=1,void(d=null===(c=e.match(p))||void 0===c?void 0:c.index)})),{matchPriority:m,matchIndex:d,item:e}})).filter((e=>l||e.matchPriority)).sort(((e,t)=>{if(e.matchPriority<t.matchPriority)return 1;if(e.matchPriority>t.matchPriority)return-1;if(e.matchPriority===t.matchPriority){if(void 0===e.matchIndex||void 0===t.matchIndex)return 0;if(e.matchIndex>t.matchIndex)return 1;if(e.matchIndex<t.matchIndex)return-1}return 0})).map((({item:e})=>e))}function l(e,t){const o=[],n=e.toLowerCase(),r=e.split("").map(((e,t)=>`(${0!==t?`[/\\s-]${s(e)}`:s(e)})`)).join("(.*?)")+"(.*)";return o.push({fullMatch:new RegExp(`(${s(e)})`,"i"),re:new RegExp(`^${r}`,"i"),reserveRe:new RegExp(r,"i"),fuzzyHighlight:!0}),t&&t.hasOwnProperty(n)&&o.push({
fullMatch:t[n],re:t[n],fuzzyHighlight:!1}),o}function a(e,t,o){const n=[];return e&&o?(o.forEach((e=>{const{fullMatch:o,re:r,reserveRe:l}=e;o.lastIndex=0,r.lastIndex=0;const a=o.exec(t),s=a||r.exec(t)||l&&l.exec(t);if(e.fuzzyHighlight=!a,s)if(e.fuzzyHighlight){let e=s.index;for(let t=1;t<s.length;t++){const o=s[t],r=s[t].length;if(t%2){const t=o.startsWith(" ")||o.startsWith("/")||o.startsWith("-");n[t?e+1:e]=!0}e+=r}}else for(let e=0;e<s[0].length;e++)n[s.index+e]=!0})),n):n}function s(e){return e.replace(/[!-/[-^{-}]/g,"\\$&")}},452623:(e,t,o)=>{"use strict";o.d(t,{HighlightedText:()=>s});var n=o(50959),r=o(497754),l=o(742231),a=o(683307);function s(e){const{queryString:t,rules:o,text:s,className:i}=e,c=(0,n.useMemo)((()=>(0,l.getHighlightedChars)(t,s,o)),[t,o,s]);return n.createElement(n.Fragment,null,c.length?s.split("").map(((e,t)=>n.createElement(n.Fragment,{key:t},c[t]?n.createElement("span",{className:r(a.highlighted,i)},e):n.createElement("span",null,e)))):s)}},694302:(e,t,o)=>{"use strict";o.d(t,{useActiveBroker:()=>a});var n=o(50959),r=o(62802),l=o(893271);function a(){const[e,t]=(0,n.useState)(s),o=(0,n.useMemo)((()=>function(e){if(e&&e.metainfo().configFlags.supportSymbolSearch)return e.metainfo().backendBrokerName||e.metainfo().id.toLowerCase();return}(e)),[e]),a=(0,n.useMemo)((()=>function(e,t){if(t)return null==e?void 0:e.metainfo().title;return}(e,o)),[e,o]),i=(0,n.useMemo)((()=>function(e){if(e)return{logoMiniUrl:e.metainfo().logoMiniUrl,logoMiniBlackUrl:e.metainfo().logoMiniBlackUrl};return}(e)),[e]),c=(0,n.useMemo)((()=>function(e){if(e){const t=e.metainfo().configFlags.supportUnhideSymbolSearchGroups;if(1===e.connectionStatus()&&t&&e.unhideSymbolSearchGroups)return e.unhideSymbolSearchGroups().join(",")}return}(e)),[e]),u=(0,n.useMemo)((()=>function(e){return Boolean(null==e?void 0:e.metainfo().configFlags.supportDisplayBrokerNameInSymbolSearch)}(e)),[e]);(0,n.useEffect)((()=>{const e=(0,l.tradingService)(),o=()=>{t(s())};return e&&(e.onBrokerChange.subscribe(null,o),e.onConnectionStatusChange.subscribe(null,o)),()=>{e&&(e.onBrokerChange.unsubscribe(null,o),e.onConnectionStatusChange.unsubscribe(null,o))}}),[]);const[d,m]=(0,n.useState)((()=>r.getBool("symboledit.tradable",!0)));return(0,n.useEffect)((()=>{r.setValue("symboledit.tradable",d)}),[d]),{broker:e,brokerId:o,brokerTitle:a,brokerLogoInfo:i,isBrokerChecked:d,setIsBrokerChecked:m,unhideSymbolSearchGroups:c,displayBrokerSymbol:u}}function s(){const e=(0,l.tradingService)();return e&&1===e.connectStatus()?e.activeBroker():null}},891130:(e,t,o)=>{"use strict";o.d(t,{useEnsuredContext:()=>l});var n=o(50959),r=o(650151);function l(e){return(0,r.ensureNotNull)((0,n.useContext)(e))}},324997:(e,t,o)=>{"use strict";o.d(t,{useResizeObserver:()=>n.useResizeObserver});var n=o(444530)},50430:(e,t,o)=>{"use strict";o.d(t,{useTheme:()=>l});var n=o(631078),r=o(331633);function l(){return(0,n.useWatchedValueReadonly)({watchedValue:r.watchedTheme})}},631078:(e,t,o)=>{"use strict";o.d(t,{useWatchedValueReadonly:()=>r});var n=o(50959);const r=(e,t=!1)=>{
const o="watchedValue"in e?e.watchedValue:void 0,r="defaultValue"in e?e.defaultValue:e.watchedValue.value(),[l,a]=(0,n.useState)(o?o.value():r);return(t?n.useLayoutEffect:n.useEffect)((()=>{if(o){a(o.value());const e=e=>a(e);return o.subscribe(e),()=>o.unsubscribe(e)}return()=>{}}),[o]),l}},157773:(e,t,o)=>{"use strict";o.d(t,{MatchMediaMap:()=>a});var n=o(50959),r=o(266783),l=o.n(r);class a extends n.Component{constructor(e){super(e),this._handleMediaChange=()=>{const e=i(this.state.queries,((e,t)=>t.matches));let t=!1;for(const o in e)if(e.hasOwnProperty(o)&&this.state.matches[o]!==e[o]){t=!0;break}t&&this.setState({matches:e})};const{rules:t}=this.props;this.state=s(t)}shouldComponentUpdate(e,t){return!l()(e,this.props)||(!l()(t.rules,this.state.rules)||!l()(t.matches,this.state.matches))}componentDidMount(){this._migrate(null,this.state.queries)}componentDidUpdate(e,t){l()(e.rules,this.props.rules)||this._migrate(t.queries,this.state.queries)}componentWillUnmount(){this._migrate(this.state.queries,null)}render(){return this.props.children(this.state.matches)}static getDerivedStateFromProps(e,t){if(l()(e.rules,t.rules))return null;const{rules:o}=e;return s(o)}_migrate(e,t){null!==e&&i(e,((e,t)=>{t.removeListener(this._handleMediaChange)})),null!==t&&i(t,((e,t)=>{t.addListener(this._handleMediaChange)}))}}function s(e){const t=i(e,((e,t)=>window.matchMedia(t)));return{queries:t,matches:i(t,((e,t)=>t.matches)),rules:{...e}}}function i(e,t){const o={};for(const n in e)e.hasOwnProperty(n)&&(o[n]=t(n,e[n]));return o}},221155:(e,t,o)=>{"use strict";o.d(t,{Separator:()=>a});var n=o(50959),r=o(497754),l=o(94725);function a(e){return n.createElement("div",{className:r(l.separator,e.className)})}},443549:(e,t,o)=>{"use strict";o.d(t,{Spinner:()=>a});var n=o(50959),r=o(497754),l=o(607436);o(286625);function a(e){const t=r(e.className,"tv-spinner","tv-spinner--shown",`tv-spinner--size_${l.spinnerSizeMap[e.size||l.DEFAULT_SIZE]}`);return n.createElement("div",{className:t,style:e.style,role:"progressbar"})}},927592:(e,t,o)=>{"use strict";o.d(t,{splitThousands:()=>r});var n=o(150335);function r(e,t="&nbsp;"){let o=e+"";-1!==o.indexOf("e")&&(o=function(e){return(0,n.fixComputationError)(e).toFixed(10).replace(/\.?0+$/,"")}(Number(e)));const r=o.split(".");return r[0].replace(/\B(?=(\d{3})+(?!\d))/g,t)+(r[1]?"."+r[1]:"")}},136916:(e,t,o)=>{"use strict";var n,r,l,a,s,i,c,u,d,m,h,p,v,g,b;o.d(t,{BracketType:()=>u,PipValueType:()=>g}),function(e){e[e.CONNECTED=1]="CONNECTED",e[e.CONNECTING=2]="CONNECTING",e[e.DISCONNECTED=3]="DISCONNECTED",e[e.ERROR=4]="ERROR"}(n||(n={})),function(e){e[e.LIMIT=1]="LIMIT",e[e.MARKET=2]="MARKET",e[e.STOP=3]="STOP",e[e.STOPLIMIT=4]="STOPLIMIT"}(r||(r={})),function(e){e[e.BUY=1]="BUY",e[e.SELL=-1]="SELL"}(l||(l={})),function(e){e[e.CANCELED=1]="CANCELED",e[e.FILLED=2]="FILLED",e[e.INACTIVE=3]="INACTIVE",e[e.PLACING=4]="PLACING",e[e.REJECTED=5]="REJECTED",e[e.WORKING=6]="WORKING"}(a||(a={})),function(e){e[e.ALL=0]="ALL",e[e.CANCELED=1]="CANCELED",e[e.FILLED=2]="FILLED",e[e.INACTIVE=3]="INACTIVE",
e[e.REJECTED=5]="REJECTED",e[e.WORKING=6]="WORKING"}(s||(s={})),function(e){e[e.Order=1]="Order",e[e.Position=2]="Position"}(i||(i={})),function(e){e[e.ORDER=1]="ORDER",e[e.POSITION=2]="POSITION"}(c||(c={})),function(e){e[e.StopLoss=0]="StopLoss",e[e.TakeProfit=1]="TakeProfit",e[e.TrailingStop=2]="TrailingStop"}(u||(u={})),function(e){e[e.LIMITPRICE=1]="LIMITPRICE",e[e.STOPPRICE=2]="STOPPRICE",e[e.TAKEPROFIT=3]="TAKEPROFIT",e[e.STOPLOSS=4]="STOPLOSS"}(d||(d={})),function(e){e[e.ERROR=0]="ERROR",e[e.SUCCESS=1]="SUCCESS"}(m||(m={})),function(e){e.Information="information",e.Warning="warning",e.Error="error"}(h||(h={})),function(e){e.Demo="demo",e.Live="live"}(p||(p={})),function(e){e[e.LogOut=0]="LogOut",e[e.FailedRestoring=1]="FailedRestoring",e[e.Offline=2]="Offline",e[e.APIError=3]="APIError",e[e.TwoFactorRequired=4]="TwoFactorRequired",e[e.CancelAuthorization=5]="CancelAuthorization",e[e.TimeOutForAuthorization=6]="TimeOutForAuthorization",e[e.OauthError=7]="OauthError",e[e.BrokenConnection=8]="BrokenConnection"}(v||(v={})),function(e){e[e.None=0]="None",e[e.Pips=1]="Pips",e[e.Ticks=2]="Ticks"}(g||(g={})),function(e){e.Halted="HALTED",e.NotShortable="NOT-SHORTABLE",e.HardToBorrow="HARD-TO-BORROW"}(b||(b={}))},717197:(e,t,o)=>{"use strict";o.d(t,{SYMBOL_SEARCH_VERSION_3_ENABLED:()=>E,isSymbolSearchResult:()=>y,searchSymbolsPaginated:()=>C});var n=o(650151),r=o(66974),l=o(175203);function a(e){const t=new URLSearchParams;for(const[o,n]of Object.entries(e))void 0!==n&&t.set(o,String(n));return t.toString()}var s,i=o(777754),c=(o(960521),o(136916));!function(e){e[e.StopLoss=0]="StopLoss",e[e.TrailingStop=1]="TrailingStop"}(s||(s={}));o(927592),o(758337);var u=o(272001),d=o(535799),m=o(531733);(0,u.getLogger)("Trading.Utils");i.t(null,void 0,o(609372));function h(e){if(void 0===e)return i.t(null,void 0,o(328523));let t;return t=e instanceof Error?e.message:"object"==typeof e?JSON.stringify(e):e.toString(),(0,d.removeTags)(t)}function p(e){return e instanceof m.UserFriendlyError?(0,d.removeTags)(e.detailedErrorMessage):h(e)}c.BracketType.StopLoss,i.t(null,void 0,o(241648)),c.BracketType.TakeProfit,i.t(null,void 0,o(129266)),c.BracketType.TrailingStop,i.t(null,void 0,o(86430)),c.BracketType.StopLoss,c.BracketType.TakeProfit,c.BracketType.TrailingStop;new Set(["date","dateOrDateTime","default","fixed","variablePrecision","formatQuantity","formatPrice","formatPriceForexSup","integerSeparated","localDate","localDateOrDateTime","percentage","pips","profit","profitInInstrumentCurrency","side","positionSide","status","symbol","text","type","marginPercent","empty"]);var v=o(989452),g=o(87476),b=o(125226),S=o(711242),f=o(890740);function y(e){return e.hasOwnProperty("exchange")}async function C(e){var t,o,n,r;if(!v.isSymbolSearchPaginationEnabled){const t=await async function(e){var t,o,n,r;const s=`${w()}?${a(x(e))}`,i=(new Date).getTime();try{const r=await(0,f.fetch)(s,{signal:e.signal});if(!r.ok)throw null===(t=e.serverLogger)||void 0===t||t.log({action:"symbol-search.error-response",level:"error",payload:{request:{url:s,
method:"GET"},statusCode:r.status,message:(await r.text()).slice(0,250)}}),new Error(`${r.status}: ${r.statusText}`);const a=await r.json();return l.telemetry.sendChartReport("symbol_search_http_status",{value:r.status}),0===a.length?null===(o=e.serverLogger)||void 0===o||o.log({action:"symbol-search.empty-response",level:"error",payload:{request:{url:s,method:"GET"}}}):null===(n=e.serverLogger)||void 0===n||n.log({action:"symbol-search.success-response",level:"info",payload:{request:{url:s,method:"GET"},symbolsCount:a.length}}),a}catch(t){throw l.telemetry.sendChartReport("symbol_search_http_error"),null===(r=e.serverLogger)||void 0===r||r.log({action:"symbol-search.network-error",level:"error",payload:{request:{url:s,method:"GET"},message:p(t)}}),t}finally{k(i)}}(e);return{symbols:t,symbols_remaining:0}}const s=`${w(!0)}?${a(x(e))}`,i=(new Date).getTime();try{const r=await(0,f.fetch)(s,{signal:e.signal});if(!r.ok)throw null===(t=e.serverLogger)||void 0===t||t.log({action:"symbol-search.error-response",level:"error",payload:{request:{url:s,method:"GET"},statusCode:r.status,message:(await r.text()).slice(0,250)}}),new Error(`${r.status}: ${r.statusText}`);const a=await r.json();return l.telemetry.sendChartReport("symbol_search_http_status",{value:r.status}),0===a.symbols.length?null===(o=e.serverLogger)||void 0===o||o.log({action:"symbol-search.empty-response",level:"error",payload:{request:{url:s,method:"GET"}}}):null===(n=e.serverLogger)||void 0===n||n.log({action:"symbol-search.success-response",level:"info",payload:{request:{url:s,method:"GET"},symbolsCount:a.symbols.length}}),a}catch(t){throw l.telemetry.sendChartReport("symbol_search_http_error"),null===(r=e.serverLogger)||void 0===r||r.log({action:"symbol-search.network-error",level:"error",payload:{request:{url:s,method:"GET"},message:p(t)}}),t}finally{k(i)}}const E=!g.enabled("widget")&&(0,b.isFeatureEnabled)("enable_symbol_search_version_3");function x(e){const t={};void 0!==e.text&&(t.text=e.text),void 0!==e.brokerSymbols&&(t.broker_symbols=e.brokerSymbols.sort().join(",")),void 0!==e.serverHighlight&&(t.hl=e.serverHighlight?"1":"0"),void 0!==e.exchange&&(t.exchange=e.exchange),void 0!==e.country&&(t.country=e.country),e.strictMatch&&(t.strict="1"),e.noLimits&&(t.no_limits="1"),void 0!==e.lang&&(t.lang=e.lang);const{type:o}=e;var r;void 0!==o&&(E?t.search_type=(r=o,(0,n.ensureDefined)(T.get(r))):t.type=o),void 0!==e.start&&(t.start=e.start);const{filterQueryParams:l}=e;return void 0!==l&&Object.keys(l).forEach((e=>{const o=l[e];o&&(t[e]=o)})),window.SS_DOMAIN_PARAMETER&&(t.domain=window.SS_DOMAIN_PARAMETER),e.brokerId&&(t.broker=e.brokerId.toLowerCase(),e.onlyTradable&&(t.tradable="1"),e.unhideSymbolSearchGroups&&(t.unhide=e.unhideSymbolSearchGroups)),(0,b.isFeatureEnabled)("enable_symbol_search_sort_by_country")&&e.sortByCountry&&(t.sort_by_country=e.sortByCountry),t}function k(e){const t=(new Date).getTime()-e;l.telemetry.sendChartReport("symbol_search_time_frame",{value:t})}const _={0:{0:"/s/",1:"/symbol_search/v3/",2:"/symbol_search/"},1:{
0:"/local_search_v2/",1:"/local_search/v3/",2:"/local_search/"}};function w(e){let t="https://"+window.SS_HOST;const o=(0,r.isProd)()?0:1;return t+=_[o][e?E?1:0:2],window.SS_URL&&(t=window.SS_URL),t}const T=new Map((E?S:[]).map((({value:e,search_type:t})=>[e,t])))},584161:(e,t,o)=>{"use strict";o.d(t,{marketType:()=>s});var n=o(777754);const r=new Map([["cfd",n.t(null,void 0,o(487592))],["dr",n.t(null,void 0,o(667245))],["index",n.t(null,void 0,o(612754))],["forex",n.t(null,void 0,o(739512))],["right",n.t(null,{context:"symbol_type"},o(709898))],["bond",n.t(null,void 0,o(879852))],["bitcoin",n.t(null,void 0,o(308448))],["crypto",n.t(null,void 0,o(308448))],["economic",n.t(null,void 0,o(488720))],["indices",n.t(null,void 0,o(138071))],["futures",n.t(null,void 0,o(781859))],["stock",n.t(null,void 0,o(636931))]]);o(984919);const l=new Map,a=new Set(["cfd","spreadbet","defi","sharia","yield","government","corporate","mutual","money","etf","unit","trust","reit","etn","convertible","closedend","crypto","oracle"]);function s(e,t=[],o=!0){const n=t.filter((e=>a.has(e))),s=`${e}_${n.sort().join("_")}`,i=l.get(s);if(void 0!==i)return i;const c=o?function(e){return r.get(e)||e}(e):e,u=Boolean(t.length)?[c,...n].join(" "):c;return l.set(s,u),u}},552019:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M13.35 5.35a.5.5 0 0 0-.7-.7L9 8.29 5.35 4.65a.5.5 0 1 0-.7.7L8.29 9l-3.64 3.65a.5.5 0 0 0 .7.7L9 9.71l3.65 3.64a.5.5 0 0 0 .7-.7L9.71 9l3.64-3.65z"/></svg>'},295694:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.2" d="M17 22.5 6.85 12.35a.5.5 0 0 1 0-.7L17 1.5"/></svg>'},249498:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.2" d="M12 16.5 4.85 9.35a.5.5 0 0 1 0-.7L12 1.5"/></svg>'},560176:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.2" d="M9.5 12.5 3.9 7.37a.5.5 0 0 1 0-.74L9.5 1.5"/></svg>'},935369:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" width="12" height="12" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.2" d="M8 10.5 3.85 6.35a.5.5 0 0 1 0-.7L8 1.5"/></svg>'},758478:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10" width="10" height="10" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.2" d="M7 8.5 3.85 5.35a.5.5 0 0 1 0-.7L7 1.5"/></svg>'},773063:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M17 22.5 6.85 12.35a.5.5 0 0 1 0-.7L17 1.5"/></svg>'},914127:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M12 16.5 4.85 9.35a.5.5 0 0 1 0-.7L12 1.5"/></svg>'},218073:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M9.5 12.5 3.9 7.37a.5.5 0 0 1 0-.74L9.5 1.5"/></svg>'},124097:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" width="12" height="12" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M8 10.5 3.85 6.35a.5.5 0 0 1 0-.7L8 1.5"/></svg>'},142576:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10" width="10" height="10" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 8.5 3.85 5.35a.5.5 0 0 1 0-.7L7 1.5"/></svg>'},366493:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.5 20L11 14.5 16.5 9"/></svg>'},379978:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M8 5l3.5 3.5L8 12"/></svg>'},339750:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 15l5 5L23 9"/></svg>'},491540:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M2.5 14.5c1.68-1.26 3.7-2 6.5-2s4.91.74 6.5 2m-13-11c1.68 1.26 3.7 2 6.5 2s4.91-.74 6.5-2"/><circle stroke="currentColor" cx="9" cy="9" r="8.5"/><path stroke="currentColor" d="M13.5 9c0 2.42-.55 4.58-1.4 6.12-.87 1.56-1.98 2.38-3.1 2.38s-2.23-.82-3.1-2.38c-.85-1.54-1.4-3.7-1.4-6.12s.55-4.58 1.4-6.12C6.77 1.32 7.88.5 9 .5s2.23.82 3.1 2.38c.85 1.54 1.4 3.7 1.4 6.12z"/></svg>'},69311:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M9.7 9l4.65-4.65-.7-.7L9 8.29 4.35 3.65l-.7.7L8.29 9l-4.64 4.65.7.7L9 9.71l4.65 4.64.7-.7L9.71 9z"/></svg>'},366619:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="120" height="120"><path fill="#B2B5BE" fill-rule="evenodd" d="M23 39a36 36 0 0 1 72 0v13.15l15.1 8.44 2.16 1.2-1.64 1.86-12.85 14.59 3.73 4.03L98.57 85 95 81.13V117H77v-12H67v9H50V95H40v22H23V81.28l-3.8 3.61-2.76-2.9 4.05-3.84-12.77-14.5-1.64-1.86 2.16-1.2L23 52.34V39Zm72 36.33 10.98-12.46L95 56.73v18.6ZM23 56.92v18.03L12.35 62.87 23 56.92ZM59 7a32 32 0 0 0-32 32v74h9V91h18v19h9v-9h18v12h10V39A32 32 0 0 0 59 7Zm-7 36a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm19 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></svg>'},267562:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="120" height="120"><path fill="#131722" fill-rule="evenodd" d="M23 39a36 36 0 0 1 72 0v13.15l15.1 8.44 2.16 1.2-1.64 1.86-12.85 14.59 3.73 4.03L98.57 85 95 81.13V117H77v-12H67v9H50V95H40v22H23V81.28l-3.8 3.61-2.76-2.9 4.05-3.84-12.77-14.5-1.64-1.86 2.16-1.2L23 52.34V39Zm72 36.33 10.98-12.46L95 56.73v18.6ZM23 56.92v18.03L12.35 62.87 23 56.92ZM59 7a32 32 0 0 0-32 32v74h9V91h18v19h9v-9h18v12h10V39A32 32 0 0 0 59 7Zm-7 36a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm19 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></svg>'},24122:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="currentColor" d="M4 8a4 4 0 1 0 8 0 4 4 0 1 0-8 0"/></svg>'},676809:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="evenodd" d="M0 8a8 8 0 1 0 16 0A8 8 0 1 0 0 8zm2 0a6 6 0 1 0 12 0A6 6 0 1 0 2 8zm2 0a4 4 0 1 0 8 0 4 4 0 1 0-8 0"/></svg>'},904799:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 12" width="14" height="12" fill="currentColor" focusable="false" preserveAspectRatio="none"><path d="M14 12l-4-6 4-6H0v12z"/></svg>'},969859:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none"><path stroke="currentColor" d="M12.4 12.5a7 7 0 1 0-4.9 2 7 7 0 0 0 4.9-2zm0 0l5.101 5"/></svg>'},569533:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none"><path stroke="currentColor" d="M8 5l3.5 3.5L8 12"/></svg>'},900486:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><path fill="none" stroke="currentColor" stroke-linecap="square" d="M2.5 6.5h9"/><circle fill="currentColor" cx="7" cy="3" r="1"/><circle fill="currentColor" cx="7" cy="10" r="1"/></svg>'},863861:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><g fill="none" fill-rule="evenodd" stroke="currentColor"><path stroke-linecap="square" stroke-linejoin="round" d="M3.5 10V2.5L1 5"/><path stroke-linecap="square" d="M1.5 10.5h4"/><path d="M8 12l3-11"/></g></svg>'},481574:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><path fill="none" stroke="currentColor" stroke-linecap="square" d="M2.5 6.5h8"/></svg>'},132617:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><path fill="none" stroke="currentColor" stroke-linecap="square" d="M3 10l7-7M3 3l7 7"/></svg>'},935119:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><path fill="none" stroke="currentColor" stroke-linecap="square" d="M2.5 6.5h8m-4-4v8"/></svg>'},569135:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><path fill="none" stroke="currentColor" stroke-linecap="square" d="M3 7l3.5-3.5L10 7"/></svg>'},364494:(e,t,o)=>{"use strict";e.exports=o.p+"flag-square-mock-dark.16b5f3a431f502b03ae3.svg"},102495:(e,t,o)=>{"use strict"
;e.exports=o.p+"flag-square-mock.d201313017eb2c1b989f.svg"}}]);