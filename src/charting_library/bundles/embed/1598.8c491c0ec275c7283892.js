(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[1598],{733319:e=>{e.exports={loader:"loader-PZ4hqS2H",static:"static-PZ4hqS2H",item:"item-PZ4hqS2H","tv-button-loader":"tv-button-loader-PZ4hqS2H",medium:"medium-PZ4hqS2H",small:"small-PZ4hqS2H",black:"black-PZ4hqS2H",white:"white-PZ4hqS2H",gray:"gray-PZ4hqS2H",primary:"primary-PZ4hqS2H","loader-initial":"loader-initial-PZ4hqS2H","loader-appear":"loader-appear-PZ4hqS2H"}},645469:e=>{e.exports={"tablet-normal-breakpoint":"screen and (max-width: 768px)","small-height-breakpoint":"screen and (max-height: 360px)","tablet-small-breakpoint":"screen and (max-width: 430px)"}},164429:e=>{e.exports={favorite:"favorite-TPXOIXOJ",disabled:"disabled-TPXOIXOJ",active:"active-TPXOIXOJ",checked:"checked-TPXOIXOJ"}},409790:e=>{e.exports={menuWrap:"menuWrap-biWYdsXC",isMeasuring:"isMeasuring-biWYdsXC",scrollWrap:"scrollWrap-biWYdsXC",momentumBased:"momentumBased-biWYdsXC",menuBox:"menuBox-biWYdsXC",isHidden:"isHidden-biWYdsXC"}},267158:e=>{e.exports={item:"item-pso1R1PY",label:"label-pso1R1PY",labelRow:"labelRow-pso1R1PY",toolbox:"toolbox-pso1R1PY"}},655498:e=>{e.exports={"tablet-small-breakpoint":"screen and (max-width: 430px)",item:"item-RhC5uhZw",hovered:"hovered-RhC5uhZw",isDisabled:"isDisabled-RhC5uhZw",isActive:"isActive-RhC5uhZw",shortcut:"shortcut-RhC5uhZw",toolbox:"toolbox-RhC5uhZw",withIcon:"withIcon-RhC5uhZw",icon:"icon-RhC5uhZw",labelRow:"labelRow-RhC5uhZw",label:"label-RhC5uhZw",showOnHover:"showOnHover-RhC5uhZw"}},308794:e=>{e.exports={button:"button-cC4UjNEF",disabled:"disabled-cC4UjNEF",active:"active-cC4UjNEF",hidden:"hidden-cC4UjNEF"}},190948:e=>{e.exports={icon:"icon-XIHzWm6B",dropped:"dropped-XIHzWm6B"}},662464:(e,t,o)=>{"use strict";o.d(t,{useHover:()=>r,hoverMouseEventFilter:()=>i,useAccurateHover:()=>s});var n=o(50959);function r(){const[e,t]=(0,n.useState)(!1);return[e,{onMouseOver:function(e){i(e)&&t(!0)},onMouseOut:function(e){i(e)&&t(!1)}}]}function i(e){return!e.currentTarget.contains(e.relatedTarget)}function s(e){const[t,o]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const t=t=>{if(null===e.current)return;const n=e.current.contains(t.target);o(n)};return document.addEventListener("mouseover",t),()=>document.removeEventListener("mouseover",t)}),[]),t}},640027:(e,t,o)=>{"use strict";o.d(t,{useIsMounted:()=>r});var n=o(50959);const r=()=>{const e=(0,n.useRef)(!1);return(0,n.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},774218:(e,t,o)=>{"use strict";o.d(t,{useIsomorphicLayoutEffect:()=>r});var n=o(50959);function r(e,t){("undefined"==typeof window?n.useEffect:n.useLayoutEffect)(e,t)}},612247:(e,t,o)=>{"use strict";o.d(t,{Loader:()=>c});var n,r=o(50959),i=o(497754),s=o(745269),a=o(733319),l=o.n(a);!function(e){e[e.Initial=0]="Initial",e[e.Appear=1]="Appear",e[e.Active=2]="Active"}(n||(n={}));class c extends r.PureComponent{constructor(e){super(e),this._stateChangeTimeout=null,this.state={state:n.Initial}}render(){const{className:e,color:t="black",size:o="medium",staticPosition:n}=this.props,s=i(l().item,l()[t],l()[o])
;return r.createElement("span",{className:i(l().loader,n&&l().static,this._getStateClass(),e)},r.createElement("span",{className:s}),r.createElement("span",{className:s}),r.createElement("span",{className:s}))}componentDidMount(){this.setState({state:n.Appear}),this._stateChangeTimeout=setTimeout((()=>{this.setState({state:n.Active})}),2*s.dur)}componentWillUnmount(){this._stateChangeTimeout&&(clearTimeout(this._stateChangeTimeout),this._stateChangeTimeout=null)}_getStateClass(){switch(this.state.state){case n.Initial:return l()["loader-initial"];case n.Appear:return l()["loader-appear"];default:return""}}}},8626:(e,t,o)=>{"use strict";function n(e){return i(e,s)}function r(e){return i(e,a)}function i(e,t){const o=Object.entries(e).filter(t),n={};for(const[e,t]of o)n[e]=t;return n}function s(e){const[t,o]=e;return 0===t.indexOf("data-")&&"string"==typeof o}function a(e){return 0===e[0].indexOf("aria-")}o.d(t,{filterDataProps:()=>n,filterAriaProps:()=>r,filterProps:()=>i,isDataAttribute:()=>s,isAriaAttribute:()=>a})},531327:(e,t,o)=>{"use strict";function n(e){return r()?0:i()?46:Math.min(Math.max(e,46),450)}o.d(t,{getWidgetBarPadding:()=>n});const r=()=>!window.matchMedia("screen and (min-width: 768px)").matches,i=()=>!window.matchMedia("screen and (min-width: 1280px)").matches},314308:(e,t,o)=>{"use strict";function n(e,t,o,n,r){function i(r){if(e>r.timeStamp)return;const i=r.target;void 0!==o&&null!==t&&null!==i&&i.ownerDocument===n&&(t.contains(i)||o(r))}return r.click&&n.addEventListener("click",i,!1),r.mouseDown&&n.addEventListener("mousedown",i,!1),r.touchEnd&&n.addEventListener("touchend",i,!1),r.touchStart&&n.addEventListener("touchstart",i,!1),()=>{n.removeEventListener("click",i,!1),n.removeEventListener("mousedown",i,!1),n.removeEventListener("touchend",i,!1),n.removeEventListener("touchstart",i,!1)}}o.d(t,{addOutsideEventListener:()=>n})},575658:(e,t,o)=>{"use strict";o.d(t,{setFixedBodyState:()=>a});var n=o(76107),r=o(531327);let i=0,s=!1;function a(e){const{body:t}=document,o=t.querySelector(".widgetbar-wrap");if(e&&1==++i){const e=(0,n.getCSSProperty)(t,"overflow"),r=(0,n.getCSSPropertyNumericValue)(t,"padding-right");"hidden"!==e.toLowerCase()&&t.scrollHeight>t.offsetHeight&&((0,n.setStyle)(o,"right",`${(0,n.getScrollbarWidth)()}px`),t.style.paddingRight=`${r+(0,n.getScrollbarWidth)()}px`,s=!0),t.classList.add("i-no-scroll")}else if(!e&&i>0&&0==--i&&(t.classList.remove("i-no-scroll"),s)){(0,n.setStyle)(o,"right","0px");let e=0;e=o?(0,r.getWidgetBarPadding)((0,n.getContentWidth)(o)):0,t.scrollHeight<=t.clientHeight&&(e-=(0,n.getScrollbarWidth)()),t.style.paddingRight=(e<0?0:e)+"px",s=!1}}},642709:(e,t,o)=>{"use strict";o.d(t,{DialogBreakpoints:()=>r});var n=o(645469);const r={SmallHeight:n["small-height-breakpoint"],TabletSmall:n["tablet-small-breakpoint"],TabletNormal:n["tablet-normal-breakpoint"]}},852668:(e,t,o)=>{"use strict";o.d(t,{FavoriteButton:()=>d});var n=o(777754),r=o(50959),i=o(497754),s=o(83436),a=o(239146),l=o(648010),c=o(164429);const u={add:n.t(null,void 0,o(44629)),
remove:n.t(null,void 0,o(572482))};function d(e){const{className:t,isFilled:o,isActive:n,onClick:d,...h}=e;return r.createElement(s.Icon,{...h,className:i(c.favorite,"apply-common-tooltip",o&&c.checked,n&&c.active,t),icon:o?a:l,onClick:d,title:o?u.remove:u.add})}},962624:(e,t,o)=>{"use strict";o.d(t,{hoverMouseEventFilter:()=>n.hoverMouseEventFilter,useAccurateHover:()=>n.useAccurateHover,useHover:()=>n.useHover});var n=o(662464)},951292:(e,t,o)=>{"use strict";o.d(t,{useOutsideEvent:()=>i});var n=o(50959),r=o(314308);function i(e){const{click:t,mouseDown:o,touchEnd:i,touchStart:s,handler:a,reference:l,ownerDocument:c=document}=e,u=(0,n.useRef)(null),d=(0,n.useRef)(new CustomEvent("timestamp").timeStamp);return(0,n.useLayoutEffect)((()=>{const e={click:t,mouseDown:o,touchEnd:i,touchStart:s},n=l?l.current:u.current;return(0,r.addOutsideEventListener)(d.current,n,a,c,e)}),[t,o,i,s,a]),l||u}},18182:(e,t,o)=>{"use strict";o.d(t,{MatchMedia:()=>r});var n=o(50959);class r extends n.PureComponent{constructor(e){super(e),this._handleChange=()=>{this.forceUpdate()},this.state={query:window.matchMedia(this.props.rule)}}componentDidMount(){this._subscribe(this.state.query)}componentDidUpdate(e,t){this.state.query!==t.query&&(this._unsubscribe(t.query),this._subscribe(this.state.query))}componentWillUnmount(){this._unsubscribe(this.state.query)}render(){return this.props.children(this.state.query.matches)}static getDerivedStateFromProps(e,t){return e.rule!==t.query.media?{query:window.matchMedia(e.rule)}:null}_subscribe(e){e.addListener(this._handleChange)}_unsubscribe(e){e.removeListener(this._handleChange)}}},377318:(e,t,o)=>{"use strict";o.d(t,{MenuContext:()=>n});const n=o(50959).createContext(null)},175071:(e,t,o)=>{"use strict";o.d(t,{DEFAULT_MENU_THEME:()=>g,Menu:()=>f});var n=o(50959),r=o(497754),i=o.n(r),s=o(650151),a=o(43329),l=o(587080),c=o(670797),u=o(224743),d=o(829725),h=o(799786),p=o(787684),m=o(377318),v=o(409790);const g=v;class f extends n.PureComponent{constructor(e){super(e),this._containerRef=null,this._scrollWrapRef=null,this._raf=null,this._scrollRaf=null,this._scrollTimeout=void 0,this._manager=new d.OverlapManager,this._hotkeys=null,this._scroll=0,this._handleContainerRef=e=>{this._containerRef=e,this.props.reference&&("function"==typeof this.props.reference&&this.props.reference(e),"object"==typeof this.props.reference&&(this.props.reference.current=e))},this._handleScrollWrapRef=e=>{this._scrollWrapRef=e,"function"==typeof this.props.scrollWrapReference&&this.props.scrollWrapReference(e),"object"==typeof this.props.scrollWrapReference&&(this.props.scrollWrapReference.current=e)},this._handleMeasure=({callback:e,forceRecalcPosition:t}={})=>{var o,n,r,i,l,c,u,d,h,p,m,v;if(this.state.isMeasureValid&&!t)return;const{position:g}=this.props,f=(0,s.ensureNotNull)(this._containerRef);let w=f.getBoundingClientRect();const b=document.documentElement.clientHeight,C=document.documentElement.clientWidth,_=null!==(o=this.props.closeOnScrollOutsideOffset)&&void 0!==o?o:0;let x=b-0-_;const E=w.height>x;if(E){(0,
s.ensureNotNull)(this._scrollWrapRef).style.overflowY="scroll",w=f.getBoundingClientRect()}const{width:y,height:M}=w,S="function"==typeof g?g(y,M,b):g,T=null!==(r=null===(n=null==S?void 0:S.indentFromWindow)||void 0===n?void 0:n.left)&&void 0!==r?r:0,R=C-(null!==(i=S.overrideWidth)&&void 0!==i?i:y)-(null!==(c=null===(l=null==S?void 0:S.indentFromWindow)||void 0===l?void 0:l.right)&&void 0!==c?c:0),k=(0,a.clamp)(S.x,T,Math.max(T,R)),D=(null!==(d=null===(u=null==S?void 0:S.indentFromWindow)||void 0===u?void 0:u.top)&&void 0!==d?d:0)+_,O=b-(null!==(h=S.overrideHeight)&&void 0!==h?h:M)-(null!==(m=null===(p=null==S?void 0:S.indentFromWindow)||void 0===p?void 0:p.bottom)&&void 0!==m?m:0);let W=(0,a.clamp)(S.y,D,Math.max(D,O));if(S.forbidCorrectYCoord&&W<S.y&&(x-=S.y-W,W=S.y),t&&void 0!==this.props.closeOnScrollOutsideOffset&&S.y<=this.props.closeOnScrollOutsideOffset)return void this._handleGlobalClose(!0);const P=null!==(v=S.overrideHeight)&&void 0!==v?v:E?x:void 0;this.setState({appearingMenuHeight:t?this.state.appearingMenuHeight:P,appearingMenuWidth:t?this.state.appearingMenuWidth:S.overrideWidth,appearingPosition:{x:k,y:W},isMeasureValid:!0},(()=>{this._restoreScrollPosition(),e&&e()}))},this._restoreScrollPosition=()=>{const e=document.activeElement,t=(0,s.ensureNotNull)(this._containerRef);if(null!==e&&t.contains(e))try{e.scrollIntoView()}catch(e){}else(0,s.ensureNotNull)(this._scrollWrapRef).scrollTop=this._scroll},this._resizeForced=()=>{this.setState({appearingMenuHeight:void 0,appearingMenuWidth:void 0,appearingPosition:void 0,isMeasureValid:void 0})},this._resize=()=>{null===this._raf&&(this._raf=requestAnimationFrame((()=>{this.setState({appearingMenuHeight:void 0,appearingMenuWidth:void 0,appearingPosition:void 0,isMeasureValid:void 0}),this._raf=null})))},this._handleGlobalClose=e=>{this.props.onClose(e)},this._handleSlot=e=>{this._manager.setContainer(e)},this._handleScroll=()=>{this._scroll=(0,s.ensureNotNull)(this._scrollWrapRef).scrollTop},this._handleScrollOutsideEnd=()=>{clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout((()=>{this._handleMeasure({forceRecalcPosition:!0})}),80)},this._handleScrollOutside=e=>{e.target!==this._scrollWrapRef&&(this._handleScrollOutsideEnd(),null===this._scrollRaf&&(this._scrollRaf=requestAnimationFrame((()=>{this._handleMeasure({forceRecalcPosition:!0}),this._scrollRaf=null}))))},this.state={}}componentDidMount(){this._handleMeasure({callback:this.props.onOpen});const{customCloseDelegate:e=u.globalCloseDelegate}=this.props;e.subscribe(this,this._handleGlobalClose),window.addEventListener("resize",this._resize);const t=null!==this.context;this._hotkeys||t||(this._hotkeys=h.createGroup({desc:"Popup menu"}),this._hotkeys.add({desc:"Close",hotkey:27,handler:()=>{this.props.onKeyboardClose&&this.props.onKeyboardClose(),this._handleGlobalClose()}})),this.props.repositionOnScroll&&window.addEventListener("scroll",this._handleScrollOutside,{capture:!0})}componentDidUpdate(){this._handleMeasure()}componentWillUnmount(){
const{customCloseDelegate:e=u.globalCloseDelegate}=this.props;e.unsubscribe(this,this._handleGlobalClose),window.removeEventListener("resize",this._resize),window.removeEventListener("scroll",this._handleScrollOutside,{capture:!0}),this._hotkeys&&(this._hotkeys.destroy(),this._hotkeys=null),null!==this._raf&&(cancelAnimationFrame(this._raf),this._raf=null),null!==this._scrollRaf&&(cancelAnimationFrame(this._scrollRaf),this._scrollRaf=null),this._scrollTimeout&&clearTimeout(this._scrollTimeout)}render(){const{id:e,role:t,"aria-label":o,"aria-labelledby":r,"aria-activedescendant":s,"aria-hidden":a,children:u,minWidth:d,theme:h=v,className:g,maxHeight:f,onMouseOver:b,onMouseOut:C,onKeyDown:_,onFocus:x,onBlur:E}=this.props,{appearingMenuHeight:y,appearingMenuWidth:M,appearingPosition:S,isMeasureValid:T}=this.state;return n.createElement(m.MenuContext.Provider,{value:this},n.createElement(p.SubmenuHandler,null,n.createElement(c.SlotContext.Provider,{value:this._manager},n.createElement("div",{id:e,role:t,"aria-label":o,"aria-labelledby":r,"aria-activedescendant":s,"aria-hidden":a,className:i()(g,h.menuWrap,!T&&h.isMeasuring),style:{height:y,left:S&&S.x,minWidth:d,position:"fixed",top:S&&S.y,width:M},"data-name":this.props["data-name"],ref:this._handleContainerRef,onScrollCapture:this.props.onScroll,onContextMenu:l.preventDefaultForContextMenu,tabIndex:this.props.tabIndex,onMouseOver:b,onMouseOut:C,onKeyDown:_,onFocus:x,onBlur:E},n.createElement("div",{className:i()(h.scrollWrap,!this.props.noMomentumBasedScroll&&h.momentumBased),style:{overflowY:void 0!==y?"scroll":"auto",maxHeight:f},onScrollCapture:this._handleScroll,ref:this._handleScrollWrapRef},n.createElement(w,{className:h.menuBox},u)))),n.createElement(c.Slot,{reference:this._handleSlot})))}update(e){e?this._resizeForced():this._resize()}}function w(e){const t=(0,s.ensureNotNull)((0,n.useContext)(p.SubmenuContext)),o=n.useRef(null);return n.createElement("div",{ref:o,className:e.className,onMouseOver:function(e){if(!(null!==t.current&&e.target instanceof Node&&(n=e.target,null===(r=o.current)||void 0===r?void 0:r.contains(n))))return;var n,r;t.isSubmenuNode(e.target)||t.setCurrent(null)},"data-name":"menu-inner"},e.children)}f.contextType=p.SubmenuContext},829725:(e,t,o)=>{"use strict";o.d(t,{OverlapManager:()=>i,getRootOverlapManager:()=>a});var n=o(650151);class r{constructor(){this._storage=[]}add(e){this._storage.push(e)}remove(e){this._storage=this._storage.filter((t=>e!==t))}has(e){return this._storage.includes(e)}getItems(){return this._storage}}class i{constructor(e=document){this._storage=new r,this._windows=new Map,this._index=0,this._document=e,this._container=e.createDocumentFragment()}setContainer(e){const t=this._container,o=null===e?this._document.createDocumentFragment():e;!function(e,t){Array.from(e.childNodes).forEach((e=>{e.nodeType===Node.ELEMENT_NODE&&t.appendChild(e)}))}(t,o),this._container=o}registerWindow(e){this._storage.has(e)||this._storage.add(e)}ensureWindow(e,t={position:"fixed",direction:"normal"}){const o=this._windows.get(e)
;if(void 0!==o)return o;this.registerWindow(e);const n=this._document.createElement("div");if(n.style.position=t.position,n.style.zIndex=this._index.toString(),n.dataset.id=e,void 0!==t.index){const e=this._container.childNodes.length;if(t.index>=e)this._container.appendChild(n);else if(t.index<=0)this._container.insertBefore(n,this._container.firstChild);else{const e=this._container.childNodes[t.index];this._container.insertBefore(n,e)}}else"reverse"===t.direction?this._container.insertBefore(n,this._container.firstChild):this._container.appendChild(n);return this._windows.set(e,n),++this._index,n}unregisterWindow(e){this._storage.remove(e);const t=this._windows.get(e);void 0!==t&&(null!==t.parentElement&&t.parentElement.removeChild(t),this._windows.delete(e))}getZindex(e){const t=this.ensureWindow(e);return parseInt(t.style.zIndex||"0")}moveToTop(e){if(this.getZindex(e)!==this._index){this.ensureWindow(e).style.zIndex=(++this._index).toString()}}removeWindow(e){this.unregisterWindow(e)}}const s=new WeakMap;function a(e=document){const t=e.getElementById("overlap-manager-root");if(null!==t)return(0,n.ensureDefined)(s.get(t));{const t=new i(e),o=function(e){const t=e.createElement("div");return t.style.position="absolute",t.style.zIndex=150..toString(),t.style.top="0px",t.style.left="0px",t.id="overlap-manager-root",t}(e);return s.set(o,t),t.setContainer(o),e.body.appendChild(o),t}}},634993:(e,t,o)=>{"use strict";o.d(t,{DEFAULT_POPUP_MENU_ITEM_THEME:()=>c,PopupMenuItem:()=>d});var n=o(50959),r=o(497754),i=o(224743),s=o(345848),a=o(8626),l=o(655498);const c=l;function u(e){e.stopPropagation()}function d(e){const{id:t,role:o,"aria-label":c,"aria-selected":d,"aria-checked":h,className:p,title:m,labelRowClassName:v,labelClassName:g,shortcut:f,forceShowShortcuts:w,icon:b,isActive:C,isDisabled:_,isHovered:x,appearAsDisabled:E,label:y,link:M,showToolboxOnHover:S,target:T,rel:R,toolbox:k,reference:D,onMouseOut:O,onMouseOver:W,onKeyDown:P,suppressToolboxClick:N=!0,theme:L=l,tabIndex:A,tagName:B,renderComponent:H}=e,I=(0,a.filterDataProps)(e),F=(0,n.useRef)(null),z=(0,n.useMemo)((()=>function(e){function t(t){const{reference:o,...r}=t,i=null!=e?e:r.href?"a":"div",s="a"===i?r:function(e){const{download:t,href:o,hrefLang:n,media:r,ping:i,rel:s,target:a,type:l,referrerPolicy:c,...u}=e;return u}(r);return n.createElement(i,{...s,ref:o})}return t.displayName=`DefaultComponent(${e})`,t}(B)),[B]),U=null!=H?H:z;return n.createElement(U,{...I,id:t,role:o,"aria-label":c,"aria-selected":d,"aria-checked":h,className:r(p,L.item,b&&L.withIcon,{[L.isActive]:C,[L.isDisabled]:_||E,[L.hovered]:x}),title:m,href:M,target:T,rel:R,reference:function(e){F.current=e,"function"==typeof D&&D(e);"object"==typeof D&&(D.current=e)},onClick:function(t){const{dontClosePopup:o,onClick:n,onClickArg:r,trackEventObject:a}=e;if(_)return;a&&(0,s.trackEvent)(a.category,a.event,a.label);n&&n(r,t);o||(0,i.globalCloseMenu)()},onContextMenu:function(t){const{trackEventObject:o,trackRightClick:n}=e;o&&n&&(0,s.trackEvent)(o.category,o.event,`${o.label}_rightClick`)},
onMouseUp:function(t){const{trackEventObject:o,trackMouseWheelClick:n}=e;if(1===t.button&&M&&o){let e=o.label;n&&(e+="_mouseWheelClick"),(0,s.trackEvent)(o.category,o.event,e)}},onMouseOver:W,onMouseOut:O,onKeyDown:P,tabIndex:A},void 0!==b&&n.createElement("span",{className:L.icon,dangerouslySetInnerHTML:{__html:b}}),n.createElement("span",{className:r(L.labelRow,v)},n.createElement("span",{className:r(L.label,g)},y)),(void 0!==f||w)&&n.createElement("span",{className:L.shortcut},(q=f)&&q.split("+").join(" + ")),void 0!==k&&n.createElement("span",{onClick:N?u:void 0,className:r(L.toolbox,{[L.showOnHover]:S})},k));var q}},62804:(e,t,o)=>{"use strict";o.d(t,{multilineLabelWithIconAndToolboxTheme:()=>s});var n=o(995683),r=o(655498),i=o(267158);const s=(0,n.mergeThemes)(r,i)},320116:(e,t,o)=>{"use strict";o.d(t,{CloseDelegateContext:()=>i});var n=o(50959),r=o(224743);const i=n.createContext(r.globalCloseDelegate)},45968:(e,t,o)=>{"use strict";o.d(t,{PopupMenu:()=>u});var n=o(50959),r=o(500962),i=o(162942),s=o(707533),a=o(175071),l=o(320116),c=o(951292);function u(e){const{controller:t,children:o,isOpened:u,closeOnClickOutside:d=!0,doNotCloseOn:h,onClickOutside:p,onClose:m,onKeyboardClose:v,"data-name":g="popup-menu-container",...f}=e,w=(0,n.useContext)(l.CloseDelegateContext),b=(0,c.useOutsideEvent)({handler:function(e){p&&p(e);if(!d)return;const t=(0,i.default)(h)?h():h;if(t&&e.target instanceof Node){const o=r.findDOMNode(t);if(o instanceof Node&&o.contains(e.target))return}m()},mouseDown:!0,touchStart:!0});return u?n.createElement(s.Portal,{top:"0",left:"0",right:"0",bottom:"0",pointerEvents:"none"},n.createElement("span",{ref:b,style:{pointerEvents:"auto"}},n.createElement(a.Menu,{...f,onClose:m,onKeyboardClose:v,onScroll:function(t){const{onScroll:o}=e;o&&o(t)},customCloseDelegate:w,ref:t,"data-name":g},o))):null}},707533:(e,t,o)=>{"use strict";o.d(t,{Portal:()=>l,PortalContext:()=>c});var n=o(50959),r=o(500962),i=o(777491),s=o(829725),a=o(670797);class l extends n.PureComponent{constructor(){super(...arguments),this._uuid=(0,i.guid)()}componentWillUnmount(){this._manager().removeWindow(this._uuid)}render(){const e=this._manager().ensureWindow(this._uuid,this.props.layerOptions);return e.style.top=this.props.top||"",e.style.bottom=this.props.bottom||"",e.style.left=this.props.left||"",e.style.right=this.props.right||"",e.style.pointerEvents=this.props.pointerEvents||"",r.createPortal(n.createElement(c.Provider,{value:this},this.props.children),e)}moveToTop(){this._manager().moveToTop(this._uuid)}_manager(){return null===this.context?(0,s.getRootOverlapManager)():this.context}}l.contextType=a.SlotContext;const c=n.createContext(null)},636268:(e,t,o)=>{"use strict";o.d(t,{RemoveButton:()=>c});var n=o(777754),r=o(50959),i=o(497754),s=o(83436),a=o(333765),l=o(308794);function c(e){const{className:t,isActive:c,onClick:u,onMouseDown:d,title:h,hidden:p,"data-name":m="remove-button",...v}=e;return r.createElement(s.Icon,{...v,"data-name":m,className:i(l.button,"apply-common-tooltip",c&&l.active,p&&l.hidden,t),icon:a,
onClick:u,onMouseDown:d,title:h||n.t(null,void 0,o(734596))})}},670797:(e,t,o)=>{"use strict";o.d(t,{Slot:()=>r,SlotContext:()=>i});var n=o(50959);class r extends n.Component{shouldComponentUpdate(){return!1}render(){return n.createElement("div",{style:{position:"fixed",zIndex:150,left:0,top:0},ref:this.props.reference})}}const i=n.createContext(null)},787684:(e,t,o)=>{"use strict";o.d(t,{SubmenuContext:()=>r,SubmenuHandler:()=>i});var n=o(50959);const r=n.createContext(null);function i(e){const[t,o]=(0,n.useState)(null),i=(0,n.useRef)(null),s=(0,n.useRef)(new Map);return(0,n.useEffect)((()=>()=>{null!==i.current&&clearTimeout(i.current)}),[]),n.createElement(r.Provider,{value:{current:t,setCurrent:function(e){null!==i.current&&(clearTimeout(i.current),i.current=null);null===t?o(e):i.current=setTimeout((()=>{i.current=null,o(e)}),100)},registerSubmenu:function(e,t){return s.current.set(e,t),()=>{s.current.delete(e)}},isSubmenuNode:function(e){return Array.from(s.current.values()).some((t=>t(e)))}}},e.children)}},416293:(e,t,o)=>{"use strict";o.d(t,{ToolWidgetCaret:()=>l});var n=o(50959),r=o(497754),i=o(83436),s=o(190948),a=o(100578);function l(e){const{dropped:t,className:o}=e;return n.createElement(i.Icon,{className:r(o,s.icon,{[s.dropped]:t}),icon:a})}},150881:(e,t,o)=>{"use strict";o.d(t,{TouchScrollContainer:()=>a});var n=o(50959),r=o(259142),i=o(650151),s=o(638456);const a=(0,n.forwardRef)(((e,t)=>{const{children:o,...i}=e,a=(0,n.useRef)(null);return(0,n.useImperativeHandle)(t,(()=>a.current)),(0,n.useLayoutEffect)((()=>{if(s.CheckMobile.iOS())return null!==a.current&&(0,r.disableBodyScroll)(a.current,{allowTouchMove:l(a)}),()=>{null!==a.current&&(0,r.enableBodyScroll)(a.current)}}),[]),n.createElement("div",{ref:a,...i},o)}));function l(e){return t=>{const o=(0,i.ensureNotNull)(e.current),n=document.activeElement;return!o.contains(t)||null!==n&&o.contains(n)&&n.contains(t)}}},995683:(e,t,o)=>{"use strict";function n(e,t,o={}){return Object.assign({},e,function(e,t,o={}){const n=Object.assign({},t);for(const r of Object.keys(t)){const i=o[r]||r;i in e&&(n[r]=[e[i],t[r]].join(" "))}return n}(e,t,o))}o.d(t,{mergeThemes:()=>n})},574749:e=>{e.exports={button:"button-rqVQ8gUB"}},17049:e=>{e.exports={button:"button-reABrhVR",hover:"hover-reABrhVR",arrow:"arrow-reABrhVR",arrowWrap:"arrowWrap-reABrhVR",isOpened:"isOpened-reABrhVR"}},46949:e=>{e.exports={hidden:"hidden-K_dNKcEL"}},832924:e=>{e.exports={"tablet-small-breakpoint":"screen and (max-width: 430px)",item:"item-TtgC6v1y",withIcon:"withIcon-TtgC6v1y",shortcut:"shortcut-TtgC6v1y",loading:"loading-TtgC6v1y",icon:"icon-TtgC6v1y"}},898930:(e,t,o)=>{"use strict";o.d(t,{VerticalAttachEdge:()=>n,HorizontalAttachEdge:()=>r,VerticalDropDirection:()=>i,HorizontalDropDirection:()=>s,getPopupPositioner:()=>c});var n,r,i,s,a=o(650151);!function(e){e[e.Top=0]="Top",e[e.Bottom=1]="Bottom"}(n||(n={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(r||(r={})),function(e){e[e.FromTopToBottom=0]="FromTopToBottom",e[e.FromBottomToTop=1]="FromBottomToTop"}(i||(i={})),
function(e){e[e.FromLeftToRight=0]="FromLeftToRight",e[e.FromRightToLeft=1]="FromRightToLeft"}(s||(s={}));const l={verticalAttachEdge:n.Bottom,horizontalAttachEdge:r.Left,verticalDropDirection:i.FromTopToBottom,horizontalDropDirection:s.FromLeftToRight,verticalMargin:0,horizontalMargin:0,matchButtonAndListboxWidths:!1};function c(e,t){return(o,c)=>{const u=(0,a.ensureNotNull)(e).getBoundingClientRect(),{verticalAttachEdge:d=l.verticalAttachEdge,verticalDropDirection:h=l.verticalDropDirection,horizontalAttachEdge:p=l.horizontalAttachEdge,horizontalDropDirection:m=l.horizontalDropDirection,horizontalMargin:v=l.horizontalMargin,verticalMargin:g=l.verticalMargin,matchButtonAndListboxWidths:f=l.matchButtonAndListboxWidths}=t,w=d===n.Top?-1*g:g,b=p===r.Right?u.right:u.left,C=d===n.Top?u.top:u.bottom,_={x:b-(m===s.FromRightToLeft?o:0)+v,y:C-(h===i.FromBottomToTop?c:0)+w};return f&&(_.overrideWidth=u.width),_}}},159642:(e,t,o)=>{"use strict";o.d(t,{ToolWidgetIconButton:()=>a});var n=o(50959),r=o(497754),i=o(983731),s=o(574749);const a=n.forwardRef(((e,t)=>{const{className:o,id:a,...l}=e;return n.createElement(i.ToolWidgetButton,{"data-name":a,...l,ref:t,className:r(o,s.button)})}))},575296:(e,t,o)=>{"use strict";o.d(t,{DEFAULT_TOOL_WIDGET_MENU_THEME:()=>m,ToolWidgetMenu:()=>v});var n=o(50959),r=o(497754),i=o(591800),s=o(45968),a=o(416293),l=o(8626),c=o(332585),u=o(762852),d=o(898930),h=o(18182),p=o(17049);const m=p;class v extends n.PureComponent{constructor(e){super(e),this._wrapperRef=null,this._controller=n.createRef(),this._handleWrapperRef=e=>{this._wrapperRef=e,this.props.reference&&this.props.reference(e)},this._handleClick=e=>{e.target instanceof Node&&e.currentTarget.contains(e.target)&&(this._handleToggleDropdown(),this.props.onClick&&this.props.onClick(e,!this.state.isOpened))},this._handleToggleDropdown=e=>{const{onClose:t,onOpen:o}=this.props,{isOpened:n}=this.state,r="boolean"==typeof e?e:!n;this.setState({isOpened:r}),r&&o&&o(),!r&&t&&t()},this._handleClose=()=>{this.close()},this._handleKeyDown=e=>{27===(0,i.hashFromEvent)(e)&&this.state.isOpened&&this.props.closeOnEsc&&(e.preventDefault(),e.stopPropagation(),this._handleToggleDropdown())},this.state={isOpened:!1}}render(){const{id:e,arrow:t,content:o,isDisabled:i,isDrawer:s,isShowTooltip:c,title:u,className:d,hotKey:p,theme:m,drawerBreakpoint:v,tabIndex:g}=this.props,{isOpened:f}=this.state,w=r(d,m.button,{"apply-common-tooltip":c||!i,[m.isDisabled]:i,[m.isOpened]:f});return n.createElement("div",{id:e,className:w,onClick:i?void 0:this._handleClick,title:u,"data-tooltip-hotkey":p,ref:this._handleWrapperRef,"data-role":"button",tabIndex:g,onKeyDown:this._handleKeyDown,...(0,l.filterDataProps)(this.props)},o,t&&n.createElement("div",{className:m.arrow},n.createElement("div",{className:m.arrowWrap},n.createElement(a.ToolWidgetCaret,{dropped:f}))),this.state.isOpened&&(v?n.createElement(h.MatchMedia,{rule:v},(e=>this._renderContent(e))):this._renderContent(s)))}close(){this._handleToggleDropdown(!1)}update(){
null!==this._controller.current&&this._controller.current.update()}_renderContent(e){const{menuDataName:t,minWidth:o,menuClassName:r,maxHeight:i,drawerPosition:a="Bottom",children:l}=this.props,{isOpened:h}=this.state,p={horizontalMargin:this.props.horizontalMargin||0,verticalMargin:this.props.verticalMargin||2,verticalAttachEdge:this.props.verticalAttachEdge,horizontalAttachEdge:this.props.horizontalAttachEdge,verticalDropDirection:this.props.verticalDropDirection,horizontalDropDirection:this.props.horizontalDropDirection,matchButtonAndListboxWidths:this.props.matchButtonAndListboxWidths},m=Boolean(h&&e&&a),v=function(e){return"function"==typeof e}(l)?l({isDrawer:m}):l;return m?n.createElement(c.DrawerManager,null,n.createElement(u.Drawer,{onClose:this._handleClose,position:a,"data-name":t},v)):n.createElement(s.PopupMenu,{controller:this._controller,closeOnClickOutside:this.props.closeOnClickOutside,doNotCloseOn:this,isOpened:h,minWidth:o,onClose:this._handleClose,position:(0,d.getPopupPositioner)(this._wrapperRef,p),className:r,maxHeight:i,"data-name":t},v)}}v.defaultProps={arrow:!0,closeOnClickOutside:!0,theme:p}},653929:(e,t,o)=>{"use strict";o.d(t,{ToolWidgetScreenshotContent:()=>M});var n=o(50959),r=o(777754),i=o(497754),s=o(503595),a=o(963239),l=o(470316),c=o(251954),u=o(139583),d=o(634993),h=o(224743),p=o(995683),m=o(612247),v=o(46949);function g(e){const t=i(e.isLoading&&v.hidden),o=i(!e.isLoading&&v.hidden);return n.createElement("div",null,n.createElement("span",{className:t},e.children),n.createElement("span",{className:o},n.createElement(m.Loader,null)))}var f=o(640027),w=o(884502),b=o(201457),C=o(323595),_=o(929414),x=o(899280),E=o(832924);const y=(0,p.mergeThemes)(d.DEFAULT_POPUP_MENU_ITEM_THEME,E);function M(e){const{serverSnapshot:t,clientSnapshot:p,hideShortcuts:m}=e,[v,M]=(0,n.useState)(!1),[S,T]=(0,n.useState)(!1),[R,k]=(0,n.useState)(!1),D=(0,f.useIsMounted)(),O=(0,n.useCallback)((async()=>{var e;const t=p(),o=t.then((e=>new Promise((t=>e.canvas.toBlob((e=>{null!==e&&t(e)}))))));try{await(0,a.writePromiseUsingApi)(o,"image/png"),c.emit("onClientScreenshotCopiedToClipboard")}catch(o){const{canvas:n}=await t;null===(e=window.open())||void 0===e||e.document.write(`<img width="100%" src="${n.toDataURL()}"/>`)}}),[p]),W=(0,n.useCallback)((async()=>{const e=await p(),t=await function(e){return new Promise((t=>{try{e.canvas.toBlob((e=>{if(null===e)throw new Error("Unable to generate blob");t(URL.createObjectURL(e))}))}catch(o){t(e.canvas.toDataURL())}}))}(e);t&&(0,u.downloadFile)(`${e.name}.png`,t)}),[p]),P=e=>(0,s.asyncWindowOpen)(e.then((e=>e.imageUrl))),N=(0,n.useCallback)((async(e=!1)=>{const o=t();try{if(e)await P(o);else{const e=o.then((e=>new Blob([e.imageUrl],{type:"text/plain"})));await(0,a.writePromiseUsingApi)(e,"text/plain"),c.emit("onServerScreenshotCopiedToClipboard")}return!0}catch(e){return P(o),!0}finally{D.current&&(T(!1),M(!1),(0,h.globalCloseMenu)())}}),[t]),L=(0,n.useCallback)((async()=>{k(!0);const[e,n]=await Promise.all([o.e(4665).then(o.bind(o,600546)),t()])
;e.Twitter.shareSnapshotInstantly(n.symbol,n.imageUrl),D.current&&(k(!1),(0,h.globalCloseMenu)())}),[t]);return n.createElement(n.Fragment,null,n.createElement(d.PopupMenuItem,{"data-name":"save-chart-image",label:r.t(null,void 0,o(757352)),icon:C,onClick:W,shortcut:m?void 0:(0,l.humanReadableHash)(l.Modifiers.Mod+l.Modifiers.Alt+83),theme:y}),n.createElement(d.PopupMenuItem,{"data-name":"copy-chart-image",label:r.t(null,void 0,o(196935)),icon:b,onClick:O,shortcut:m?void 0:(0,l.humanReadableHash)(l.Modifiers.Mod+l.Modifiers.Shift+83),theme:y}),n.createElement(d.PopupMenuItem,{"data-name":"copy-link-to-the-chart-image",label:n.createElement(g,{isLoading:v},r.t(null,void 0,o(715803))),icon:_,onClick:()=>{M(!0),N(!1)},dontClosePopup:!0,isDisabled:v,shortcut:m?void 0:(0,l.humanReadableHash)(l.Modifiers.Alt+83),className:i(v&&E.loading),theme:y}),n.createElement(d.PopupMenuItem,{"data-name":"open-image-in-new-tab",label:n.createElement(g,{isLoading:S},r.t(null,void 0,o(102226))),icon:x,onClick:()=>{T(!0),N(!0)},dontClosePopup:!0,isDisabled:S,className:i(S&&E.loading),theme:y}),n.createElement(d.PopupMenuItem,{"data-name":"tweet-chart-image",label:n.createElement(g,{isLoading:R},r.t(null,void 0,o(509765))),icon:w,onClick:L,dontClosePopup:!0,isDisabled:R,className:i(R&&E.loading),theme:y}))}},298023:(e,t,o)=>{"use strict";o.d(t,{bindScreenshot:()=>m});var n=o(777754),r=o(50959),i=o(719036),s=o(87476),a=o(231656),l=o(238066),c=o(147279),u=o(696828);const d=new c.DateTimeFormatter({dateTimeSeparator:"_",timeFormat:"%h-%m-%s"}),h={takeSnapshot:n.t(null,void 0,o(588513))},p=(0,a.registryContextType)();function m(e){var t;return(t=class extends r.PureComponent{constructor(e,t){super(e,t),this._clientSnapshot=async()=>{const e=this.context.chartWidgetCollection.activeChartWidget.value().model().mainSeries().actualSymbol();return{canvas:await this.context.chartWidgetCollection.clientSnapshot(),name:`${(0,u.shortName)(e)}_${d.formatLocal(new Date)}`}},this._serverSnapshot=async()=>{const e=this.context.chartWidgetCollection.activeChartWidget.value().model().mainSeries().actualSymbol(),t=await this.context.chartWidgetCollection.takeScreenshot(),o=s.enabled("charting_library_base")&&void 0!==this.context.snapshotUrl?t:(0,l.convertImageNameToUrl)(t);return{symbol:(0,u.shortName)(e),imageUrl:o}},(0,a.validateRegistry)(t,{chartWidgetCollection:i.any.isRequired})}render(){const{className:t,id:o}=this.props;return r.createElement(e,{id:o,className:t,tooltip:h.takeSnapshot,serverSnapshot:this._serverSnapshot,clientSnapshot:this._clientSnapshot})}}).contextType=p,t}},1574:(e,t,o)=>{"use strict";o.d(t,{trackButtonClick:()=>r});var n=o(776734);function r(e,t,o,r){(0,n.getTracker)().then((n=>{null!==n&&n.trackToolbarButtonClick(e,o?`${t} ${o}`:t,r)}))}},231656:(e,t,o)=>{"use strict";o.d(t,{validateRegistry:()=>a,RegistryProvider:()=>l,registryContextType:()=>c});var n=o(50959),r=o(719036),i=o.n(r);const s=n.createContext({});function a(e,t){i().checkPropTypes(t,e,"context","RegistryContext")}function l(e){const{validation:t,value:o}=e
;return a(o,t),n.createElement(s.Provider,{value:o},e.children)}function c(){return s}},238066:(e,t,o)=>{"use strict";o.d(t,{convertImageNameToUrl:()=>i});var n=o(87476),r=o(66974);function i(e){return n.enabled("charting_library_base")||(0,r.isProd)()?"https://www.tradingview.com/x/"+e+"/":window.location.protocol+"//"+window.location.host+"/x/"+e+"/"}},139583:(e,t,o)=>{"use strict";function n(e,t){const o=document.createElement("a");o.style.display="none",o.href=t,o.download=e,o.click()}o.d(t,{downloadFile:()=>n})},899280:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M8.5 6A2.5 2.5 0 0 0 6 8.5v11A2.5 2.5 0 0 0 8.5 22h11a2.5 2.5 0 0 0 2.5-2.5v-3h-1v3c0 .83-.67 1.5-1.5 1.5h-11A1.5 1.5 0 0 1 7 19.5v-11C7 7.67 7.67 7 8.5 7h3V6h-3zm7 1h4.8l-7.49 7.48.71.7L21 7.72v4.79h1V6h-6.5v1z"/></svg>'},100578:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 8" width="16" height="8"><path fill="currentColor" d="M0 1.475l7.396 6.04.596.485.593-.49L16 1.39 14.807 0 7.393 6.122 8.58 6.12 1.186.08z"/></svg>'},272644:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.118 6a.5.5 0 0 0-.447.276L9.809 8H5.5A1.5 1.5 0 0 0 4 9.5v10A1.5 1.5 0 0 0 5.5 21h16a1.5 1.5 0 0 0 1.5-1.5v-10A1.5 1.5 0 0 0 21.5 8h-4.309l-.862-1.724A.5.5 0 0 0 15.882 6h-4.764zm-1.342-.17A1.5 1.5 0 0 1 11.118 5h4.764a1.5 1.5 0 0 1 1.342.83L17.809 7H21.5A2.5 2.5 0 0 1 24 9.5v10a2.5 2.5 0 0 1-2.5 2.5h-16A2.5 2.5 0 0 1 3 19.5v-10A2.5 2.5 0 0 1 5.5 7h3.691l.585-1.17z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M13.5 18a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7zm0 1a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9z"/></svg>'},333765:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><path fill="currentColor" d="M9.707 9l4.647-4.646-.707-.708L9 8.293 4.354 3.646l-.708.708L8.293 9l-4.647 4.646.708.708L9 9.707l4.646 4.647.708-.707L9.707 9z"/></svg>'},636296:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M8 9.5H6.5a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1V20m-8-1.5h11a1 1 0 0 0 1-1v-11a1 1 0 0 0-1-1h-11a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1z"/></svg>'},323595:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M6.5 16v4.5a1 1 0 001 1h14a1 1 0 001-1V16M14.5 5V17m-4-3.5l4 4l4-4"/></svg>'},239146:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path fill="currentColor" d="M9 1l2.35 4.76 5.26.77-3.8 3.7.9 5.24L9 13l-4.7 2.47.9-5.23-3.8-3.71 5.25-.77L9 1z"/></svg>'},648010:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M9 2.13l1.903 3.855.116.236.26.038 4.255.618-3.079 3.001-.188.184.044.259.727 4.237-3.805-2L9 12.434l-.233.122-3.805 2.001.727-4.237.044-.26-.188-.183-3.079-3.001 4.255-.618.26-.038.116-.236L9 2.13z"/></svg>'},929414:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" d="M19 15l2.5-2.5c1-1 1.5-3.5-.5-5.5s-4.5-1.5-5.5-.5L13 9M10 12l-2.5 2.5c-1 1-1.5 3.5.5 5.5s4.5 1.5 5.5.5L16 18M17 11l-5 5"/></svg>'},884502:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="#1DA1F2" d="M10.28 22.26c7.55 0 11.68-6.26 11.68-11.67v-.53c.8-.58 1.49-1.3 2.04-2.13-.74.33-1.53.54-2.36.65.85-.5 1.5-1.32 1.8-2.28-.78.48-1.66.81-2.6 1a4.1 4.1 0 00-7 3.74c-3.4-.17-6.43-1.8-8.46-4.29a4.1 4.1 0 001.28 5.48c-.68-.02-1.3-.2-1.86-.5v.05a4.11 4.11 0 003.29 4.02 4 4 0 01-1.85.08 4.1 4.1 0 003.83 2.85A8.23 8.23 0 014 20.43a11.67 11.67 0 006.28 1.83z"/></svg>'}}]);