(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[65589],{366367:(e,t,i)=>{"use strict";i.r(t),i.d(t,{HeaderNotificationView:()=>a});var r=i(926523),n=i(150971);class a{constructor(e){this._countChangeHandler=()=>{const e=this._globalNotificationTools.getUnreadNotificationsCount().value()+this._supportNotificationTools.getCount();this._elements.forEach((t=>{t.classList.toggle("i-hidden",0===e)}))},this._globalNotificationTools=new r.GlobalNotificationTools,this._globalNotificationTools.subscribeNotificationsDialogToPushStream(),this._globalNotificationTools.getUnreadNotificationsCount().subscribe(this._countChangeHandler),this._supportNotificationTools=n.SupportNotificationTools.getInstance(),this._supportNotificationTools.countChanged().subscribe(this,this._countChangeHandler),this._elements=e,this._countChangeHandler()}destroy(){this._globalNotificationTools.getUnreadNotificationsCount().unsubscribe(this._countChangeHandler),this._supportNotificationTools.countChanged().unsubscribe(this,this._countChangeHandler)}}},945275:(e,t,i)=>{"use strict";i.d(t,{isSupportApiAvailable:()=>u,supportApi:()=>_});var r=i(890740),n=i(66974),a=i(272001);i(659863);const o=(0,a.getLogger)("Support.Api"),s=window.DATA_ISSUES_HOST,c=void 0!==s?s+"/api/v1":void 0;function u(){return void 0!==c}function d(e){if(!u())throw new Error("Helpdesk host is not defined.");return`${c}${e}`}const l={count:()=>({method:"GET",url:d("/tickets/count_by_userid")}),list:e=>({method:"GET",url:d(`/tickets/by_userid/?page=${e}`)}),get:e=>({method:"GET",url:d(`/tickets/${e}`)}),send:()=>({method:"POST",url:d("/tickets/save")}),close:()=>({method:"POST",url:d("/tickets/close")}),getSatisfactionRatings:e=>({method:"GET",url:d(`/tickets/${e}/get_satisfaction_ratings`)}),addSatisfactionRating:e=>({method:"POST",url:d(`/tickets/${e}/add_satisfaction_rating`)})},h={list:(e,t)=>({method:"GET",url:d(`/tickets/${e}/${t}/comments`)}),send:()=>({method:"POST",url:d("/tickets/add_comment")})},p={get:()=>({method:"GET",url:d("/unreads/get")}),update:()=>({method:"PATCH",url:d("/unreads/update")}),drop:()=>({method:"PATCH",url:d("/unreads/drop")})},g={getPopulars:e=>({method:"GET",url:d(`/solutions/popular/${e}`)}),getTree:e=>({method:"GET",url:d(`/solutions/get_solutions_tree/${e}`)}),search:(e,t)=>({method:"GET",url:d(`/solutions/search/${e}?term=${t}`)}),get:(e,t)=>({method:"GET",url:d(`/solutions/${e}/${t}`)})},w={get:()=>({method:"GET",url:d("/business_hours")})},k={get:e=>({method:"GET",url:d(`/freshdeskId/${e}`)})},m={refund:()=>({method:"POST",url:d("/payment/refund")})};function f(e,t,i){const a={method:e,credentials:"include"};return a.headers=new Headers,(0,n.isProd)()||(a.headers.set("X-UserId",String(window.user.id)),a.headers.set("X-UserPerm",JSON.stringify({is_pro_admin:1,is_support_unreads_admin:1}))),void 0!==i&&(a.headers.set("Content-Type","application/json"),a.body=JSON.stringify(i)),(0,r.fetch)(t,a)}async function T(e){const t=await e.text();if(!e.ok)throw new Error(`Response was not OK. Status: ${e.status}. Content: ${t}`)
;return t}async function v(e){const t=await e.text();if(!e.ok){const i=JSON.parse(t);if(i.code)throw new Error(i.code);throw new Error(`Response was not OK. Status: ${e.status}. Content: ${t}`)}try{return JSON.parse(t)}catch(i){throw new Error(`Failed to parse JSON response (at ${e.url}). Original error: "${i.name}: ${i.message}". Tried to parse: ${t}`)}}const _={tickets:{count:async function(){const{method:e,url:t}=l.count();try{const i=await f(e,t);return await v(i)}catch(e){throw o.logError("Error while fetching tickets count. "+e),e}},list:async function(e){const{method:t,url:i}=l.list(e);try{const e=await f(t,i);return await v(e)}catch(e){throw o.logError("Error while fetching tickets. "+e),e}},get:async function(e){const{method:t,url:i}=l.get(e);try{const e=await f(t,i);return await v(e)}catch(t){throw o.logError(`Error while fetching ticket ${e}. `+t),t}},send:async function(e){const{method:t,url:i}=l.send();try{const r=await f(t,i,e);return await v(r)}catch(e){throw o.logError("Error while sending new ticket. "+e),e}},close:async function(e){const{method:t,url:i}=l.close();try{const r=await f(t,i,e);return await v(r)}catch(t){throw o.logError(`Error while fetching ticket ${e.reportId}. `+t),t}},getSatisfactionRatings:async function(e){const{method:t,url:i}=l.getSatisfactionRatings(e);try{const e=await f(t,i);return await v(e)}catch(e){throw o.logError("Error while fetching ticket satisfaction ratings. "+e),e}},addSatisfactionRating:async function(e,t){const{method:i,url:r}=l.addSatisfactionRating(e);try{const e=await f(i,r,t);return await v(e)}catch(e){throw o.logError("Error while sending new ticket satisfaction rating. "+e),e}}},conversations:{list:async function(e,t){const{method:i,url:r}=h.list(e,t);try{const e=await f(i,r);return await v(e)}catch(e){throw o.logError("Error while fetching ticket conversations. "+e),e}},send:async function(e){const{method:t,url:i}=h.send();try{const r=await f(t,i,e);return await v(r)}catch(e){throw o.logError("Error while sending new ticket note. "+e),e}}},unreads:{get:async function(){const{method:e,url:t}=p.get();try{const i=await f(e,t);return await v(i)}catch(e){throw o.logWarn("Error while fetching support unreads count. "+e),e}},update:async function(e){const{method:t,url:i}=p.update();try{const r=await f(t,i,e);await T(r)}catch(e){throw o.logError("Error while updating ticket conversations unreads. "+e),e}},drop:async function(e){const{method:t,url:i}=p.drop();try{const r=await f(t,i,e);await T(r)}catch(e){throw o.logError("Error while dropping ticket conversations unreads. "+e),e}}},solutions:{getPopulars:async function(e){const{method:t,url:i}=g.getPopulars(e);try{const e=await f(t,i);return await v(e)}catch(e){throw o.logError("Error while fetching popular solutions. "+e),e}},getTree:async function(e){const{method:t,url:i}=g.getTree(e);try{const e=await f(t,i);return await v(e)}catch(e){throw o.logError("Error while fetching solutions tree. "+e),e}},search:async function(e,t){const{method:i,url:r}=g.search(e,t);try{const e=await f(i,r);return await v(e)}catch(e){
throw o.logError("Error while searching solutions. "+e),e}},get:async function(e,t){const{method:i,url:r}=g.get(e,t);try{const e=await f(i,r);return await v(e)}catch(t){throw o.logError(`Error while fetching solution ${e}. `+t),t}}},businessHours:{get:async function(){const{method:e,url:t}=w.get();try{const i=await f(e,t);return await v(i)}catch(e){throw o.logError("Error while fetching support business hours. "+e),e}}},freshdeskId:{get:async function(e){const{method:t,url:i}=k.get(e);try{const e=await f(t,i);return await v(e)}catch(e){throw o.logWarn("Error while fetching user Freshdesk ID. "+e),e}}},payment:{refund:async function(e){const{method:t,url:i}=m.refund();try{const r=await f(t,i,e);return await v(r)}catch(e){throw o.logWarn("Error while triggering refund "+e),e}}}}},150971:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SupportNotificationTools:()=>h});i(984919);var r=i(777754),n=i(779665),a=i(155040),o=i(869403),s=i.n(o),c=i(945275);const u=(0,i(272001).getLogger)("Notifications.Support");var d;!function(e){e.TicketReceived="ticket-received",e.AnswerReceived="answer-received",e.AnswerUpdated="answer-updated",e.TicketStatusChanged="ticket-status-changed",e.CustomerFeedbackReceived="customer-feedback-received"}(d||(d={}));let l=null;class h{constructor(){var e,t;if(this._ticketReceived=new(s()),this._answerReceived=new(s()),this._answerUpdated=new(s()),this._ticketStatusChanged=new(s()),this._customerFeedbackReceived=new(s()),this._countChanged=new(s()),this._count=0,!(0,c.isSupportApiAvailable)())return void u.logInfo("Stop SupportNotificationTools initialization because Support API is unavailable.");null!==(t=null===(e=window.pro)||void 0===e?void 0:e.isSupportAvailable())&&void 0!==t&&t?(this._handleLoginStateChange(),window.loginStateChange.subscribe(this,this._handleLoginStateChange)):u.logInfo("Stop SupportNotificationTools initialization because user is Free or Trial without active package.")}getCount(){return this._count}ticketReceived(){return this._ticketReceived}answerReceived(){return this._answerReceived}answerUpdated(){return this._answerUpdated}statusChanged(){return this._ticketStatusChanged}customerFeedbackReceived(){return this._customerFeedbackReceived}countChanged(){return this._countChanged}destroy(){window.loginStateChange.unsubscribe(this,this._handleLoginStateChange),this._unsubscribeFromPushStream(),this._ticketReceived.destroy(),this._answerReceived.destroy(),this._answerUpdated.destroy(),this._ticketStatusChanged.destroy(),this._customerFeedbackReceived.destroy(),this._countChanged.destroy(),l=null}static getInstance(){return null===l&&(l=new h),l}_subscribeToPushStream(){this._subscribeToTicketReceived(),this._subscribeToAnswerReceived(),this._subscribeToAnswerUpdated(),this._subscribeToTicketStatusChanged(),this._subscribeToCustomerFeedbackReceived()}_unsubscribeFromPushStream(){n.pushStreamMultiplexer.off(d.TicketReceived),n.pushStreamMultiplexer.off(d.AnswerReceived),n.pushStreamMultiplexer.off(d.AnswerUpdated),n.pushStreamMultiplexer.off(d.TicketStatusChanged),
n.pushStreamMultiplexer.off(d.CustomerFeedbackReceived)}_handleLoginStateChange(){window.pro&&window.pro.isSupportAvailable()?(this._subscribeToPushStream(),this._updateUnreadsCount()):this._unsubscribeFromPushStream()}_processTicketReceived(e){this._ticketReceived.fire(e)}_processAnswerReceived(e){const t={title:r.t(null,void 0,i(21730)),main:r.t(null,void 0,i(906426)).format({linkStart:'<a href="https://www.tradingview.com/#support">',linkEnd:"</a>"})};this._updateUnreadsCount(),a.show(t.title,t.main),this._answerReceived.fire(e)}_processAnswerUpdated(e){this._updateUnreadsCount(),this._answerUpdated.fire(e)}_processStatusChanged(e){this._ticketStatusChanged.fire(e)}_processCustomerFeedbackReceived(e){this._customerFeedbackReceived.fire(e)}_subscribeToTicketReceived(){n.pushStreamMultiplexer.on(d.TicketReceived,(e=>{this._processTicketReceived(e)}))}_subscribeToAnswerReceived(){n.pushStreamMultiplexer.on(d.AnswerReceived,(e=>{this._processAnswerReceived(e)}))}_subscribeToAnswerUpdated(){n.pushStreamMultiplexer.on(d.AnswerUpdated,(e=>{this._processAnswerUpdated(e)}))}_subscribeToTicketStatusChanged(){n.pushStreamMultiplexer.on(d.TicketStatusChanged,(e=>{this._processStatusChanged(e)}))}_subscribeToCustomerFeedbackReceived(){n.pushStreamMultiplexer.on(d.CustomerFeedbackReceived,(e=>{this._processCustomerFeedbackReceived(e)}))}_updateUnreadsCount(){if(!(0,c.isSupportApiAvailable)()){const e="Cannot fetch support unreads count because Support API is unavailable.";return u.logInfo(e),Promise.reject(e)}return c.supportApi.unreads.get().then((e=>{if(void 0!==e.unreadsCount&&e.unreadsCount>=0){const t=this._count;this._count=e.unreadsCount>=0?e.unreadsCount:t,this._countChanged.fire(this._count,t)}})).catch((e=>{u.logWarn("Failed to fetch unread tickets' answers: "+e)}))}}},965426:(e,t,i)=>{"use strict";var r=i(823127),n=i(778785).mobiletouch;!function(e,t,i){function r(r,n){n=n||r+i;var a=e(),o=r+"."+n+"-special-event";function s(t){e(a).each((function(){var i=e(this);this===t.target||i.has(t.target).length||i.triggerHandler(n,[t.target])}))}e.event.special[n]={setup:function(){delete(a=a.add(this)).prevObject,1===a.length&&e(t).bind(o,s)},teardown:function(){delete(a=a.not(this)).prevObject,0===a.length&&e(t).unbind(o)},add:function(e){var t=e.handler;e.handler=function(e,i){e.target=i,t.apply(this,arguments)}}}}e.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "),(function(e){r(e)})),r("focusin","focusoutside"),r("focusout","bluroutside"),n&&(r("touchstart","mousedownoutside"),r("touchmove","mousemoveoutside"),r("touchend","mouseupoutside")),e.addOutsideEvent=r}(r,document,"outside")},796955:e=>{e.exports={ar:["تحديث جديد"],ca_ES:["Nova actualització"],cs:"New Update",de:["Neues Update"],el:"New Update",en:"New Update",es:["Nueva actualización"],fa:"New Update",fr:["Nouvelle Mise à Jour"],he_IL:["עדכון חדש"],hu_HU:"New Update",id_ID:["Update Baru"],it:["Nuovo aggiornamento"],ja:["新しいアップデート"],ko:["새 업데이트"],ms_MY:["Kemas Kini Baru"],
nl_NL:"New Update",pl:["Nowa aktualizacja"],pt:["Nova atualização"],ro:"New Update",ru:["Обновление"],sv:["Ny uppdatering"],th:["ปรับปรุงใหม่"],tr:["Yeni Güncelleme"],vi:["Cập nhật mới"],zh:["新的更新"],zh_TW:["新的更新"]}},21730:e=>{e.exports={ar:["فريق دعم TradingView"],ca_ES:["Equip d'assistència de TradingView"],cs:"TradingView Support Team",de:"TradingView Support Team",el:"TradingView Support Team",en:"TradingView Support Team",es:["Equipo de soporte de TradingView"],fa:"TradingView Support Team",fr:["Equipe de support TradingView"],he_IL:["צוות תמיכה TradingView"],hu_HU:"TradingView Support Team",id_ID:["Tim Dukungan TradingView"],it:["Team di supporto TradingView"],ja:["TradingViewサポートチーム"],ko:["TradingView 서포트팀"],ms_MY:["Pasukan Sokongan TradingView"],nl_NL:"TradingView Support Team",pl:["Zespół wsparcia TradingView"],pt:["Time de Suporte do TradingView"],ro:"TradingView Support Team",ru:["Команда поддержки TradingView"],sv:["TradingView Supportteam"],th:["ฝ่ายสนับสนุนการใช้งานของTradingView"],tr:["TradingView Destek Ekibi"],vi:["Nhóm hỗ trợ của TradingView"],zh:["TradingView客服团队"],zh_TW:["TradingView 支援團隊"]}},906426:e=>{e.exports={ar:["لقد تلقيت ردا من فريق دعم TradingView. {linkStart} انقر هنا لرؤيتها. {linkEnd}"],ca_ES:["Heu rebut una resposta de l'equip d'assistència de TradingView. {linkStart}Cliqueu aquí per consultar-la{linkEnd}"],cs:"You have received response from TradingView support team. {linkStart}Click here to see it.{linkEnd}",de:["Sie haben eine Antwort vom TradingView Support Team erhalten. {linkStart}Klicken Sie hier, um sie zu sehen.{linkEnd}"],el:"You have received response from TradingView support team. {linkStart}Click here to see it.{linkEnd}",en:"You have received response from TradingView support team. {linkStart}Click here to see it.{linkEnd}",es:["Ha recibido una respuesta del equipo de soporte de TradingView. {linkStart}Haga clic aquí para verla.{linkEnd}"],fa:"You have received response from TradingView support team. {linkStart}Click here to see it.{linkEnd}",fr:["Vous avez reçu une réponse de l'équipe de support de TradingView. {linkStart} Cliquez ici pour la voir. {linkEnd}"],he_IL:["צוות התמיכה של TradingView השיב לך. ‎{linkStart}‎לחץ כאן כדי לראות זאת.‎{linkEnd}‎"],hu_HU:"You have received response from TradingView support team. {linkStart}Click here to see it.{linkEnd}",id_ID:["Anda telah menerima tanggapan dari tim dukungan TradingView. {linkStart}Klik disini untuk melihatnya.{linkEnd}"],it:["Hai ricevuto una risposta dal team di supporto tecnico di TradingView. {linkStart}Clicca qui per vederla.{linkEnd}"],ja:["TradingViewサポートチームから回答を受け取りました。{linkStart}ここをクリックしてください。{linkEnd}"],ko:["TradingView 서포트 팀의 답장입니다. {linkStart}여기를 클릭하여 읽어 보시기 바랍니다{linkEnd}"],ms_MY:["Anda telah menerima respons daripada pasukan sokongan TradingView. {linkStart} Klik di sini untuk melihatnya. {linkEnd}"],nl_NL:"You have received response from TradingView support team. {linkStart}Click here to see it.{linkEnd}",
pl:["Otrzymałeś odpowiedź od zespołu wsparcia TradingView. {linkStart}Kliknij tutaj aby ją zobaczyć.{linkEnd}"],pt:["Você recebeu uma resposta do time de suporte do TradingView. {linkStart}Clique aqui para ver.{linkEnd}"],ro:"You have received response from TradingView support team. {linkStart}Click here to see it.{linkEnd}",ru:["Вы получили ответ от команды поддержки TradingView. {linkStart}Нажмите здесь, чтобы увидеть его.{linkEnd}"],sv:["Du har fått svar från TradingView supportteam. {linkStart} Klicka här för att se det. {linkEnd}"],th:["คุณได้รับการตอบกลับจากฝ่ายสนับสนุนการใช้งานของเทรดดิ้งวิว {linkStart} คลิ๊กเพื่อดูมัน {linkEnd}"],tr:["{linkStart}Görmek için tıklayın.{linkEnd}"],vi:["Bạn đã nhận được phản hồi từ nhóm hỗ trợ TradingView. {linkStart}Nhấp vào đây để xem.{linkEnd}"],zh:["您已得到TradingView客服团队的回复。{linkStart}点击这里查看。{linkEnd}"],zh_TW:["您已收到TradingView支持團隊的回覆，{linkStart}點擊此處查看。{linkEnd}"]}}}]);