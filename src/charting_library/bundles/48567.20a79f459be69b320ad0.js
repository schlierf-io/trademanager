(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[48567,69204,32036,81186,46913,44874],{130551:(t,e)=>{"use strict";e.hasProperty=e.isObject=void 0,e.isObject=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)},e.hasProperty=function(t,e){return e in t}},302399:(t,e,r)=>{"use strict";r.d(e,{default:()=>c});var n=r(601141);const o=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};const i=function(t){return this.__data__.has(t)};function a(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n.default;++e<r;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i;const c=a},597888:(t,e,r)=>{"use strict";r.d(e,{default:()=>i});var n=r(638684),o=r(29419);const i=function(t,e){return function(r,n){if(null==r)return r;if(!(0,o.default)(r))return t(r,n);for(var i=r.length,a=e?i:-1,c=Object(r);(e?a--:++a<i)&&!1!==n(c[a],a,c););return r}}(n.default)},638684:(t,e,r)=>{"use strict";r.d(e,{default:()=>i});var n=r(429718),o=r(933358);const i=function(t,e){return t&&(0,n.default)(t,e,o.default)}},517487:(t,e,r)=>{"use strict";r.d(e,{default:()=>A});var n=r(396335),o=r(302399);const i=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1};var a=r(817651);const c=function(t,e,r,n,c,s){var u=1&r,l=t.length,f=e.length;if(l!=f&&!(u&&f>l))return!1;var d=s.get(t);if(d&&s.get(e))return d==e;var p=-1,v=!0,h=2&r?new o.default:void 0;for(s.set(t,e),s.set(e,t);++p<l;){var g=t[p],b=e[p];if(n)var w=u?n(b,g,p,e,t,s):n(g,b,p,t,e,s);if(void 0!==w){if(w)continue;v=!1;break}if(h){if(!i(e,(function(t,e){if(!(0,a.default)(h,e)&&(g===t||c(g,t,r,n,s)))return h.push(e)}))){v=!1;break}}else if(g!==b&&!c(g,b,r,n,s)){v=!1;break}}return s.delete(t),s.delete(e),v};var s=r(503060),u=r(735246),l=r(872575);const f=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r};var d=r(870729),p=s.default?s.default.prototype:void 0,v=p?p.valueOf:void 0;const h=function(t,e,r,n,o,i,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new u.default(t),new u.default(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,l.default)(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=f;case"[object Set]":var p=1&n;if(s||(s=d.default),t.size!=e.size&&!p)return!1;var h=a.get(t);if(h)return h==e;n|=2,a.set(t,e);var g=c(s(t),s(e),n,o,i,a);return a.delete(t),g;case"[object Symbol]":if(v)return v.call(t)==v.call(e)}return!1};var g=r(885747),b=Object.prototype.hasOwnProperty;const w=function(t,e,r,n,o,i){var a=1&r,c=(0,g.default)(t),s=c.length;if(s!=(0,g.default)(e).length&&!a)return!1;for(var u=s;u--;){var l=c[u];if(!(a?l in e:b.call(e,l)))return!1}var f=i.get(t);if(f&&i.get(e))return f==e;var d=!0;i.set(t,e),i.set(e,t);for(var p=a;++u<s;){var v=t[l=c[u]],h=e[l]
;if(n)var w=a?n(h,v,l,e,t,i):n(v,h,l,t,e,i);if(!(void 0===w?v===h||o(v,h,r,n,i):w)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var m=t.constructor,y=e.constructor;m==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y||(d=!1)}return i.delete(t),i.delete(e),d};var m=r(903427),y=r(854814),k=r(925247),C=r(54744),j="[object Arguments]",x="[object Array]",T="[object Object]",_=Object.prototype.hasOwnProperty;const E=function(t,e,r,o,i,a){var s=(0,y.default)(t),u=(0,y.default)(e),l=s?x:(0,m.default)(t),f=u?x:(0,m.default)(e),d=(l=l==j?T:l)==T,p=(f=f==j?T:f)==T,v=l==f;if(v&&(0,k.default)(t)){if(!(0,k.default)(e))return!1;s=!0,d=!1}if(v&&!d)return a||(a=new n.default),s||(0,C.default)(t)?c(t,e,r,o,i,a):h(t,e,l,r,o,i,a);if(!(1&r)){var g=d&&_.call(t,"__wrapped__"),b=p&&_.call(e,"__wrapped__");if(g||b){var E=g?t.value():t,O=b?e.value():e;return a||(a=new n.default),i(E,O,r,o,a)}}return!!v&&(a||(a=new n.default),w(t,e,r,o,i,a))};var O=r(383527);const A=function t(e,r,n,o,i){return e===r||(null==e||null==r||!(0,O.default)(e)&&!(0,O.default)(r)?e!=e&&r!=r:E(e,r,n,o,t,i))}},498827:(t,e,r)=>{"use strict";r.d(e,{default:()=>j});var n=r(396335),o=r(517487);const i=function(t,e,r,i){var a=r.length,c=a,s=!i;if(null==t)return!c;for(t=Object(t);a--;){var u=r[a];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<c;){var l=(u=r[a])[0],f=t[l],d=u[1];if(s&&u[2]){if(void 0===f&&!(l in t))return!1}else{var p=new n.default;if(i)var v=i(f,d,l,t,e,p);if(!(void 0===v?(0,o.default)(d,f,3,i,p):v))return!1}}return!0};var a=r(598279);const c=function(t){return t==t&&!(0,a.default)(t)};var s=r(933358);const u=function(t){for(var e=(0,s.default)(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,c(o)]}return e};const l=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}};const f=function(t){var e=u(t);return 1==e.length&&e[0][2]?l(e[0][0],e[0][1]):function(r){return r===t||i(r,t,e)}};var d=r(580838);const p=function(t,e,r){var n=null==t?void 0:(0,d.default)(t,e);return void 0===n?r:n};var v=r(22321),h=r(973204),g=r(887844);const b=function(t,e){return(0,h.default)(t)&&c(e)?l((0,g.default)(t),e):function(r){var n=p(r,t);return void 0===n&&n===e?(0,v.default)(r,t):(0,o.default)(e,n,3)}};var w=r(999097),m=r(854814),y=r(77046);const k=function(t){return function(e){return(0,d.default)(e,t)}};const C=function(t){return(0,h.default)(t)?(0,y.default)((0,g.default)(t)):k(t)};const j=function(t){return"function"==typeof t?t:null==t?w.default:"object"==typeof t?(0,m.default)(t)?b(t[0],t[1]):f(t):C(t)}},77046:(t,e,r)=>{"use strict";r.d(e,{default:()=>n});const n=function(t){return function(e){return null==e?void 0:e[t]}}},817651:(t,e,r)=>{"use strict";r.d(e,{default:()=>n});const n=function(t,e){return t.has(e)}},870729:(t,e,r)=>{"use strict";r.d(e,{default:()=>n});const n=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},277973:(t,e,r)=>{"use strict";r.d(e,{default:()=>n});const n=function(t){return null===t}},
827147:(t,e,r)=>{"use strict";r.d(e,{default:()=>a});var n=r(128177),o=r(854814),i=r(383527);const a=function(t){return"string"==typeof t||!(0,o.default)(t)&&(0,i.default)(t)&&"[object String]"==(0,n.default)(t)}},213398:function(t,e){var r,n,o,i;i=function(t){var e=Object.prototype.toString,r=Array.isArray||function(t){return"[object Array]"===e.call(t)};function n(t){return"function"==typeof t}function o(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(t,e){return null!=t&&"object"==typeof t&&e in t}var a=RegExp.prototype.test,c=/\S/;function s(t){return!function(t,e){return a.call(t,e)}(c,t)}var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},l=/\s*/,f=/\s+/,d=/\s*=/,p=/\s*\}/,v=/#|\^|\/|>|\{|&|=|!/;function h(t){this.string=t,this.tail=t,this.pos=0}function g(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function b(){this.cache={}}h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var r=e[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r},h.prototype.scanUntil=function(t){var e,r=this.tail.search(t);switch(r){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=e.length,e},g.prototype.push=function(t){return new g(t,this)},g.prototype.lookup=function(t){var e,r=this.cache;if(r.hasOwnProperty(t))e=r[t];else{for(var o,a,c=this,s=!1;c;){if(t.indexOf(".")>0)for(e=c.view,o=t.split("."),a=0;null!=e&&a<o.length;)a===o.length-1&&(s=i(e,o[a])),e=e[o[a++]];else e=c.view[t],s=i(c.view,t);if(s)break;c=c.parent}r[t]=e}return n(e)&&(e=e.call(this.view)),e},b.prototype.clearCache=function(){this.cache={}},b.prototype.parse=function(e,n){var i=this.cache,a=i[e];return null==a&&(a=i[e]=function(e,n){if(!e)return[];var i,a,c,u=[],g=[],b=[],w=!1,m=!1;function y(){if(w&&!m)for(;b.length;)delete g[b.pop()];else b=[];w=!1,m=!1}function k(t){if("string"==typeof t&&(t=t.split(f,2)),!r(t)||2!==t.length)throw new Error("Invalid tags: "+t);i=new RegExp(o(t[0])+"\\s*"),a=new RegExp("\\s*"+o(t[1])),c=new RegExp("\\s*"+o("}"+t[1]))}k(n||t.tags);for(var C,j,x,T,_,E,O=new h(e);!O.eos();){if(C=O.pos,x=O.scanUntil(i))for(var A=0,D=x.length;A<D;++A)s(T=x.charAt(A))?b.push(g.length):m=!0,g.push(["text",T,C,C+1]),C+=1,"\n"===T&&y();if(!O.scan(i))break;if(w=!0,j=O.scan(v)||"name",O.scan(l),"="===j?(x=O.scanUntil(d),O.scan(d),O.scanUntil(a)):"{"===j?(x=O.scanUntil(c),O.scan(p),O.scanUntil(a),j="&"):x=O.scanUntil(a),!O.scan(a))throw new Error("Unclosed tag at "+O.pos);if(_=[j,x,C,O.pos],g.push(_),"#"===j||"^"===j)u.push(_);else if("/"===j){if(!(E=u.pop()))throw new Error('Unopened section "'+x+'" at '+C);if(E[1]!==x)throw new Error('Unclosed section "'+E[1]+'" at '+C)}else"name"===j||"{"===j||"&"===j?m=!0:"="===j&&k(x)}if(E=u.pop())throw new Error('Unclosed section "'+E[1]+'" at '+O.pos);return function(t){for(var e,r=[],n=r,o=[],i=0,a=t.length;i<a;++i)switch((e=t[i])[0]){case"#":
case"^":n.push(e),o.push(e),n=e[4]=[];break;case"/":o.pop()[5]=e[2],n=o.length>0?o[o.length-1][4]:r;break;default:n.push(e)}return r}(function(t){for(var e,r,n=[],o=0,i=t.length;o<i;++o)(e=t[o])&&("text"===e[0]&&r&&"text"===r[0]?(r[1]+=e[1],r[3]=e[3]):(n.push(e),r=e));return n}(g))}(e,n)),a},b.prototype.render=function(t,e,r){var n=this.parse(t),o=e instanceof g?e:new g(e);return this.renderTokens(n,o,r,t)},b.prototype.renderTokens=function(t,e,r,n){for(var o,i,a,c="",s=0,u=t.length;s<u;++s)a=void 0,"#"===(i=(o=t[s])[0])?a=this.renderSection(o,e,r,n):"^"===i?a=this.renderInverted(o,e,r,n):">"===i?a=this.renderPartial(o,e,r,n):"&"===i?a=this.unescapedValue(o,e):"name"===i?a=this.escapedValue(o,e):"text"===i&&(a=this.rawValue(o)),void 0!==a&&(c+=a);return c},b.prototype.renderSection=function(t,e,o,i){var a=this,c="",s=e.lookup(t[1]);if(s){if(r(s))for(var u=0,l=s.length;u<l;++u)c+=this.renderTokens(t[4],e.push(s[u]),o,i);else if("object"==typeof s||"string"==typeof s||"number"==typeof s)c+=this.renderTokens(t[4],e.push(s),o,i);else if(n(s)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(s=s.call(e.view,i.slice(t[3],t[5]),(function(t){return a.render(t,e,o)})))&&(c+=s)}else c+=this.renderTokens(t[4],e,o,i);return c}},b.prototype.renderInverted=function(t,e,n,o){var i=e.lookup(t[1]);if(!i||r(i)&&0===i.length)return this.renderTokens(t[4],e,n,o)},b.prototype.renderPartial=function(t,e,r){if(r){var o=n(r)?r(t[1]):r[t[1]];return null!=o?this.renderTokens(this.parse(o),e,r,o):void 0}},b.prototype.unescapedValue=function(t,e){var r=e.lookup(t[1]);if(null!=r)return r},b.prototype.escapedValue=function(e,r){var n=r.lookup(e[1]);if(null!=n)return t.escape(n)},b.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.2.1",t.tags=["{{","}}"];var w=new b;t.clearCache=function(){return w.clearCache()},t.parse=function(t,e){return w.parse(t,e)},t.render=function(t,e,n){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(r(o=t)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return w.render(t,e,n)},t.to_html=function(e,r,o,i){var a=t.render(e,r,o);if(!n(i))return a;i(a)},t.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return u[t]}))},t.Scanner=h,t.Context=g,t.Writer=b},e&&"string"!=typeof e.nodeName?i(e):(n=[e],void 0===(o="function"==typeof(r=i)?r.apply(e,n):r)||(t.exports=o))},687795:t=>{"use strict";const e=55296,r=127995,n=127999,o=[776,2359,2359,2367,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520];function i(t){if("string"!=typeof t)throw new Error("string cannot be undefined or null");const e=[];let r=0,n=0;for(;r<t.length;)n+=a(r+n,t),l(t[r+n])&&n++,s(t[r+n])&&n++,u(t[r+n])&&n++,f(t[r+n])?n++:(e.push(t.substring(r,r+n)),r+=n,n=0);return e}function a(t,o){const i=o[t];if(!function(t){return t&&p(t[0].charCodeAt(0),e,56319)}(i)||t===o.length-1)return 1;const a=i+o[t+1];let s=o.substring(t+2,t+5)
;return c(a)&&c(s)||function(t){return p(d(t),r,n)}(s)?4:2}function c(t){return p(d(t),127462,127487)}function s(t){return"string"==typeof t&&p(t.charCodeAt(0),65024,65039)}function u(t){return"string"==typeof t&&p(t.charCodeAt(0),8400,8447)}function l(t){return"string"==typeof t&&-1!==o.indexOf(t.charCodeAt(0))}function f(t){return"string"==typeof t&&8205===t.charCodeAt(0)}function d(t){return(t.charCodeAt(0)-e<<10)+(t.charCodeAt(1)-56320)+65536}function p(t,e,r){return t>=e&&t<=r}t.exports=i,t.exports.substr=function(t,e,r){const n=i(t);if(void 0===e)return t;if(e>=n.length)return"";const o=n.length-e;let a=e+(void 0===r?o:r);return a>e+o&&(a=void 0),n.slice(e,a).join("")}},39697:t=>{t.exports={}},965426:(t,e,r)=>{"use strict";var n=r(823127),o=r(778785).mobiletouch;!function(t,e,r){function n(n,o){o=o||n+r;var i=t(),a=n+"."+o+"-special-event";function c(e){t(i).each((function(){var r=t(this);this===e.target||r.has(e.target).length||r.triggerHandler(o,[e.target])}))}t.event.special[o]={setup:function(){delete(i=i.add(this)).prevObject,1===i.length&&t(e).bind(a,c)},teardown:function(){delete(i=i.not(this)).prevObject,0===i.length&&t(e).unbind(a)},add:function(t){var e=t.handler;t.handler=function(t,r){t.target=r,e.apply(this,arguments)}}}}t.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "),(function(t){n(t)})),n("focusin","focusoutside"),n("focusout","bluroutside"),o&&(n("touchstart","mousedownoutside"),n("touchmove","mousemoveoutside"),n("touchend","mouseupoutside")),t.addOutsideEvent=n}(n,document,"outside")},368993:(t,e,r)=>{"use strict";r(39697),r(881666),r(393339);var n=r(724377),o=n.rgba,i=n.areEqualRgb,a=n.areEqualRgba,c=n.normalizeHue,s=n.normalizeHsvSaturation,u=n.normalizeValue,l=n.hsv,f=n.rgbToHsv,d=n.hsvToRgb,p=n.rgbToString,v=n.rgbaToString,h=n.parseRgb,g=n.parseRgba,b=r(823758),w=r(791325).ESC;!function(t){if(!t)throw new Error("This program cannot be run in DOS mode");k.setCustomColors=y,t.fn.tvcolorpicker=k;var e=[],n="rgb(14, 15, 16)";function m(t){return""===t?t:v(g(t))}function y(t){t&&(t.join||(t=t?(""+t).split(","):[]),e=t)}function k(C){var j;function x(e,r,n){var i=t(this);e=v(o(h(e),r)),T.call(this,e),i.removeData("tvcolorpicker").removeData("tvcolorpicker-custom-color"),n&&(A.call(i),i.blur())}function T(e){var r=t(this);r.val(e),r.change(),e?r.trigger("pick-color",e):r.trigger("pick-transparent"),_.call(this,e)}function _(e){""!==e?(t(this).removeClass("tvcolorpicker-gradient-widget"),t(this).css({backgroundColor:e,color:e})):t(this).addClass("tvcolorpicker-gradient-widget")}function E(e,r){r=r||{};var n,o=this,a=o.prop("ownerDocument"),c=t(o).val().toLowerCase(),s=a.createElement("table"),u=a.createElement("tbody");s.appendChild(u);var l=0;return t.each(e,(function(e,a){l++,e%10==0&&(n=t("<tr></tr>").appendTo(u))
;var s=t('<td class="tvcolorpicker-cell"></td>').appendTo(n),f=t('<div class="tvcolorpicker-transparency"><div class="tvcolorpicker-swatch"></div></div>').appendTo(s).find(".tvcolorpicker-swatch").data("color",a);r.addClass&&f.addClass(r.addClass),a&&(a=a.toLowerCase(),c&&i(h(c),h(a))&&f.addClass("active"),f.css({backgroundColor:a}).data("color",a),f.bind("click",(function(){x.call(o,a,j.val(),!0)})))})),t(s).addClass("tvcolorpicker-table"),l?s:t()}function O(i){var w=!1,m=t(this),y=m.prop("ownerDocument"),k=t('<div class="tvcolorpicker-popup opened">'),C=t('<div class="tvcolorpicker-swatches-area"></div>').appendTo(k);C.append(E.call(this,["rgb(0, 0, 0)","rgb(66, 66, 66)","rgb(101, 101, 101)","rgb(152, 152, 152)","rgb(182, 182, 182)","rgb(203, 203, 203)","rgb(216, 216, 216)","rgb(238, 238, 238)","rgb(242, 242, 242)","rgb(255, 255, 255)"])),C.append(E.call(this,["rgb(151, 0, 0)","rgb(255, 0, 0)","rgb(255, 152, 0)","rgb(255, 255, 0)","rgb(0, 255, 0)","rgb(0, 255, 255)","rgb(73, 133, 231)","rgb(0, 0, 255)","rgb(152, 0, 255)","rgb(255, 0, 255)"])),C.append(E.call(this,["rgb(230, 184, 175)","rgb(244, 204, 204)","rgb(252, 229, 205)","rgb(255, 242, 204)","rgb(217, 234, 211)","rgb(208, 224, 227)","rgb(201, 218, 248)","rgb(207, 226, 243)","rgb(217, 210, 233)","rgb(234, 209, 220)","rgb(221, 126, 107)","rgb(234, 153, 153)","rgb(249, 203, 156)","rgb(255, 229, 153)","rgb(182, 215, 168)","rgb(162, 196, 201)","rgb(164, 194, 244)","rgb(159, 197, 232)","rgb(180, 167, 214)","rgb(213, 166, 189)","rgb(204, 65, 37)","rgb(224, 102, 102)","rgb(246, 178, 107)","rgb(255, 217, 102)","rgb(147, 196, 125)","rgb(118, 165, 175)","rgb(109, 158, 235)","rgb(111, 168, 220)","rgb(142, 124, 195)","rgb(194, 123, 160)","rgb(166, 28, 0)","rgb(204, 0, 0)","rgb(230, 145, 56)","rgb(241, 194, 50)","rgb(106, 168, 79)","rgb(69, 129, 142)","rgb(60, 120, 216)","rgb(61, 133, 198)","rgb(103, 78, 167)","rgb(166, 77, 121)","rgb(133, 32, 12)","rgb(153, 0, 0)","rgb(180, 95, 6)","rgb(191, 144, 0)","rgb(56, 118, 29)","rgb(19, 79, 92)","rgb(17, 85, 204)","rgb(11, 83, 148)","rgb(53, 28, 117)","rgb(116, 27, 71)","rgb(91, 15, 0)","rgb(102, 0, 0)","rgb(120, 63, 4)","rgb(127, 96, 0)","rgb(39, 78, 19)","rgb(12, 52, 61)","rgb(28, 69, 135)","rgb(7, 55, 99)","rgb(32, 18, 77)","rgb(76, 17, 48)"]));var _=t('<div class="tvcolorpicker-custom-area"></div>').css({display:"none"}).appendTo(k),O=t('<div class="tvcolorpicker-hsv"></div>').appendTo(_),A=t('<div class="tvcolorpicker-hs"></div>').appendTo(O),S=t('<div class="tvcolorpicker-hs-handle"></div>').appendTo(A),U=t('<div class="tvcolorpicker-hs-area"></div>').appendTo(A),R=t('<div class="tvcolorpicker-vv">').appendTo(O),L=t('<div class="tvcolorpicker-v"></div>').appendTo(R),V=t('<div class="tvcolorpicker-v-handle"></div>').appendTo(L),P=t('<div class="tvcolorpicker-v-area"></div>').appendTo(L);(j=b(t(this),i.hideTransparency)).initEvents(),j.updateColor(),j.$el.appendTo(k),j.val(g(m.val()||n)[3]);var z=A.height(),H=A.width(),Y=!1,I=!1,W=!0,X=[0,0,.5];function q(t){
var e=t.originalEvent,r=t.offsetX||t.layerX||e&&(e.offsetX||e.layerX)||0,n=t.offsetY||t.layerY||e&&(e.offsetY||e.layerY)||0;S.css({left:r+"px",top:n+"px"}),X[0]=c(r/H),X[1]=s(1-n/z),L.css({backgroundColor:p(d(l(X[0],X[1],1)))}),N()}function M(e){1==e.which&&(Y=!1,k.is(".opened")&&t(m).get(0).focus())}function $(e){var r=function(e){var r=e.pageY,n=t(P),o=r-n.offset().top;return o>n.height()?n.height():o<0?0:o}(e);V.css({top:r+"px"}),X[2]=u(1-Math.max(0,Math.min(r,z))/z),N()}function B(e){1==e.which&&(I=!1,t(y).unbind("mouseup",B),k.is(".opened")&&t(m).get(0).focus())}function N(){W&&(W=!1,k.find(".tvcolorpicker-swatch.active").removeClass("active"));var t=o(d(X),j.val());if(!a(g(m.val().toUpperCase()),t)){var e=v(t);m.data("tvcolorpicker-custom-color",e),T.call(m,e)}}U.bind("mousedown",(function(e){1==e.which&&(Y=!0,t(y).bind("mouseup",M),q(e),e.preventDefault())})),U.bind("mousemove",(function(t){Y&&(q(t),t.preventDefault())})),t(j).on("change",function(){w?N():x.call(this,t(this).val()||n,j.val())}.bind(this)),t(j).on("afterChange",function(){t(this).focus()}.bind(this)),R.bind("mousedown",(function(e){1==e.which&&(I=!0,t(y).bind("mouseup",B),$(e),e.preventDefault())})),t(y).bind("mousemove",(function(t){I&&($(t),t.preventDefault())}));t('<a class="tvcolorpicker-custom-button _tv-button">'+r(777754).t(null,void 0,r(41584))+"</a>").appendTo(k).bind("click",(function(){var e=t(this).is(".active");if(e||_.css({minWidth:C.width()+"px",minHeight:C.height()+"px"}),t(this)[e?"removeClass":"addClass"]("active"),w=t(this).is(".active"),_.css({display:e?"none":"block"}),C.css({display:e?"block":"none"}),e)m.removeData("tvcolorpicker-custom-color");else{z=A.height(),H=A.width();var r=h(m.val()||n);X=f(r),S.css({left:~~(X[0]*H)+"px",top:~~((1-X[1])*z)+"px"}),V.css({top:~~((1-X[2])*z)+"px"}),L.css({backgroundColor:p(d(l(X[0],X[1],1)))})}}));return k.append(t(E.call(this,e,{addClass:"tvcolorpicker-user"})).addClass("tvcolorpicker-user-swatches")),t(y.body).append(k),function(e,r,n){var o,i=t(e).prop("ownerDocument"),a=i.defaultView,c=t(e).offset(),s=(t(i).scrollLeft(),t(i).scrollTop()),u=t(e).outerWidth(),l=t(e).outerHeight(),f=t(a).width(),d=t(a).height(),p=t(r).outerWidth(),v=t(r).outerHeight();switch("function"==typeof n.direction?n.direction():n.direction){default:case"down":o={top:c.top+l+n.offset,left:c.left+n.drift};break;case"right":o={top:c.top+n.drift,left:c.left+u+n.offset}}o.top+v>d+s&&(o.top=d-v+s),c.left+p>f&&(o.left=f-p),o.left+="px",o.top+="px",r.css(o)}(m,k,i),y.addEventListener("keydown",D,!1),k}function A(){var r=t(this).prop("ownerDocument")||document;t(r).find(".tvcolorpicker-popup").removeClass("opened").remove(),t(j).off("change"),t(j).off("afterChange"),r.removeEventListener("keydown",D,!1),t(S).data("tvcolorpicker",null),t(S).each((function(){var r=t(this).data("tvcolorpicker-custom-color");r&&(function(r){var n=!1,o=h(r);return t.each(e,(function(t,e){if(i(h(e),o))return n=!0,!1})),!n&&(e=[p(o)].concat(e.slice(0,28)),!0)}(r)&&t(this).trigger("customcolorchange",[e]),
t(this).data("tvcolorpicker-custom-color",null));var n=t(this).data("tvcolorpicker-previous-color");n&&n!=t(this).val()&&t(this).trigger("change"),t(this).removeData("tvcolorpicker-previous-color")}))}function D(t){t.keyCode===w&&(A.call(S),S.blur())}C=t.extend({},k.options,C||{});var S=this;return C&&"customColors"in C&&y(C.customColors),this.each((function(){var e=t(this);e.val(m(e.val()));var r=null,n=!1;e.addClass("tvcolorpicker-widget").attr("autocomplete","off").attr("readonly",!0);var o=function(){e.data("tvcolorpicker")||(A.call(e),r=O.call(e,C),e.data("tvcolorpicker-custom-color",null),e.data("tvcolorpicker",r),e.data("tvcolorpicker-previous-color",e.val()),r.bind("mousedown click",(function(o){t(o.target).parents().andSelf().is(r)&&(e.focus(),n=!0,setTimeout((function(){n=!1}),0))})))};function i(){var t=m(e.val());_.call(e,t)}e.on("touchstart",o),e.focus(o),A.call(e),e.bind("blur",(function(t){n?t.stopPropagation():A.call(e)})),e.change((function(t){i()})),i()}))}k.options={direction:"down",offset:0,drift:0}}(window.jQuery)}}]);